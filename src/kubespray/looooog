Using /home/antigen/diplom/kubespray/ansible.cfg as config file

PLAY [localhost] ***************************************************************
Четверг 20 июля 2023  22:20:14 +0300 (0:00:00.027)       0:00:00.027 ********** 

TASK [Check 2.11.0 <= Ansible version < 2.13.0] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:20:14 +0300 (0:00:00.042)       0:00:00.070 ********** 

TASK [Check that python netaddr is installed] **********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:20:14 +0300 (0:00:00.099)       0:00:00.169 ********** 

TASK [Check that jinja is not too old (install via pip)] ***********************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

PLAY [Add kube-master nodes to kube_control_plane] *****************************
skipping: no hosts matched

PLAY [Add kube-node nodes to kube_node] ****************************************
skipping: no hosts matched

PLAY [Add k8s-cluster nodes to k8s_cluster] ************************************
skipping: no hosts matched

PLAY [Add calico-rr nodes to calico_rr] ****************************************
skipping: no hosts matched

PLAY [Add no-floating nodes to no_floating] ************************************
skipping: no hosts matched

PLAY [bastion[0]] **************************************************************
skipping: no hosts matched

PLAY [k8s_cluster:etcd:calico_rr] **********************************************
Четверг 20 июля 2023  22:20:14 +0300 (0:00:00.083)       0:00:00.252 ********** 
Четверг 20 июля 2023  22:20:14 +0300 (0:00:00.094)       0:00:00.347 ********** 
Четверг 20 июля 2023  22:20:14 +0300 (0:00:00.051)       0:00:00.398 ********** 
Четверг 20 июля 2023  22:20:14 +0300 (0:00:00.043)       0:00:00.441 ********** 
Четверг 20 июля 2023  22:20:15 +0300 (0:00:00.104)       0:00:00.546 ********** 
Четверг 20 июля 2023  22:20:15 +0300 (0:00:00.089)       0:00:00.635 ********** 
Четверг 20 июля 2023  22:20:15 +0300 (0:00:00.186)       0:00:00.822 ********** 
Четверг 20 июля 2023  22:20:15 +0300 (0:00:00.101)       0:00:00.923 ********** 
Четверг 20 июля 2023  22:20:15 +0300 (0:00:00.049)       0:00:00.973 ********** 
Четверг 20 июля 2023  22:20:15 +0300 (0:00:00.101)       0:00:01.075 ********** 
Четверг 20 июля 2023  22:20:17 +0300 (0:00:01.620)       0:00:02.695 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node1] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node2] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:20:17 +0300 (0:00:00.183)       0:00:02.879 ********** 
Четверг 20 июля 2023  22:20:17 +0300 (0:00:00.043)       0:00:02.922 ********** 
Четверг 20 июля 2023  22:20:17 +0300 (0:00:00.025)       0:00:02.948 ********** 
Четверг 20 июля 2023  22:20:17 +0300 (0:00:00.074)       0:00:03.023 ********** 
Четверг 20 июля 2023  22:20:17 +0300 (0:00:00.024)       0:00:03.048 ********** 
Четверг 20 июля 2023  22:20:17 +0300 (0:00:00.155)       0:00:03.203 ********** 
Четверг 20 июля 2023  22:20:17 +0300 (0:00:00.122)       0:00:03.326 ********** 

TASK [bootstrap-os : Fetch /etc/os-release] ************************************
ok: [node1] => {"changed": false, "rc": 0, "stderr": "Shared connection to 51.250.39.181 closed.\r\n", "stderr_lines": ["Shared connection to 51.250.39.181 closed."], "stdout": "NAME=\"Ubuntu\"\r\nVERSION=\"20.04.6 LTS (Focal Fossa)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 20.04.6 LTS\"\r\nVERSION_ID=\"20.04\"\r\nHOME_URL=\"https://www.ubuntu.com/\"\r\nSUPPORT_URL=\"https://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\r\nPRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"\r\nVERSION_CODENAME=focal\r\nUBUNTU_CODENAME=focal\r\n", "stdout_lines": ["NAME=\"Ubuntu\"", "VERSION=\"20.04.6 LTS (Focal Fossa)\"", "ID=ubuntu", "ID_LIKE=debian", "PRETTY_NAME=\"Ubuntu 20.04.6 LTS\"", "VERSION_ID=\"20.04\"", "HOME_URL=\"https://www.ubuntu.com/\"", "SUPPORT_URL=\"https://help.ubuntu.com/\"", "BUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"", "PRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"", "VERSION_CODENAME=focal", "UBUNTU_CODENAME=focal"]}
ok: [node2] => {"changed": false, "rc": 0, "stderr": "Shared connection to 158.160.111.1 closed.\r\n", "stderr_lines": ["Shared connection to 158.160.111.1 closed."], "stdout": "NAME=\"Ubuntu\"\r\nVERSION=\"20.04.6 LTS (Focal Fossa)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 20.04.6 LTS\"\r\nVERSION_ID=\"20.04\"\r\nHOME_URL=\"https://www.ubuntu.com/\"\r\nSUPPORT_URL=\"https://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\r\nPRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"\r\nVERSION_CODENAME=focal\r\nUBUNTU_CODENAME=focal\r\n", "stdout_lines": ["NAME=\"Ubuntu\"", "VERSION=\"20.04.6 LTS (Focal Fossa)\"", "ID=ubuntu", "ID_LIKE=debian", "PRETTY_NAME=\"Ubuntu 20.04.6 LTS\"", "VERSION_ID=\"20.04\"", "HOME_URL=\"https://www.ubuntu.com/\"", "SUPPORT_URL=\"https://help.ubuntu.com/\"", "BUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"", "PRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"", "VERSION_CODENAME=focal", "UBUNTU_CODENAME=focal"]}
ok: [master] => {"changed": false, "rc": 0, "stderr": "Shared connection to 84.252.139.67 closed.\r\n", "stderr_lines": ["Shared connection to 84.252.139.67 closed."], "stdout": "NAME=\"Ubuntu\"\r\nVERSION=\"20.04.6 LTS (Focal Fossa)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 20.04.6 LTS\"\r\nVERSION_ID=\"20.04\"\r\nHOME_URL=\"https://www.ubuntu.com/\"\r\nSUPPORT_URL=\"https://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\r\nPRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"\r\nVERSION_CODENAME=focal\r\nUBUNTU_CODENAME=focal\r\n", "stdout_lines": ["NAME=\"Ubuntu\"", "VERSION=\"20.04.6 LTS (Focal Fossa)\"", "ID=ubuntu", "ID_LIKE=debian", "PRETTY_NAME=\"Ubuntu 20.04.6 LTS\"", "VERSION_ID=\"20.04\"", "HOME_URL=\"https://www.ubuntu.com/\"", "SUPPORT_URL=\"https://help.ubuntu.com/\"", "BUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"", "PRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"", "VERSION_CODENAME=focal", "UBUNTU_CODENAME=focal"]}
Четверг 20 июля 2023  22:20:18 +0300 (0:00:00.841)       0:00:04.168 ********** 
Четверг 20 июля 2023  22:20:18 +0300 (0:00:00.088)       0:00:04.256 ********** 
Четверг 20 июля 2023  22:20:18 +0300 (0:00:00.074)       0:00:04.331 ********** 
Четверг 20 июля 2023  22:20:18 +0300 (0:00:00.080)       0:00:04.412 ********** 
Четверг 20 июля 2023  22:20:18 +0300 (0:00:00.079)       0:00:04.491 ********** 
Четверг 20 июля 2023  22:20:19 +0300 (0:00:00.075)       0:00:04.567 ********** 
Четверг 20 июля 2023  22:20:19 +0300 (0:00:00.069)       0:00:04.637 ********** 

TASK [bootstrap-os : include_tasks] ********************************************
included: /home/antigen/diplom/kubespray/roles/bootstrap-os/tasks/bootstrap-debian.yml for master, node1, node2
Четверг 20 июля 2023  22:20:19 +0300 (0:00:00.143)       0:00:04.781 ********** 

TASK [bootstrap-os : Check if bootstrap is needed] *****************************
ok: [master] => {"changed": false, "failed_when_result": false, "rc": 0, "stderr": "Shared connection to 84.252.139.67 closed.\r\n", "stderr_lines": ["Shared connection to 84.252.139.67 closed."], "stdout": "/usr/bin/python3\r\n", "stdout_lines": ["/usr/bin/python3"]}
ok: [node1] => {"changed": false, "failed_when_result": false, "rc": 0, "stderr": "Shared connection to 51.250.39.181 closed.\r\n", "stderr_lines": ["Shared connection to 51.250.39.181 closed."], "stdout": "/usr/bin/python3\r\n", "stdout_lines": ["/usr/bin/python3"]}
ok: [node2] => {"changed": false, "failed_when_result": false, "rc": 0, "stderr": "Shared connection to 158.160.111.1 closed.\r\n", "stderr_lines": ["Shared connection to 158.160.111.1 closed."], "stdout": "/usr/bin/python3\r\n", "stdout_lines": ["/usr/bin/python3"]}
Четверг 20 июля 2023  22:20:19 +0300 (0:00:00.276)       0:00:05.057 ********** 

TASK [bootstrap-os : Check http::proxy in apt configuration files] *************
ok: [master] => {"changed": false, "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "stderr": "Shared connection to 84.252.139.67 closed.\r\n", "stderr_lines": ["Shared connection to 84.252.139.67 closed."], "stdout": "", "stdout_lines": []}
ok: [node1] => {"changed": false, "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "stderr": "Shared connection to 51.250.39.181 closed.\r\n", "stderr_lines": ["Shared connection to 51.250.39.181 closed."], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "stderr": "Shared connection to 158.160.111.1 closed.\r\n", "stderr_lines": ["Shared connection to 158.160.111.1 closed."], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:20:19 +0300 (0:00:00.208)       0:00:05.266 ********** 
Четверг 20 июля 2023  22:20:19 +0300 (0:00:00.082)       0:00:05.348 ********** 

TASK [bootstrap-os : Check https::proxy in apt configuration files] ************
ok: [master] => {"changed": false, "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "stderr": "Shared connection to 84.252.139.67 closed.\r\n", "stderr_lines": ["Shared connection to 84.252.139.67 closed."], "stdout": "", "stdout_lines": []}
ok: [node1] => {"changed": false, "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "stderr": "Shared connection to 51.250.39.181 closed.\r\n", "stderr_lines": ["Shared connection to 51.250.39.181 closed."], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "stderr": "Shared connection to 158.160.111.1 closed.\r\n", "stderr_lines": ["Shared connection to 158.160.111.1 closed."], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:20:20 +0300 (0:00:00.197)       0:00:05.546 ********** 
Четверг 20 июля 2023  22:20:20 +0300 (0:00:00.090)       0:00:05.637 ********** 
Четверг 20 июля 2023  22:20:20 +0300 (0:00:00.073)       0:00:05.710 ********** 
Четверг 20 июля 2023  22:20:20 +0300 (0:00:00.074)       0:00:05.784 ********** 

TASK [bootstrap-os : Set the ansible_python_interpreter fact] ******************
ok: [master] => {"ansible_facts": {"ansible_python_interpreter": "/usr/bin/python3"}, "changed": false}
ok: [node1] => {"ansible_facts": {"ansible_python_interpreter": "/usr/bin/python3"}, "changed": false}
ok: [node2] => {"ansible_facts": {"ansible_python_interpreter": "/usr/bin/python3"}, "changed": false}
Четверг 20 июля 2023  22:20:20 +0300 (0:00:00.103)       0:00:05.888 ********** 

TASK [bootstrap-os : Install dbus for the hostname module] *********************
ok: [node2] => {"cache_update_time": 1689878905, "cache_updated": false, "changed": false}
ok: [node1] => {"cache_update_time": 1689878896, "cache_updated": false, "changed": false}
ok: [master] => {"cache_update_time": 1689878883, "cache_updated": false, "changed": false}
Четверг 20 июля 2023  22:20:23 +0300 (0:00:03.604)       0:00:09.493 ********** 
Четверг 20 июля 2023  22:20:24 +0300 (0:00:00.090)       0:00:09.583 ********** 
Четверг 20 июля 2023  22:20:24 +0300 (0:00:00.147)       0:00:09.731 ********** 

TASK [bootstrap-os : Create remote_tmp for it is used by another module] *******
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/root/.ansible/tmp", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/root/.ansible/tmp", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/root/.ansible/tmp", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:20:25 +0300 (0:00:01.592)       0:00:11.323 ********** 

TASK [bootstrap-os : Gather host facts to get ansible_os_family] ***************
ok: [node1]
ok: [node2]
ok: [master]
Четверг 20 июля 2023  22:20:27 +0300 (0:00:01.921)       0:00:13.244 ********** 

TASK [bootstrap-os : Assign inventory name to unconfigured hostnames (non-CoreOS, non-Flatcar, Suse and ClearLinux, non-Fedora)] ***
ok: [node1] => {"ansible_facts": {"ansible_domain": "ru-central1.internal", "ansible_fqdn": "cl1u8id357i1d7u76o1h-ewup.ru-central1.internal", "ansible_hostname": "node1", "ansible_nodename": "node1"}, "changed": false, "name": "node1"}
ok: [node2] => {"ansible_facts": {"ansible_domain": "ru-central1.internal", "ansible_fqdn": "cl1u8id357i1d7u76o1h-aqek.ru-central1.internal", "ansible_hostname": "node2", "ansible_nodename": "node2"}, "changed": false, "name": "node2"}
ok: [master] => {"ansible_facts": {"ansible_domain": "ru-central1.internal", "ansible_fqdn": "cl1u8id357i1d7u76o1h-ehow.ru-central1.internal", "ansible_hostname": "master", "ansible_nodename": "master"}, "changed": false, "name": "master"}
Четверг 20 июля 2023  22:20:30 +0300 (0:00:02.998)       0:00:16.243 ********** 
Четверг 20 июля 2023  22:20:30 +0300 (0:00:00.081)       0:00:16.324 ********** 
Четверг 20 июля 2023  22:20:30 +0300 (0:00:00.114)       0:00:16.439 ********** 
Четверг 20 июля 2023  22:20:30 +0300 (0:00:00.075)       0:00:16.514 ********** 

TASK [bootstrap-os : Ensure bash_completion.d folder exists] *******************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/bash_completion.d/", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/bash_completion.d/", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/bash_completion.d/", "size": 4096, "state": "directory", "uid": 0}

PLAY [Gather facts] ************************************************************
Четверг 20 июля 2023  22:20:33 +0300 (0:00:02.132)       0:00:18.646 ********** 

TASK [Gather minimal facts] ****************************************************
ok: [node1]
ok: [node2]
ok: [master]
Четверг 20 июля 2023  22:20:34 +0300 (0:00:01.829)       0:00:20.476 ********** 

TASK [Gather necessary facts (network)] ****************************************
ok: [node1]
ok: [node2]
ok: [master]
Четверг 20 июля 2023  22:20:36 +0300 (0:00:01.978)       0:00:22.454 ********** 

TASK [Gather necessary facts (hardware)] ***************************************
ok: [node1]
ok: [master]
ok: [node2]

PLAY [k8s_cluster:etcd] ********************************************************
Четверг 20 июля 2023  22:20:39 +0300 (0:00:02.578)       0:00:25.033 ********** 
Четверг 20 июля 2023  22:20:39 +0300 (0:00:00.089)       0:00:25.122 ********** 
Четверг 20 июля 2023  22:20:39 +0300 (0:00:00.038)       0:00:25.161 ********** 
Четверг 20 июля 2023  22:20:39 +0300 (0:00:00.030)       0:00:25.191 ********** 
Четверг 20 июля 2023  22:20:39 +0300 (0:00:00.086)       0:00:25.277 ********** 
Четверг 20 июля 2023  22:20:39 +0300 (0:00:00.085)       0:00:25.363 ********** 
Четверг 20 июля 2023  22:20:39 +0300 (0:00:00.088)       0:00:25.452 ********** 
Четверг 20 июля 2023  22:20:40 +0300 (0:00:00.090)       0:00:25.542 ********** 
Четверг 20 июля 2023  22:20:40 +0300 (0:00:00.030)       0:00:25.573 ********** 
Четверг 20 июля 2023  22:20:40 +0300 (0:00:00.093)       0:00:25.667 ********** 
Четверг 20 июля 2023  22:20:41 +0300 (0:00:01.650)       0:00:27.317 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node1] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node2] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:20:41 +0300 (0:00:00.147)       0:00:27.465 ********** 
Четверг 20 июля 2023  22:20:42 +0300 (0:00:00.132)       0:00:27.597 ********** 

TASK [kubespray-defaults : create fallback_ips_base] ***************************
ok: [master -> localhost] => {"ansible_facts": {"fallback_ips_base": "---\nmaster: \"192.168.20.29\"\nnode1: \"192.168.30.25\"\nnode2: \"192.168.10.20\"\n"}, "changed": false}
Четверг 20 июля 2023  22:20:42 +0300 (0:00:00.080)       0:00:27.678 ********** 

TASK [kubespray-defaults : set fallback_ips] ***********************************
ok: [master] => {"ansible_facts": {"fallback_ips": {"master": "192.168.20.29", "node1": "192.168.30.25", "node2": "192.168.10.20"}}, "changed": false}
ok: [node1] => {"ansible_facts": {"fallback_ips": {"master": "192.168.20.29", "node1": "192.168.30.25", "node2": "192.168.10.20"}}, "changed": false}
ok: [node2] => {"ansible_facts": {"fallback_ips": {"master": "192.168.20.29", "node1": "192.168.30.25", "node2": "192.168.10.20"}}, "changed": false}
Четверг 20 июля 2023  22:20:42 +0300 (0:00:00.131)       0:00:27.810 ********** 
Четверг 20 июля 2023  22:20:42 +0300 (0:00:00.041)       0:00:27.852 ********** 
Четверг 20 июля 2023  22:20:42 +0300 (0:00:00.086)       0:00:27.938 ********** 
Четверг 20 июля 2023  22:20:42 +0300 (0:00:00.131)       0:00:28.069 ********** 

TASK [adduser : User | Create User Group] **************************************
ok: [node1] => {"changed": false, "gid": 998, "name": "kube-cert", "state": "present", "system": true}
ok: [node2] => {"changed": false, "gid": 998, "name": "kube-cert", "state": "present", "system": true}
ok: [master] => {"changed": false, "gid": 998, "name": "kube-cert", "state": "present", "system": true}
Четверг 20 июля 2023  22:20:44 +0300 (0:00:01.864)       0:00:29.934 ********** 

TASK [adduser : User | Create User] ********************************************
ok: [node1] => {"append": false, "changed": false, "comment": "Kubernetes user", "group": 998, "home": "/home/kube", "move_home": false, "name": "kube", "shell": "/sbin/nologin", "state": "present", "uid": 998}
ok: [node2] => {"append": false, "changed": false, "comment": "Kubernetes user", "group": 998, "home": "/home/kube", "move_home": false, "name": "kube", "shell": "/sbin/nologin", "state": "present", "uid": 998}
ok: [master] => {"append": false, "changed": false, "comment": "Kubernetes user", "group": 998, "home": "/home/kube", "move_home": false, "name": "kube", "shell": "/sbin/nologin", "state": "present", "uid": 998}
Четверг 20 июля 2023  22:20:46 +0300 (0:00:01.840)       0:00:31.775 ********** 

TASK [kubernetes/preinstall : Remove swapfile from /etc/fstab] *****************
ok: [node1] => (item=swap) => {"ansible_loop_var": "item", "backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "swap", "item": "swap", "name": "swap", "opts": "defaults", "passno": "0"}
ok: [node2] => (item=swap) => {"ansible_loop_var": "item", "backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "swap", "item": "swap", "name": "swap", "opts": "defaults", "passno": "0"}
ok: [master] => (item=swap) => {"ansible_loop_var": "item", "backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "swap", "item": "swap", "name": "swap", "opts": "defaults", "passno": "0"}
ok: [node1] => (item=none) => {"ansible_loop_var": "item", "backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "swap", "item": "none", "name": "none", "opts": "defaults", "passno": "0"}
ok: [node2] => (item=none) => {"ansible_loop_var": "item", "backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "swap", "item": "none", "name": "none", "opts": "defaults", "passno": "0"}
ok: [master] => (item=none) => {"ansible_loop_var": "item", "backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "swap", "item": "none", "name": "none", "opts": "defaults", "passno": "0"}
Четверг 20 июля 2023  22:20:48 +0300 (0:00:02.406)       0:00:34.181 ********** 

TASK [kubernetes/preinstall : check swap] **************************************
ok: [node1] => {"changed": false, "cmd": ["/sbin/swapon", "-s"], "delta": "0:00:00.004862", "end": "2023-07-20 19:20:49.719056", "msg": "", "rc": 0, "start": "2023-07-20 19:20:49.714194", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "cmd": ["/sbin/swapon", "-s"], "delta": "0:00:00.004564", "end": "2023-07-20 19:20:49.734862", "msg": "", "rc": 0, "start": "2023-07-20 19:20:49.730298", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [master] => {"changed": false, "cmd": ["/sbin/swapon", "-s"], "delta": "0:00:00.005006", "end": "2023-07-20 19:20:49.774768", "msg": "", "rc": 0, "start": "2023-07-20 19:20:49.769762", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:20:49 +0300 (0:00:01.278)       0:00:35.459 ********** 
Четверг 20 июля 2023  22:20:50 +0300 (0:00:00.089)       0:00:35.549 ********** 
Четверг 20 июля 2023  22:20:50 +0300 (0:00:00.086)       0:00:35.635 ********** 
Четверг 20 июля 2023  22:20:50 +0300 (0:00:00.079)       0:00:35.715 ********** 
Четверг 20 июля 2023  22:20:50 +0300 (0:00:00.077)       0:00:35.792 ********** 
Четверг 20 июля 2023  22:20:50 +0300 (0:00:00.085)       0:00:35.877 ********** 

TASK [kubernetes/preinstall : check if booted with ostree] *********************
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:20:52 +0300 (0:00:01.764)       0:00:37.642 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [node1] => {"backup": "", "changed": false, "msg": "line added"}
ok: [node2] => {"backup": "", "changed": false, "msg": "line added"}
ok: [master] => {"backup": "", "changed": false, "msg": "line added"}
Четверг 20 июля 2023  22:20:54 +0300 (0:00:02.024)       0:00:39.666 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [master] => {"ansible_facts": {"is_fedora_coreos": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"is_fedora_coreos": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"is_fedora_coreos": false}, "changed": false}
Четверг 20 июля 2023  22:20:54 +0300 (0:00:00.132)       0:00:39.799 ********** 

TASK [kubernetes/preinstall : check resolvconf] ********************************
ok: [node1] => {"changed": false, "cmd": ["which", "resolvconf"], "delta": "0:00:00.005009", "end": "2023-07-20 19:20:55.492782", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:20:55.487773", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "cmd": ["which", "resolvconf"], "delta": "0:00:00.004446", "end": "2023-07-20 19:20:55.652886", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:20:55.648440", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [master] => {"changed": false, "cmd": ["which", "resolvconf"], "delta": "0:00:00.004631", "end": "2023-07-20 19:20:55.703343", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:20:55.698712", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:20:55 +0300 (0:00:01.583)       0:00:41.383 ********** 

TASK [kubernetes/preinstall : check existence of /etc/resolvconf/resolv.conf.d] ***
ok: [node1] => {"changed": false, "failed_when_result": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "failed_when_result": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "failed_when_result": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:20:57 +0300 (0:00:01.608)       0:00:42.992 ********** 

TASK [kubernetes/preinstall : check status of /etc/resolv.conf] ****************
ok: [node1] => {"changed": false, "failed_when_result": false, "stat": {"atime": 1689878888.396, "block_size": 4096, "blocks": 0, "ctime": 1671011749.425064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 135986, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/run/systemd/resolve/stub-resolv.conf", "lnk_target": "../run/systemd/resolve/stub-resolv.conf", "mode": "0777", "mtime": 1671011749.425064, "nlink": 1, "path": "/etc/resolv.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [node2] => {"changed": false, "failed_when_result": false, "stat": {"atime": 1689878898.612, "block_size": 4096, "blocks": 0, "ctime": 1671011749.425064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 135986, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/run/systemd/resolve/stub-resolv.conf", "lnk_target": "../run/systemd/resolve/stub-resolv.conf", "mode": "0777", "mtime": 1671011749.425064, "nlink": 1, "path": "/etc/resolv.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [master] => {"changed": false, "failed_when_result": false, "stat": {"atime": 1689878874.524, "block_size": 4096, "blocks": 0, "ctime": 1671011749.425064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 135986, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/run/systemd/resolve/stub-resolv.conf", "lnk_target": "../run/systemd/resolve/stub-resolv.conf", "mode": "0777", "mtime": 1671011749.425064, "nlink": 1, "path": "/etc/resolv.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:20:59 +0300 (0:00:01.551)       0:00:44.543 ********** 

TASK [kubernetes/preinstall : get content of /etc/resolv.conf] *****************
ok: [node1] => {"changed": false, "content": "IyBUaGlzIGZpbGUgaXMgbWFuYWdlZCBieSBtYW46c3lzdGVtZC1yZXNvbHZlZCg4KS4gRG8gbm90IGVkaXQuCiMKIyBUaGlzIGlzIGEgZHluYW1pYyByZXNvbHYuY29uZiBmaWxlIGZvciBjb25uZWN0aW5nIGxvY2FsIGNsaWVudHMgdG8gdGhlCiMgaW50ZXJuYWwgRE5TIHN0dWIgcmVzb2x2ZXIgb2Ygc3lzdGVtZC1yZXNvbHZlZC4gVGhpcyBmaWxlIGxpc3RzIGFsbAojIGNvbmZpZ3VyZWQgc2VhcmNoIGRvbWFpbnMuCiMKIyBSdW4gInJlc29sdmVjdGwgc3RhdHVzIiB0byBzZWUgZGV0YWlscyBhYm91dCB0aGUgdXBsaW5rIEROUyBzZXJ2ZXJzCiMgY3VycmVudGx5IGluIHVzZS4KIwojIFRoaXJkIHBhcnR5IHByb2dyYW1zIG11c3Qgbm90IGFjY2VzcyB0aGlzIGZpbGUgZGlyZWN0bHksIGJ1dCBvbmx5IHRocm91Z2ggdGhlCiMgc3ltbGluayBhdCAvZXRjL3Jlc29sdi5jb25mLiBUbyBtYW5hZ2UgbWFuOnJlc29sdi5jb25mKDUpIGluIGEgZGlmZmVyZW50IHdheSwKIyByZXBsYWNlIHRoaXMgc3ltbGluayBieSBhIHN0YXRpYyBmaWxlIG9yIGEgZGlmZmVyZW50IHN5bWxpbmsuCiMKIyBTZWUgbWFuOnN5c3RlbWQtcmVzb2x2ZWQuc2VydmljZSg4KSBmb3IgZGV0YWlscyBhYm91dCB0aGUgc3VwcG9ydGVkIG1vZGVzIG9mCiMgb3BlcmF0aW9uIGZvciAvZXRjL3Jlc29sdi5jb25mLgoKbmFtZXNlcnZlciAxMjcuMC4wLjUzCm9wdGlvbnMgZWRuczAgdHJ1c3QtYWQKc2VhcmNoIHJ1LWNlbnRyYWwxLmludGVybmFsIGF1dG8uaW50ZXJuYWwK", "encoding": "base64", "source": "/etc/resolv.conf"}
ok: [node2] => {"changed": false, "content": "IyBUaGlzIGZpbGUgaXMgbWFuYWdlZCBieSBtYW46c3lzdGVtZC1yZXNvbHZlZCg4KS4gRG8gbm90IGVkaXQuCiMKIyBUaGlzIGlzIGEgZHluYW1pYyByZXNvbHYuY29uZiBmaWxlIGZvciBjb25uZWN0aW5nIGxvY2FsIGNsaWVudHMgdG8gdGhlCiMgaW50ZXJuYWwgRE5TIHN0dWIgcmVzb2x2ZXIgb2Ygc3lzdGVtZC1yZXNvbHZlZC4gVGhpcyBmaWxlIGxpc3RzIGFsbAojIGNvbmZpZ3VyZWQgc2VhcmNoIGRvbWFpbnMuCiMKIyBSdW4gInJlc29sdmVjdGwgc3RhdHVzIiB0byBzZWUgZGV0YWlscyBhYm91dCB0aGUgdXBsaW5rIEROUyBzZXJ2ZXJzCiMgY3VycmVudGx5IGluIHVzZS4KIwojIFRoaXJkIHBhcnR5IHByb2dyYW1zIG11c3Qgbm90IGFjY2VzcyB0aGlzIGZpbGUgZGlyZWN0bHksIGJ1dCBvbmx5IHRocm91Z2ggdGhlCiMgc3ltbGluayBhdCAvZXRjL3Jlc29sdi5jb25mLiBUbyBtYW5hZ2UgbWFuOnJlc29sdi5jb25mKDUpIGluIGEgZGlmZmVyZW50IHdheSwKIyByZXBsYWNlIHRoaXMgc3ltbGluayBieSBhIHN0YXRpYyBmaWxlIG9yIGEgZGlmZmVyZW50IHN5bWxpbmsuCiMKIyBTZWUgbWFuOnN5c3RlbWQtcmVzb2x2ZWQuc2VydmljZSg4KSBmb3IgZGV0YWlscyBhYm91dCB0aGUgc3VwcG9ydGVkIG1vZGVzIG9mCiMgb3BlcmF0aW9uIGZvciAvZXRjL3Jlc29sdi5jb25mLgoKbmFtZXNlcnZlciAxMjcuMC4wLjUzCm9wdGlvbnMgZWRuczAgdHJ1c3QtYWQKc2VhcmNoIHJ1LWNlbnRyYWwxLmludGVybmFsIGF1dG8uaW50ZXJuYWwK", "encoding": "base64", "source": "/etc/resolv.conf"}
ok: [master] => {"changed": false, "content": "IyBUaGlzIGZpbGUgaXMgbWFuYWdlZCBieSBtYW46c3lzdGVtZC1yZXNvbHZlZCg4KS4gRG8gbm90IGVkaXQuCiMKIyBUaGlzIGlzIGEgZHluYW1pYyByZXNvbHYuY29uZiBmaWxlIGZvciBjb25uZWN0aW5nIGxvY2FsIGNsaWVudHMgdG8gdGhlCiMgaW50ZXJuYWwgRE5TIHN0dWIgcmVzb2x2ZXIgb2Ygc3lzdGVtZC1yZXNvbHZlZC4gVGhpcyBmaWxlIGxpc3RzIGFsbAojIGNvbmZpZ3VyZWQgc2VhcmNoIGRvbWFpbnMuCiMKIyBSdW4gInJlc29sdmVjdGwgc3RhdHVzIiB0byBzZWUgZGV0YWlscyBhYm91dCB0aGUgdXBsaW5rIEROUyBzZXJ2ZXJzCiMgY3VycmVudGx5IGluIHVzZS4KIwojIFRoaXJkIHBhcnR5IHByb2dyYW1zIG11c3Qgbm90IGFjY2VzcyB0aGlzIGZpbGUgZGlyZWN0bHksIGJ1dCBvbmx5IHRocm91Z2ggdGhlCiMgc3ltbGluayBhdCAvZXRjL3Jlc29sdi5jb25mLiBUbyBtYW5hZ2UgbWFuOnJlc29sdi5jb25mKDUpIGluIGEgZGlmZmVyZW50IHdheSwKIyByZXBsYWNlIHRoaXMgc3ltbGluayBieSBhIHN0YXRpYyBmaWxlIG9yIGEgZGlmZmVyZW50IHN5bWxpbmsuCiMKIyBTZWUgbWFuOnN5c3RlbWQtcmVzb2x2ZWQuc2VydmljZSg4KSBmb3IgZGV0YWlscyBhYm91dCB0aGUgc3VwcG9ydGVkIG1vZGVzIG9mCiMgb3BlcmF0aW9uIGZvciAvZXRjL3Jlc29sdi5jb25mLgoKbmFtZXNlcnZlciAxMjcuMC4wLjUzCm9wdGlvbnMgZWRuczAgdHJ1c3QtYWQKc2VhcmNoIHJ1LWNlbnRyYWwxLmludGVybmFsIGF1dG8uaW50ZXJuYWwK", "encoding": "base64", "source": "/etc/resolv.conf"}
Четверг 20 июля 2023  22:21:00 +0300 (0:00:01.861)       0:00:46.404 ********** 

TASK [kubernetes/preinstall : get currently configured nameservers] ************
ok: [master] => {"ansible_facts": {"configured_nameservers": ["127.0.0.53"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"configured_nameservers": ["127.0.0.53"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"configured_nameservers": ["127.0.0.53"]}, "changed": false}
Четверг 20 июля 2023  22:21:01 +0300 (0:00:00.209)       0:00:46.613 ********** 

TASK [kubernetes/preinstall : Stop if /etc/resolv.conf not configured nameservers] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:01 +0300 (0:00:00.128)       0:00:46.742 ********** 

TASK [kubernetes/preinstall : NetworkManager | Check if host has NetworkManager] ***
ok: [node1] => {"changed": false, "cmd": ["systemctl", "is-active", "--quiet", "NetworkManager.service"], "delta": "0:00:00.008268", "end": "2023-07-20 19:21:02.559511", "failed_when_result": false, "msg": "non-zero return code", "rc": 3, "start": "2023-07-20 19:21:02.551243", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "cmd": ["systemctl", "is-active", "--quiet", "NetworkManager.service"], "delta": "0:00:00.007777", "end": "2023-07-20 19:21:02.620233", "failed_when_result": false, "msg": "non-zero return code", "rc": 3, "start": "2023-07-20 19:21:02.612456", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [master] => {"changed": false, "cmd": ["systemctl", "is-active", "--quiet", "NetworkManager.service"], "delta": "0:00:00.007876", "end": "2023-07-20 19:21:02.636543", "failed_when_result": false, "msg": "non-zero return code", "rc": 3, "start": "2023-07-20 19:21:02.628667", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:21:02 +0300 (0:00:01.570)       0:00:48.313 ********** 

TASK [kubernetes/preinstall : check systemd-resolved] **************************
ok: [node2] => {"changed": false, "cmd": ["systemctl", "is-active", "systemd-resolved"], "delta": "0:00:00.007883", "end": "2023-07-20 19:21:03.856414", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:21:03.848531", "stderr": "", "stderr_lines": [], "stdout": "active", "stdout_lines": ["active"]}
ok: [node1] => {"changed": false, "cmd": ["systemctl", "is-active", "systemd-resolved"], "delta": "0:00:00.007901", "end": "2023-07-20 19:21:03.859793", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:21:03.851892", "stderr": "", "stderr_lines": [], "stdout": "active", "stdout_lines": ["active"]}
ok: [master] => {"changed": false, "cmd": ["systemctl", "is-active", "systemd-resolved"], "delta": "0:00:00.007819", "end": "2023-07-20 19:21:03.944645", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:21:03.936826", "stderr": "", "stderr_lines": [], "stdout": "active", "stdout_lines": ["active"]}
Четверг 20 июля 2023  22:21:04 +0300 (0:00:01.313)       0:00:49.626 ********** 

TASK [kubernetes/preinstall : set default dns if remove_default_searchdomains is false] ***
ok: [master] => {"ansible_facts": {"default_searchdomains": ["default.svc.cluster.local", "svc.cluster.local"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"default_searchdomains": ["default.svc.cluster.local", "svc.cluster.local"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"default_searchdomains": ["default.svc.cluster.local", "svc.cluster.local"]}, "changed": false}
Четверг 20 июля 2023  22:21:04 +0300 (0:00:00.122)       0:00:49.749 ********** 

TASK [kubernetes/preinstall : set dns facts] ***********************************
ok: [master] => {"ansible_facts": {"bogus_domains": "cluster.local.default.svc.cluster.local./default.svc.cluster.local.default.svc.cluster.local./com.default.svc.cluster.local./cluster.local.svc.cluster.local./svc.cluster.local.svc.cluster.local./com.svc.cluster.local./", "cloud_resolver": [], "resolvconf": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"bogus_domains": "cluster.local.default.svc.cluster.local./default.svc.cluster.local.default.svc.cluster.local./com.default.svc.cluster.local./cluster.local.svc.cluster.local./svc.cluster.local.svc.cluster.local./com.svc.cluster.local./", "cloud_resolver": [], "resolvconf": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"bogus_domains": "cluster.local.default.svc.cluster.local./default.svc.cluster.local.default.svc.cluster.local./com.default.svc.cluster.local./cluster.local.svc.cluster.local./svc.cluster.local.svc.cluster.local./com.svc.cluster.local./", "cloud_resolver": [], "resolvconf": false}, "changed": false}
Четверг 20 июля 2023  22:21:04 +0300 (0:00:00.231)       0:00:49.981 ********** 

TASK [kubernetes/preinstall : check if kubelet is configured] ******************
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:21:05 +0300 (0:00:01.119)       0:00:51.100 ********** 

TASK [kubernetes/preinstall : check if early DNS configuration stage] **********
ok: [master] => {"ansible_facts": {"dns_early": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"dns_early": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"dns_early": true}, "changed": false}
Четверг 20 июля 2023  22:21:05 +0300 (0:00:00.103)       0:00:51.203 ********** 

TASK [kubernetes/preinstall : target resolv.conf files] ************************
ok: [master] => {"ansible_facts": {"base": "", "head": "", "resolvconffile": "/etc/resolv.conf"}, "changed": false}
ok: [node1] => {"ansible_facts": {"base": "", "head": "", "resolvconffile": "/etc/resolv.conf"}, "changed": false}
ok: [node2] => {"ansible_facts": {"base": "", "head": "", "resolvconffile": "/etc/resolv.conf"}, "changed": false}
Четверг 20 июля 2023  22:21:05 +0300 (0:00:00.109)       0:00:51.313 ********** 
Четверг 20 июля 2023  22:21:05 +0300 (0:00:00.079)       0:00:51.392 ********** 

TASK [kubernetes/preinstall : check if /etc/dhclient.conf exists] **************
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:21:07 +0300 (0:00:02.110)       0:00:53.502 ********** 
Четверг 20 июля 2023  22:21:08 +0300 (0:00:00.074)       0:00:53.576 ********** 

TASK [kubernetes/preinstall : check if /etc/dhcp/dhclient.conf exists] *********
ok: [node1] => {"changed": false, "stat": {"atime": 1688841643.6183753, "block_size": 4096, "blocks": 8, "ctime": 1671011737.917064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 131195, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0644", "mtime": 1582663018.0, "nlink": 1, "path": "/etc/dhcp/dhclient.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1735, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
ok: [node2] => {"changed": false, "stat": {"atime": 1688841643.6183753, "block_size": 4096, "blocks": 8, "ctime": 1671011737.917064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 131195, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0644", "mtime": 1582663018.0, "nlink": 1, "path": "/etc/dhcp/dhclient.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1735, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
ok: [master] => {"changed": false, "stat": {"atime": 1688841643.6183753, "block_size": 4096, "blocks": 8, "ctime": 1671011737.917064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 131195, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0644", "mtime": 1582663018.0, "nlink": 1, "path": "/etc/dhcp/dhclient.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1735, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
Четверг 20 июля 2023  22:21:09 +0300 (0:00:01.836)       0:00:55.413 ********** 

TASK [kubernetes/preinstall : target dhclient conf file for /etc/dhcp/dhclient.conf] ***
ok: [master] => {"ansible_facts": {"dhclientconffile": "/etc/dhcp/dhclient.conf"}, "changed": false}
ok: [node1] => {"ansible_facts": {"dhclientconffile": "/etc/dhcp/dhclient.conf"}, "changed": false}
ok: [node2] => {"ansible_facts": {"dhclientconffile": "/etc/dhcp/dhclient.conf"}, "changed": false}
Четверг 20 июля 2023  22:21:09 +0300 (0:00:00.104)       0:00:55.517 ********** 
Четверг 20 июля 2023  22:21:10 +0300 (0:00:00.077)       0:00:55.594 ********** 

TASK [kubernetes/preinstall : target dhclient hook file for Debian family] *****
ok: [master] => {"ansible_facts": {"dhclienthookfile": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate"}, "changed": false}
ok: [node1] => {"ansible_facts": {"dhclienthookfile": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate"}, "changed": false}
ok: [node2] => {"ansible_facts": {"dhclienthookfile": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate"}, "changed": false}
Четверг 20 июля 2023  22:21:10 +0300 (0:00:00.110)       0:00:55.705 ********** 

TASK [kubernetes/preinstall : generate search domains to resolvconf] ***********
ok: [master] => {"ansible_facts": {"domainentry": "domain cluster.local", "searchentries": "search default.svc.cluster.local svc.cluster.local", "supersede_domain": "supersede domain-name \"cluster.local\";", "supersede_search": "supersede domain-search \"default.svc.cluster.local\", \"svc.cluster.local\";"}, "changed": false}
ok: [node1] => {"ansible_facts": {"domainentry": "domain cluster.local", "searchentries": "search default.svc.cluster.local svc.cluster.local", "supersede_domain": "supersede domain-name \"cluster.local\";", "supersede_search": "supersede domain-search \"default.svc.cluster.local\", \"svc.cluster.local\";"}, "changed": false}
ok: [node2] => {"ansible_facts": {"domainentry": "domain cluster.local", "searchentries": "search default.svc.cluster.local svc.cluster.local", "supersede_domain": "supersede domain-name \"cluster.local\";", "supersede_search": "supersede domain-search \"default.svc.cluster.local\", \"svc.cluster.local\";"}, "changed": false}
Четверг 20 июля 2023  22:21:10 +0300 (0:00:00.127)       0:00:55.833 ********** 

TASK [kubernetes/preinstall : pick coredns cluster IP or default resolver] *****
ok: [master] => {"ansible_facts": {"coredns_server": []}, "changed": false}
ok: [node1] => {"ansible_facts": {"coredns_server": []}, "changed": false}
ok: [node2] => {"ansible_facts": {"coredns_server": []}, "changed": false}
Четверг 20 июля 2023  22:21:10 +0300 (0:00:00.433)       0:00:56.266 ********** 
Четверг 20 июля 2023  22:21:10 +0300 (0:00:00.102)       0:00:56.369 ********** 

TASK [kubernetes/preinstall : generate nameservers for resolvconf, not including cluster DNS] ***
ok: [master] => {"ansible_facts": {"nameserverentries": "127.0.0.53", "supersede_nameserver": "supersede domain-name-servers ;"}, "changed": false}
ok: [node1] => {"ansible_facts": {"nameserverentries": "127.0.0.53", "supersede_nameserver": "supersede domain-name-servers ;"}, "changed": false}
ok: [node2] => {"ansible_facts": {"nameserverentries": "127.0.0.53", "supersede_nameserver": "supersede domain-name-servers ;"}, "changed": false}
Четверг 20 июля 2023  22:21:11 +0300 (0:00:00.197)       0:00:56.567 ********** 

TASK [kubernetes/preinstall : gather os specific variables] ********************
ok: [master] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml) => {"ansible_facts": {"required_pkgs": ["python3-apt", "apt-transport-https", "software-properties-common", "conntrack", "apparmor", "libseccomp2"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml"}
ok: [node1] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml) => {"ansible_facts": {"required_pkgs": ["python3-apt", "apt-transport-https", "software-properties-common", "conntrack", "apparmor", "libseccomp2"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml"}
ok: [node2] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml) => {"ansible_facts": {"required_pkgs": ["python3-apt", "apt-transport-https", "software-properties-common", "conntrack", "apparmor", "libseccomp2"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml"}
Четверг 20 июля 2023  22:21:11 +0300 (0:00:00.120)       0:00:56.687 ********** 
Четверг 20 июля 2023  22:21:11 +0300 (0:00:00.080)       0:00:56.768 ********** 

TASK [kubernetes/preinstall : check /usr readonly] *****************************
ok: [node1] => {"changed": false, "stat": {"atime": 1689880682.9597368, "block_size": 4096, "blocks": 8, "ctime": 1671012218.0802448, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 62, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mode": "0755", "mtime": 1671012218.0802448, "nlink": 14, "path": "/usr", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [node2] => {"changed": false, "stat": {"atime": 1689880683.1281273, "block_size": 4096, "blocks": 8, "ctime": 1671012218.0802448, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 62, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mode": "0755", "mtime": 1671012218.0802448, "nlink": 14, "path": "/usr", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [master] => {"changed": false, "stat": {"atime": 1689880683.0251594, "block_size": 4096, "blocks": 8, "ctime": 1671012218.0802448, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 62, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mode": "0755", "mtime": 1671012218.0802448, "nlink": 14, "path": "/usr", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:21:12 +0300 (0:00:01.492)       0:00:58.261 ********** 
Четверг 20 июля 2023  22:21:12 +0300 (0:00:00.080)       0:00:58.341 ********** 

TASK [kubernetes/preinstall : Stop if either kube_control_plane or kube_node group is empty] ***
ok: [master] => (item=kube_control_plane) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "kube_control_plane",
    "msg": "All assertions passed"
}
ok: [master] => (item=kube_node) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": "kube_node",
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:12 +0300 (0:00:00.131)       0:00:58.473 ********** 

TASK [kubernetes/preinstall : Stop if etcd group is empty in external etcd mode] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.065)       0:00:58.538 ********** 

TASK [kubernetes/preinstall : Stop if non systemd OS type] *********************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.115)       0:00:58.653 ********** 

TASK [kubernetes/preinstall : Stop if the os does not support] *****************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.124)       0:00:58.778 ********** 

TASK [kubernetes/preinstall : Stop if unknown network plugin] ******************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.119)       0:00:58.897 ********** 

TASK [kubernetes/preinstall : Stop if unsupported version of Kubernetes] *******
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.115)       0:00:59.012 ********** 

TASK [kubernetes/preinstall : Stop if known booleans are set as strings (Use JSON format on CLI: -e "{'key': true }")] ***
ok: [master] => (item={'name': 'download_run_once', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "download_run_once",
        "value": false
    },
    "msg": "All assertions passed"
}
ok: [master] => (item={'name': 'deploy_netchecker', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "deploy_netchecker",
        "value": false
    },
    "msg": "All assertions passed"
}
ok: [master] => (item={'name': 'download_always_pull', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "download_always_pull",
        "value": false
    },
    "msg": "All assertions passed"
}
ok: [master] => (item={'name': 'helm_enabled', 'value': True}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "helm_enabled",
        "value": true
    },
    "msg": "All assertions passed"
}
ok: [master] => (item={'name': 'openstack_lbaas_enabled', 'value': False}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "openstack_lbaas_enabled",
        "value": false
    },
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.191)       0:00:59.204 ********** 

TASK [kubernetes/preinstall : Stop if even number of etcd hosts] ***************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.190)       0:00:59.394 ********** 

TASK [kubernetes/preinstall : Stop if memory is too small for masters] *********
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:13 +0300 (0:00:00.091)       0:00:59.486 ********** 

TASK [kubernetes/preinstall : Stop if memory is too small for nodes] ***********
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.119)       0:00:59.605 ********** 
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.123)       0:00:59.729 ********** 

TASK [kubernetes/preinstall : Stop if ip var does not match local ips] *********
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.119)       0:00:59.849 ********** 
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.092)       0:00:59.941 ********** 
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.090)       0:01:00.032 ********** 
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.092)       0:01:00.124 ********** 
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.103)       0:01:00.228 ********** 
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.087)       0:01:00.316 ********** 

TASK [kubernetes/preinstall : Stop if bad hostname] ****************************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:14 +0300 (0:00:00.140)       0:01:00.457 ********** 
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.104)       0:01:00.562 ********** 

TASK [kubernetes/preinstall : Check that kube_service_addresses is a network range] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.123)       0:01:00.686 ********** 

TASK [kubernetes/preinstall : Check that kube_pods_subnet is a network range] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.125)       0:01:00.811 ********** 

TASK [kubernetes/preinstall : Check that kube_pods_subnet does not collide with kube_service_addresses] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.119)       0:01:00.931 ********** 
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.031)       0:01:00.962 ********** 

TASK [kubernetes/preinstall : Stop if unknown dns mode] ************************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.057)       0:01:01.020 ********** 

TASK [kubernetes/preinstall : Stop if unknown kube proxy mode] *****************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.060)       0:01:01.081 ********** 

TASK [kubernetes/preinstall : Stop if unknown cert_management] *****************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.056)       0:01:01.137 ********** 

TASK [kubernetes/preinstall : Stop if unknown resolvconf_mode] *****************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.058)       0:01:01.196 ********** 

TASK [kubernetes/preinstall : Stop if etcd deployment type is not host, docker or kubeadm] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.093)       0:01:01.289 ********** 

TASK [kubernetes/preinstall : Stop if container manager is not docker, crio or containerd] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:15 +0300 (0:00:00.053)       0:01:01.342 ********** 

TASK [kubernetes/preinstall : Stop if etcd deployment type is not host or kubeadm when container_manager != docker] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.197)       0:01:01.540 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.040)       0:01:01.581 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.038)       0:01:01.619 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.082)       0:01:01.701 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.093)       0:01:01.795 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.107)       0:01:01.902 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.101)       0:01:02.003 ********** 

TASK [kubernetes/preinstall : Ensure minimum containerd version] ***************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.062)       0:01:02.065 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.093)       0:01:02.159 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.088)       0:01:02.248 ********** 
Четверг 20 июля 2023  22:21:16 +0300 (0:00:00.097)       0:01:02.345 ********** 

TASK [kubernetes/preinstall : Create kubernetes directories] *******************
changed: [node2] => (item=/etc/kubernetes) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes", "mode": "0755", "owner": "kube", "path": "/etc/kubernetes", "size": 4096, "state": "directory", "uid": 998}
changed: [node1] => (item=/etc/kubernetes) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes", "mode": "0755", "owner": "kube", "path": "/etc/kubernetes", "size": 4096, "state": "directory", "uid": 998}
changed: [master] => (item=/etc/kubernetes) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes", "mode": "0755", "owner": "kube", "path": "/etc/kubernetes", "size": 4096, "state": "directory", "uid": 998}
changed: [node1] => (item=/etc/kubernetes/manifests) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes/manifests", "mode": "0755", "owner": "kube", "path": "/etc/kubernetes/manifests", "size": 4096, "state": "directory", "uid": 998}
changed: [node2] => (item=/etc/kubernetes/manifests) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes/manifests", "mode": "0755", "owner": "kube", "path": "/etc/kubernetes/manifests", "size": 4096, "state": "directory", "uid": 998}
changed: [master] => (item=/etc/kubernetes/manifests) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes/manifests", "mode": "0755", "owner": "kube", "path": "/etc/kubernetes/manifests", "size": 4096, "state": "directory", "uid": 998}
changed: [node1] => (item=/usr/local/bin/kubernetes-scripts) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/usr/local/bin/kubernetes-scripts", "mode": "0755", "owner": "kube", "path": "/usr/local/bin/kubernetes-scripts", "size": 4096, "state": "directory", "uid": 998}
changed: [node2] => (item=/usr/local/bin/kubernetes-scripts) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/usr/local/bin/kubernetes-scripts", "mode": "0755", "owner": "kube", "path": "/usr/local/bin/kubernetes-scripts", "size": 4096, "state": "directory", "uid": 998}
changed: [master] => (item=/usr/local/bin/kubernetes-scripts) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/usr/local/bin/kubernetes-scripts", "mode": "0755", "owner": "kube", "path": "/usr/local/bin/kubernetes-scripts", "size": 4096, "state": "directory", "uid": 998}
changed: [node1] => (item=/usr/libexec/kubernetes/kubelet-plugins/volume/exec) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/usr/libexec/kubernetes/kubelet-plugins/volume/exec", "mode": "0755", "owner": "kube", "path": "/usr/libexec/kubernetes/kubelet-plugins/volume/exec", "size": 4096, "state": "directory", "uid": 998}
changed: [node2] => (item=/usr/libexec/kubernetes/kubelet-plugins/volume/exec) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/usr/libexec/kubernetes/kubelet-plugins/volume/exec", "mode": "0755", "owner": "kube", "path": "/usr/libexec/kubernetes/kubelet-plugins/volume/exec", "size": 4096, "state": "directory", "uid": 998}
changed: [master] => (item=/usr/libexec/kubernetes/kubelet-plugins/volume/exec) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/usr/libexec/kubernetes/kubelet-plugins/volume/exec", "mode": "0755", "owner": "kube", "path": "/usr/libexec/kubernetes/kubelet-plugins/volume/exec", "size": 4096, "state": "directory", "uid": 998}
Четверг 20 июля 2023  22:21:23 +0300 (0:00:06.477)       0:01:08.823 ********** 

TASK [kubernetes/preinstall : Create other directories of root owner] **********
changed: [node1] => (item=/etc/kubernetes/ssl) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes/ssl", "mode": "0755", "owner": "root", "path": "/etc/kubernetes/ssl", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => (item=/etc/kubernetes/ssl) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes/ssl", "mode": "0755", "owner": "root", "path": "/etc/kubernetes/ssl", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => (item=/etc/kubernetes/ssl) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/kubernetes/ssl", "mode": "0755", "owner": "root", "path": "/etc/kubernetes/ssl", "size": 4096, "state": "directory", "uid": 0}
ok: [node1] => (item=/usr/local/bin) => {"ansible_loop_var": "item", "changed": false, "gid": 0, "group": "root", "item": "/usr/local/bin", "mode": "0755", "owner": "root", "path": "/usr/local/bin", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => (item=/usr/local/bin) => {"ansible_loop_var": "item", "changed": false, "gid": 0, "group": "root", "item": "/usr/local/bin", "mode": "0755", "owner": "root", "path": "/usr/local/bin", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => (item=/usr/local/bin) => {"ansible_loop_var": "item", "changed": false, "gid": 0, "group": "root", "item": "/usr/local/bin", "mode": "0755", "owner": "root", "path": "/usr/local/bin", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:21:26 +0300 (0:00:03.386)       0:01:12.210 ********** 

TASK [kubernetes/preinstall : Check if kubernetes kubeadm compat cert dir exists] ***
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:21:28 +0300 (0:00:01.737)       0:01:13.948 ********** 

TASK [kubernetes/preinstall : Create kubernetes kubeadm compat cert dir (kubernetes/kubeadm issue 1498)] ***
changed: [node1] => {"changed": true, "dest": "/etc/kubernetes/pki", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 19, "src": "/etc/kubernetes/ssl", "state": "link", "uid": 0}
changed: [node2] => {"changed": true, "dest": "/etc/kubernetes/pki", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 19, "src": "/etc/kubernetes/ssl", "state": "link", "uid": 0}
changed: [master] => {"changed": true, "dest": "/etc/kubernetes/pki", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 19, "src": "/etc/kubernetes/ssl", "state": "link", "uid": 0}
Четверг 20 июля 2023  22:21:30 +0300 (0:00:01.849)       0:01:15.798 ********** 

TASK [kubernetes/preinstall : Create cni directories] **************************
changed: [node1] => (item=/etc/cni/net.d) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/cni/net.d", "mode": "0755", "owner": "kube", "path": "/etc/cni/net.d", "size": 4096, "state": "directory", "uid": 998}
changed: [node2] => (item=/etc/cni/net.d) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/cni/net.d", "mode": "0755", "owner": "kube", "path": "/etc/cni/net.d", "size": 4096, "state": "directory", "uid": 998}
changed: [master] => (item=/etc/cni/net.d) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/cni/net.d", "mode": "0755", "owner": "kube", "path": "/etc/cni/net.d", "size": 4096, "state": "directory", "uid": 998}
changed: [node1] => (item=/opt/cni/bin) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/opt/cni/bin", "mode": "0755", "owner": "kube", "path": "/opt/cni/bin", "size": 4096, "state": "directory", "uid": 998}
changed: [node2] => (item=/opt/cni/bin) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/opt/cni/bin", "mode": "0755", "owner": "kube", "path": "/opt/cni/bin", "size": 4096, "state": "directory", "uid": 998}
changed: [master] => (item=/opt/cni/bin) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/opt/cni/bin", "mode": "0755", "owner": "kube", "path": "/opt/cni/bin", "size": 4096, "state": "directory", "uid": 998}
changed: [node1] => (item=/var/lib/calico) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/var/lib/calico", "mode": "0755", "owner": "kube", "path": "/var/lib/calico", "size": 4096, "state": "directory", "uid": 998}
changed: [node2] => (item=/var/lib/calico) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/var/lib/calico", "mode": "0755", "owner": "kube", "path": "/var/lib/calico", "size": 4096, "state": "directory", "uid": 998}
changed: [master] => (item=/var/lib/calico) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/var/lib/calico", "mode": "0755", "owner": "kube", "path": "/var/lib/calico", "size": 4096, "state": "directory", "uid": 998}
Четверг 20 июля 2023  22:21:36 +0300 (0:00:06.171)       0:01:21.970 ********** 
Четверг 20 июля 2023  22:21:36 +0300 (0:00:00.118)       0:01:22.088 ********** 
Четверг 20 июля 2023  22:21:36 +0300 (0:00:00.086)       0:01:22.175 ********** 
Четверг 20 июля 2023  22:21:36 +0300 (0:00:00.084)       0:01:22.260 ********** 
Четверг 20 июля 2023  22:21:36 +0300 (0:00:00.139)       0:01:22.399 ********** 
Четверг 20 июля 2023  22:21:36 +0300 (0:00:00.121)       0:01:22.521 ********** 
Четверг 20 июля 2023  22:21:37 +0300 (0:00:00.122)       0:01:22.643 ********** 
Четверг 20 июля 2023  22:21:37 +0300 (0:00:00.089)       0:01:22.733 ********** 

TASK [kubernetes/preinstall : Write resolved.conf] *****************************
changed: [node1] => {"changed": true, "checksum": "b768c1a73df64294ab36e62a1f29e66a8ab15fd2", "dest": "/etc/systemd/resolved.conf", "gid": 0, "group": "root", "md5sum": "290fd82e6d5138e8dd790b056ae24a88", "mode": "0644", "owner": "root", "size": 114, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689880897.4749386-651028-265703369743540/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "b768c1a73df64294ab36e62a1f29e66a8ab15fd2", "dest": "/etc/systemd/resolved.conf", "gid": 0, "group": "root", "md5sum": "290fd82e6d5138e8dd790b056ae24a88", "mode": "0644", "owner": "root", "size": 114, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689880897.5002038-651030-28836497467377/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "b768c1a73df64294ab36e62a1f29e66a8ab15fd2", "dest": "/etc/systemd/resolved.conf", "gid": 0, "group": "root", "md5sum": "290fd82e6d5138e8dd790b056ae24a88", "mode": "0644", "owner": "root", "size": 114, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689880897.4501576-651027-182110374433367/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:21:40 +0300 (0:00:03.679)       0:01:26.412 ********** 
Четверг 20 июля 2023  22:21:40 +0300 (0:00:00.089)       0:01:26.502 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.080)       0:01:26.582 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.077)       0:01:26.659 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.089)       0:01:26.748 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.086)       0:01:26.835 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.097)       0:01:26.932 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.100)       0:01:27.033 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.087)       0:01:27.120 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.095)       0:01:27.215 ********** 
Четверг 20 июля 2023  22:21:41 +0300 (0:00:00.089)       0:01:27.305 ********** 

TASK [kubernetes/preinstall : Update package management cache (APT)] ***********
ok: [node2] => {"cache_update_time": 1689878905, "cache_updated": false, "changed": false}
ok: [node1] => {"cache_update_time": 1689878896, "cache_updated": false, "changed": false}
ok: [master] => {"cache_update_time": 1689878883, "cache_updated": false, "changed": false}
Четверг 20 июля 2023  22:21:44 +0300 (0:00:02.363)       0:01:29.669 ********** 
Четверг 20 июля 2023  22:21:44 +0300 (0:00:00.158)       0:01:29.827 ********** 
Четверг 20 июля 2023  22:21:44 +0300 (0:00:00.092)       0:01:29.919 ********** 
Четверг 20 июля 2023  22:21:44 +0300 (0:00:00.091)       0:01:30.011 ********** 

TASK [kubernetes/preinstall : Update common_required_pkgs with ipvsadm when kube_proxy_mode is ipvs] ***
ok: [master] => {"ansible_facts": {"common_required_pkgs": ["openssl", "curl", "rsync", "socat", "unzip", "e2fsprogs", "xfsprogs", "ebtables", "bash-completion", "tar", "ipvsadm", "ipset"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"common_required_pkgs": ["openssl", "curl", "rsync", "socat", "unzip", "e2fsprogs", "xfsprogs", "ebtables", "bash-completion", "tar", "ipvsadm", "ipset"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"common_required_pkgs": ["openssl", "curl", "rsync", "socat", "unzip", "e2fsprogs", "xfsprogs", "ebtables", "bash-completion", "tar", "ipvsadm", "ipset"]}, "changed": false}
Четверг 20 июля 2023  22:21:44 +0300 (0:00:00.198)       0:01:30.209 ********** 

TASK [kubernetes/preinstall : Install packages requirements] *******************
changed: [node1] => {"attempts": 1, "cache_update_time": 1689878896, "cache_updated": false, "changed": true, "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libipset13 libreadline5\nSuggested packages:\n  nftables heartbeat keepalived ldirectord zip xfsdump acl attr quota\nThe following NEW packages will be installed:\n  conntrack ebtables ipset ipvsadm libipset13 libreadline5 socat unzip\n  xfsprogs\n0 upgraded, 9 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1,599 kB of archives.\nAfter this operation, 5,949 kB of additional disk space will be used.\nGet:1 http://mirror.yandex.ru/ubuntu focal/main amd64 conntrack amd64 1:1.4.5-2 [30.3 kB]\nGet:2 http://mirror.yandex.ru/ubuntu focal/main amd64 ebtables amd64 2.0.11-3build1 [80.3 kB]\nGet:3 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 libipset13 amd64 7.5-1ubuntu0.20.04.1 [53.6 kB]\nGet:4 http://mirror.yandex.ru/ubuntu focal/main amd64 libreadline5 amd64 5.2+dfsg-3build3 [100 kB]\nGet:5 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 unzip amd64 6.0-25ubuntu1.1 [168 kB]\nGet:6 http://mirror.yandex.ru/ubuntu focal/main amd64 xfsprogs amd64 5.3.0-1ubuntu2 [773 kB]\nGet:7 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 ipset amd64 7.5-1ubuntu0.20.04.1 [29.8 kB]\nGet:8 http://mirror.yandex.ru/ubuntu focal/main amd64 ipvsadm amd64 1:1.31-1 [40.2 kB]\nGet:9 http://mirror.yandex.ru/ubuntu focal/main amd64 socat amd64 1.7.3.3-2 [323 kB]\nFetched 1,599 kB in 0s (12.0 MB/s)\nSelecting previously unselected package conntrack.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 102594 files and directories currently installed.)\r\nPreparing to unpack .../0-conntrack_1%3a1.4.5-2_amd64.deb ...\r\nUnpacking conntrack (1:1.4.5-2) ...\r\nSelecting previously unselected package ebtables.\r\nPreparing to unpack .../1-ebtables_2.0.11-3build1_amd64.deb ...\r\nUnpacking ebtables (2.0.11-3build1) ...\r\nSelecting previously unselected package libipset13:amd64.\r\nPreparing to unpack .../2-libipset13_7.5-1ubuntu0.20.04.1_amd64.deb ...\r\nUnpacking libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...\r\nSelecting previously unselected package libreadline5:amd64.\r\nPreparing to unpack .../3-libreadline5_5.2+dfsg-3build3_amd64.deb ...\r\nUnpacking libreadline5:amd64 (5.2+dfsg-3build3) ...\r\nSelecting previously unselected package unzip.\r\nPreparing to unpack .../4-unzip_6.0-25ubuntu1.1_amd64.deb ...\r\nUnpacking unzip (6.0-25ubuntu1.1) ...\r\nSelecting previously unselected package xfsprogs.\r\nPreparing to unpack .../5-xfsprogs_5.3.0-1ubuntu2_amd64.deb ...\r\nUnpacking xfsprogs (5.3.0-1ubuntu2) ...\r\nSelecting previously unselected package ipset.\r\nPreparing to unpack .../6-ipset_7.5-1ubuntu0.20.04.1_amd64.deb ...\r\nUnpacking ipset (7.5-1ubuntu0.20.04.1) ...\r\nSelecting previously unselected package ipvsadm.\r\nPreparing to unpack .../7-ipvsadm_1%3a1.31-1_amd64.deb ...\r\nUnpacking ipvsadm (1:1.31-1) ...\r\nSelecting previously unselected package socat.\r\nPreparing to unpack .../8-socat_1.7.3.3-2_amd64.deb ...\r\nUnpacking socat (1.7.3.3-2) ...\r\nSetting up ipvsadm (1:1.31-1) ...\r\nSetting up libreadline5:amd64 (5.2+dfsg-3build3) ...\r\nSetting up unzip (6.0-25ubuntu1.1) ...\r\nSetting up conntrack (1:1.4.5-2) ...\r\nSetting up ebtables (2.0.11-3build1) ...\r\nSetting up socat (1.7.3.3-2) ...\r\nSetting up xfsprogs (5.3.0-1ubuntu2) ...\r\nupdate-initramfs: deferring update (trigger activated)\r\nSetting up libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...\r\nSetting up ipset (7.5-1ubuntu0.20.04.1) ...\r\nProcessing triggers for libc-bin (2.31-0ubuntu9.9) ...\r\nProcessing triggers for systemd (245.4-4ubuntu3.22) ...\r\nProcessing triggers for man-db (2.9.1-1) ...\r\nProcessing triggers for mime-support (3.64ubuntu1) ...\r\nProcessing triggers for initramfs-tools (0.136ubuntu6.7) ...\r\nupdate-initramfs: Generating /boot/initrd.img-5.4.0-153-generic\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  libipset13 libreadline5", "Suggested packages:", "  nftables heartbeat keepalived ldirectord zip xfsdump acl attr quota", "The following NEW packages will be installed:", "  conntrack ebtables ipset ipvsadm libipset13 libreadline5 socat unzip", "  xfsprogs", "0 upgraded, 9 newly installed, 0 to remove and 0 not upgraded.", "Need to get 1,599 kB of archives.", "After this operation, 5,949 kB of additional disk space will be used.", "Get:1 http://mirror.yandex.ru/ubuntu focal/main amd64 conntrack amd64 1:1.4.5-2 [30.3 kB]", "Get:2 http://mirror.yandex.ru/ubuntu focal/main amd64 ebtables amd64 2.0.11-3build1 [80.3 kB]", "Get:3 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 libipset13 amd64 7.5-1ubuntu0.20.04.1 [53.6 kB]", "Get:4 http://mirror.yandex.ru/ubuntu focal/main amd64 libreadline5 amd64 5.2+dfsg-3build3 [100 kB]", "Get:5 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 unzip amd64 6.0-25ubuntu1.1 [168 kB]", "Get:6 http://mirror.yandex.ru/ubuntu focal/main amd64 xfsprogs amd64 5.3.0-1ubuntu2 [773 kB]", "Get:7 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 ipset amd64 7.5-1ubuntu0.20.04.1 [29.8 kB]", "Get:8 http://mirror.yandex.ru/ubuntu focal/main amd64 ipvsadm amd64 1:1.31-1 [40.2 kB]", "Get:9 http://mirror.yandex.ru/ubuntu focal/main amd64 socat amd64 1.7.3.3-2 [323 kB]", "Fetched 1,599 kB in 0s (12.0 MB/s)", "Selecting previously unselected package conntrack.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 102594 files and directories currently installed.)", "Preparing to unpack .../0-conntrack_1%3a1.4.5-2_amd64.deb ...", "Unpacking conntrack (1:1.4.5-2) ...", "Selecting previously unselected package ebtables.", "Preparing to unpack .../1-ebtables_2.0.11-3build1_amd64.deb ...", "Unpacking ebtables (2.0.11-3build1) ...", "Selecting previously unselected package libipset13:amd64.", "Preparing to unpack .../2-libipset13_7.5-1ubuntu0.20.04.1_amd64.deb ...", "Unpacking libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...", "Selecting previously unselected package libreadline5:amd64.", "Preparing to unpack .../3-libreadline5_5.2+dfsg-3build3_amd64.deb ...", "Unpacking libreadline5:amd64 (5.2+dfsg-3build3) ...", "Selecting previously unselected package unzip.", "Preparing to unpack .../4-unzip_6.0-25ubuntu1.1_amd64.deb ...", "Unpacking unzip (6.0-25ubuntu1.1) ...", "Selecting previously unselected package xfsprogs.", "Preparing to unpack .../5-xfsprogs_5.3.0-1ubuntu2_amd64.deb ...", "Unpacking xfsprogs (5.3.0-1ubuntu2) ...", "Selecting previously unselected package ipset.", "Preparing to unpack .../6-ipset_7.5-1ubuntu0.20.04.1_amd64.deb ...", "Unpacking ipset (7.5-1ubuntu0.20.04.1) ...", "Selecting previously unselected package ipvsadm.", "Preparing to unpack .../7-ipvsadm_1%3a1.31-1_amd64.deb ...", "Unpacking ipvsadm (1:1.31-1) ...", "Selecting previously unselected package socat.", "Preparing to unpack .../8-socat_1.7.3.3-2_amd64.deb ...", "Unpacking socat (1.7.3.3-2) ...", "Setting up ipvsadm (1:1.31-1) ...", "Setting up libreadline5:amd64 (5.2+dfsg-3build3) ...", "Setting up unzip (6.0-25ubuntu1.1) ...", "Setting up conntrack (1:1.4.5-2) ...", "Setting up ebtables (2.0.11-3build1) ...", "Setting up socat (1.7.3.3-2) ...", "Setting up xfsprogs (5.3.0-1ubuntu2) ...", "update-initramfs: deferring update (trigger activated)", "Setting up libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...", "Setting up ipset (7.5-1ubuntu0.20.04.1) ...", "Processing triggers for libc-bin (2.31-0ubuntu9.9) ...", "Processing triggers for systemd (245.4-4ubuntu3.22) ...", "Processing triggers for man-db (2.9.1-1) ...", "Processing triggers for mime-support (3.64ubuntu1) ...", "Processing triggers for initramfs-tools (0.136ubuntu6.7) ...", "update-initramfs: Generating /boot/initrd.img-5.4.0-153-generic"]}
changed: [node2] => {"attempts": 1, "cache_update_time": 1689878905, "cache_updated": false, "changed": true, "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libipset13 libreadline5\nSuggested packages:\n  nftables heartbeat keepalived ldirectord zip xfsdump acl attr quota\nThe following NEW packages will be installed:\n  conntrack ebtables ipset ipvsadm libipset13 libreadline5 socat unzip\n  xfsprogs\n0 upgraded, 9 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1,599 kB of archives.\nAfter this operation, 5,949 kB of additional disk space will be used.\nGet:1 http://mirror.yandex.ru/ubuntu focal/main amd64 conntrack amd64 1:1.4.5-2 [30.3 kB]\nGet:2 http://mirror.yandex.ru/ubuntu focal/main amd64 ebtables amd64 2.0.11-3build1 [80.3 kB]\nGet:3 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 libipset13 amd64 7.5-1ubuntu0.20.04.1 [53.6 kB]\nGet:4 http://mirror.yandex.ru/ubuntu focal/main amd64 libreadline5 amd64 5.2+dfsg-3build3 [100 kB]\nGet:5 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 unzip amd64 6.0-25ubuntu1.1 [168 kB]\nGet:6 http://mirror.yandex.ru/ubuntu focal/main amd64 xfsprogs amd64 5.3.0-1ubuntu2 [773 kB]\nGet:7 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 ipset amd64 7.5-1ubuntu0.20.04.1 [29.8 kB]\nGet:8 http://mirror.yandex.ru/ubuntu focal/main amd64 ipvsadm amd64 1:1.31-1 [40.2 kB]\nGet:9 http://mirror.yandex.ru/ubuntu focal/main amd64 socat amd64 1.7.3.3-2 [323 kB]\nFetched 1,599 kB in 0s (9,563 kB/s)\nSelecting previously unselected package conntrack.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 102594 files and directories currently installed.)\r\nPreparing to unpack .../0-conntrack_1%3a1.4.5-2_amd64.deb ...\r\nUnpacking conntrack (1:1.4.5-2) ...\r\nSelecting previously unselected package ebtables.\r\nPreparing to unpack .../1-ebtables_2.0.11-3build1_amd64.deb ...\r\nUnpacking ebtables (2.0.11-3build1) ...\r\nSelecting previously unselected package libipset13:amd64.\r\nPreparing to unpack .../2-libipset13_7.5-1ubuntu0.20.04.1_amd64.deb ...\r\nUnpacking libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...\r\nSelecting previously unselected package libreadline5:amd64.\r\nPreparing to unpack .../3-libreadline5_5.2+dfsg-3build3_amd64.deb ...\r\nUnpacking libreadline5:amd64 (5.2+dfsg-3build3) ...\r\nSelecting previously unselected package unzip.\r\nPreparing to unpack .../4-unzip_6.0-25ubuntu1.1_amd64.deb ...\r\nUnpacking unzip (6.0-25ubuntu1.1) ...\r\nSelecting previously unselected package xfsprogs.\r\nPreparing to unpack .../5-xfsprogs_5.3.0-1ubuntu2_amd64.deb ...\r\nUnpacking xfsprogs (5.3.0-1ubuntu2) ...\r\nSelecting previously unselected package ipset.\r\nPreparing to unpack .../6-ipset_7.5-1ubuntu0.20.04.1_amd64.deb ...\r\nUnpacking ipset (7.5-1ubuntu0.20.04.1) ...\r\nSelecting previously unselected package ipvsadm.\r\nPreparing to unpack .../7-ipvsadm_1%3a1.31-1_amd64.deb ...\r\nUnpacking ipvsadm (1:1.31-1) ...\r\nSelecting previously unselected package socat.\r\nPreparing to unpack .../8-socat_1.7.3.3-2_amd64.deb ...\r\nUnpacking socat (1.7.3.3-2) ...\r\nSetting up ipvsadm (1:1.31-1) ...\r\nSetting up libreadline5:amd64 (5.2+dfsg-3build3) ...\r\nSetting up unzip (6.0-25ubuntu1.1) ...\r\nSetting up conntrack (1:1.4.5-2) ...\r\nSetting up ebtables (2.0.11-3build1) ...\r\nSetting up socat (1.7.3.3-2) ...\r\nSetting up xfsprogs (5.3.0-1ubuntu2) ...\r\nupdate-initramfs: deferring update (trigger activated)\r\nSetting up libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...\r\nSetting up ipset (7.5-1ubuntu0.20.04.1) ...\r\nProcessing triggers for libc-bin (2.31-0ubuntu9.9) ...\r\nProcessing triggers for systemd (245.4-4ubuntu3.22) ...\r\nProcessing triggers for man-db (2.9.1-1) ...\r\nProcessing triggers for mime-support (3.64ubuntu1) ...\r\nProcessing triggers for initramfs-tools (0.136ubuntu6.7) ...\r\nupdate-initramfs: Generating /boot/initrd.img-5.4.0-153-generic\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  libipset13 libreadline5", "Suggested packages:", "  nftables heartbeat keepalived ldirectord zip xfsdump acl attr quota", "The following NEW packages will be installed:", "  conntrack ebtables ipset ipvsadm libipset13 libreadline5 socat unzip", "  xfsprogs", "0 upgraded, 9 newly installed, 0 to remove and 0 not upgraded.", "Need to get 1,599 kB of archives.", "After this operation, 5,949 kB of additional disk space will be used.", "Get:1 http://mirror.yandex.ru/ubuntu focal/main amd64 conntrack amd64 1:1.4.5-2 [30.3 kB]", "Get:2 http://mirror.yandex.ru/ubuntu focal/main amd64 ebtables amd64 2.0.11-3build1 [80.3 kB]", "Get:3 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 libipset13 amd64 7.5-1ubuntu0.20.04.1 [53.6 kB]", "Get:4 http://mirror.yandex.ru/ubuntu focal/main amd64 libreadline5 amd64 5.2+dfsg-3build3 [100 kB]", "Get:5 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 unzip amd64 6.0-25ubuntu1.1 [168 kB]", "Get:6 http://mirror.yandex.ru/ubuntu focal/main amd64 xfsprogs amd64 5.3.0-1ubuntu2 [773 kB]", "Get:7 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 ipset amd64 7.5-1ubuntu0.20.04.1 [29.8 kB]", "Get:8 http://mirror.yandex.ru/ubuntu focal/main amd64 ipvsadm amd64 1:1.31-1 [40.2 kB]", "Get:9 http://mirror.yandex.ru/ubuntu focal/main amd64 socat amd64 1.7.3.3-2 [323 kB]", "Fetched 1,599 kB in 0s (9,563 kB/s)", "Selecting previously unselected package conntrack.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 102594 files and directories currently installed.)", "Preparing to unpack .../0-conntrack_1%3a1.4.5-2_amd64.deb ...", "Unpacking conntrack (1:1.4.5-2) ...", "Selecting previously unselected package ebtables.", "Preparing to unpack .../1-ebtables_2.0.11-3build1_amd64.deb ...", "Unpacking ebtables (2.0.11-3build1) ...", "Selecting previously unselected package libipset13:amd64.", "Preparing to unpack .../2-libipset13_7.5-1ubuntu0.20.04.1_amd64.deb ...", "Unpacking libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...", "Selecting previously unselected package libreadline5:amd64.", "Preparing to unpack .../3-libreadline5_5.2+dfsg-3build3_amd64.deb ...", "Unpacking libreadline5:amd64 (5.2+dfsg-3build3) ...", "Selecting previously unselected package unzip.", "Preparing to unpack .../4-unzip_6.0-25ubuntu1.1_amd64.deb ...", "Unpacking unzip (6.0-25ubuntu1.1) ...", "Selecting previously unselected package xfsprogs.", "Preparing to unpack .../5-xfsprogs_5.3.0-1ubuntu2_amd64.deb ...", "Unpacking xfsprogs (5.3.0-1ubuntu2) ...", "Selecting previously unselected package ipset.", "Preparing to unpack .../6-ipset_7.5-1ubuntu0.20.04.1_amd64.deb ...", "Unpacking ipset (7.5-1ubuntu0.20.04.1) ...", "Selecting previously unselected package ipvsadm.", "Preparing to unpack .../7-ipvsadm_1%3a1.31-1_amd64.deb ...", "Unpacking ipvsadm (1:1.31-1) ...", "Selecting previously unselected package socat.", "Preparing to unpack .../8-socat_1.7.3.3-2_amd64.deb ...", "Unpacking socat (1.7.3.3-2) ...", "Setting up ipvsadm (1:1.31-1) ...", "Setting up libreadline5:amd64 (5.2+dfsg-3build3) ...", "Setting up unzip (6.0-25ubuntu1.1) ...", "Setting up conntrack (1:1.4.5-2) ...", "Setting up ebtables (2.0.11-3build1) ...", "Setting up socat (1.7.3.3-2) ...", "Setting up xfsprogs (5.3.0-1ubuntu2) ...", "update-initramfs: deferring update (trigger activated)", "Setting up libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...", "Setting up ipset (7.5-1ubuntu0.20.04.1) ...", "Processing triggers for libc-bin (2.31-0ubuntu9.9) ...", "Processing triggers for systemd (245.4-4ubuntu3.22) ...", "Processing triggers for man-db (2.9.1-1) ...", "Processing triggers for mime-support (3.64ubuntu1) ...", "Processing triggers for initramfs-tools (0.136ubuntu6.7) ...", "update-initramfs: Generating /boot/initrd.img-5.4.0-153-generic"]}
changed: [master] => {"attempts": 1, "cache_update_time": 1689878883, "cache_updated": false, "changed": true, "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libipset13 libreadline5\nSuggested packages:\n  nftables heartbeat keepalived ldirectord zip xfsdump acl attr quota\nThe following NEW packages will be installed:\n  conntrack ebtables ipset ipvsadm libipset13 libreadline5 socat unzip\n  xfsprogs\n0 upgraded, 9 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 1,599 kB of archives.\nAfter this operation, 5,949 kB of additional disk space will be used.\nGet:1 http://mirror.yandex.ru/ubuntu focal/main amd64 conntrack amd64 1:1.4.5-2 [30.3 kB]\nGet:2 http://mirror.yandex.ru/ubuntu focal/main amd64 ebtables amd64 2.0.11-3build1 [80.3 kB]\nGet:3 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 libipset13 amd64 7.5-1ubuntu0.20.04.1 [53.6 kB]\nGet:4 http://mirror.yandex.ru/ubuntu focal/main amd64 libreadline5 amd64 5.2+dfsg-3build3 [100 kB]\nGet:5 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 unzip amd64 6.0-25ubuntu1.1 [168 kB]\nGet:6 http://mirror.yandex.ru/ubuntu focal/main amd64 xfsprogs amd64 5.3.0-1ubuntu2 [773 kB]\nGet:7 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 ipset amd64 7.5-1ubuntu0.20.04.1 [29.8 kB]\nGet:8 http://mirror.yandex.ru/ubuntu focal/main amd64 ipvsadm amd64 1:1.31-1 [40.2 kB]\nGet:9 http://mirror.yandex.ru/ubuntu focal/main amd64 socat amd64 1.7.3.3-2 [323 kB]\nFetched 1,599 kB in 0s (12.8 MB/s)\nSelecting previously unselected package conntrack.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 102594 files and directories currently installed.)\r\nPreparing to unpack .../0-conntrack_1%3a1.4.5-2_amd64.deb ...\r\nUnpacking conntrack (1:1.4.5-2) ...\r\nSelecting previously unselected package ebtables.\r\nPreparing to unpack .../1-ebtables_2.0.11-3build1_amd64.deb ...\r\nUnpacking ebtables (2.0.11-3build1) ...\r\nSelecting previously unselected package libipset13:amd64.\r\nPreparing to unpack .../2-libipset13_7.5-1ubuntu0.20.04.1_amd64.deb ...\r\nUnpacking libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...\r\nSelecting previously unselected package libreadline5:amd64.\r\nPreparing to unpack .../3-libreadline5_5.2+dfsg-3build3_amd64.deb ...\r\nUnpacking libreadline5:amd64 (5.2+dfsg-3build3) ...\r\nSelecting previously unselected package unzip.\r\nPreparing to unpack .../4-unzip_6.0-25ubuntu1.1_amd64.deb ...\r\nUnpacking unzip (6.0-25ubuntu1.1) ...\r\nSelecting previously unselected package xfsprogs.\r\nPreparing to unpack .../5-xfsprogs_5.3.0-1ubuntu2_amd64.deb ...\r\nUnpacking xfsprogs (5.3.0-1ubuntu2) ...\r\nSelecting previously unselected package ipset.\r\nPreparing to unpack .../6-ipset_7.5-1ubuntu0.20.04.1_amd64.deb ...\r\nUnpacking ipset (7.5-1ubuntu0.20.04.1) ...\r\nSelecting previously unselected package ipvsadm.\r\nPreparing to unpack .../7-ipvsadm_1%3a1.31-1_amd64.deb ...\r\nUnpacking ipvsadm (1:1.31-1) ...\r\nSelecting previously unselected package socat.\r\nPreparing to unpack .../8-socat_1.7.3.3-2_amd64.deb ...\r\nUnpacking socat (1.7.3.3-2) ...\r\nSetting up ipvsadm (1:1.31-1) ...\r\nSetting up libreadline5:amd64 (5.2+dfsg-3build3) ...\r\nSetting up unzip (6.0-25ubuntu1.1) ...\r\nSetting up conntrack (1:1.4.5-2) ...\r\nSetting up ebtables (2.0.11-3build1) ...\r\nSetting up socat (1.7.3.3-2) ...\r\nSetting up xfsprogs (5.3.0-1ubuntu2) ...\r\nupdate-initramfs: deferring update (trigger activated)\r\nSetting up libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...\r\nSetting up ipset (7.5-1ubuntu0.20.04.1) ...\r\nProcessing triggers for libc-bin (2.31-0ubuntu9.9) ...\r\nProcessing triggers for systemd (245.4-4ubuntu3.22) ...\r\nProcessing triggers for man-db (2.9.1-1) ...\r\nProcessing triggers for mime-support (3.64ubuntu1) ...\r\nProcessing triggers for initramfs-tools (0.136ubuntu6.7) ...\r\nupdate-initramfs: Generating /boot/initrd.img-5.4.0-153-generic\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  libipset13 libreadline5", "Suggested packages:", "  nftables heartbeat keepalived ldirectord zip xfsdump acl attr quota", "The following NEW packages will be installed:", "  conntrack ebtables ipset ipvsadm libipset13 libreadline5 socat unzip", "  xfsprogs", "0 upgraded, 9 newly installed, 0 to remove and 0 not upgraded.", "Need to get 1,599 kB of archives.", "After this operation, 5,949 kB of additional disk space will be used.", "Get:1 http://mirror.yandex.ru/ubuntu focal/main amd64 conntrack amd64 1:1.4.5-2 [30.3 kB]", "Get:2 http://mirror.yandex.ru/ubuntu focal/main amd64 ebtables amd64 2.0.11-3build1 [80.3 kB]", "Get:3 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 libipset13 amd64 7.5-1ubuntu0.20.04.1 [53.6 kB]", "Get:4 http://mirror.yandex.ru/ubuntu focal/main amd64 libreadline5 amd64 5.2+dfsg-3build3 [100 kB]", "Get:5 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 unzip amd64 6.0-25ubuntu1.1 [168 kB]", "Get:6 http://mirror.yandex.ru/ubuntu focal/main amd64 xfsprogs amd64 5.3.0-1ubuntu2 [773 kB]", "Get:7 http://mirror.yandex.ru/ubuntu focal-updates/main amd64 ipset amd64 7.5-1ubuntu0.20.04.1 [29.8 kB]", "Get:8 http://mirror.yandex.ru/ubuntu focal/main amd64 ipvsadm amd64 1:1.31-1 [40.2 kB]", "Get:9 http://mirror.yandex.ru/ubuntu focal/main amd64 socat amd64 1.7.3.3-2 [323 kB]", "Fetched 1,599 kB in 0s (12.8 MB/s)", "Selecting previously unselected package conntrack.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 102594 files and directories currently installed.)", "Preparing to unpack .../0-conntrack_1%3a1.4.5-2_amd64.deb ...", "Unpacking conntrack (1:1.4.5-2) ...", "Selecting previously unselected package ebtables.", "Preparing to unpack .../1-ebtables_2.0.11-3build1_amd64.deb ...", "Unpacking ebtables (2.0.11-3build1) ...", "Selecting previously unselected package libipset13:amd64.", "Preparing to unpack .../2-libipset13_7.5-1ubuntu0.20.04.1_amd64.deb ...", "Unpacking libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...", "Selecting previously unselected package libreadline5:amd64.", "Preparing to unpack .../3-libreadline5_5.2+dfsg-3build3_amd64.deb ...", "Unpacking libreadline5:amd64 (5.2+dfsg-3build3) ...", "Selecting previously unselected package unzip.", "Preparing to unpack .../4-unzip_6.0-25ubuntu1.1_amd64.deb ...", "Unpacking unzip (6.0-25ubuntu1.1) ...", "Selecting previously unselected package xfsprogs.", "Preparing to unpack .../5-xfsprogs_5.3.0-1ubuntu2_amd64.deb ...", "Unpacking xfsprogs (5.3.0-1ubuntu2) ...", "Selecting previously unselected package ipset.", "Preparing to unpack .../6-ipset_7.5-1ubuntu0.20.04.1_amd64.deb ...", "Unpacking ipset (7.5-1ubuntu0.20.04.1) ...", "Selecting previously unselected package ipvsadm.", "Preparing to unpack .../7-ipvsadm_1%3a1.31-1_amd64.deb ...", "Unpacking ipvsadm (1:1.31-1) ...", "Selecting previously unselected package socat.", "Preparing to unpack .../8-socat_1.7.3.3-2_amd64.deb ...", "Unpacking socat (1.7.3.3-2) ...", "Setting up ipvsadm (1:1.31-1) ...", "Setting up libreadline5:amd64 (5.2+dfsg-3build3) ...", "Setting up unzip (6.0-25ubuntu1.1) ...", "Setting up conntrack (1:1.4.5-2) ...", "Setting up ebtables (2.0.11-3build1) ...", "Setting up socat (1.7.3.3-2) ...", "Setting up xfsprogs (5.3.0-1ubuntu2) ...", "update-initramfs: deferring update (trigger activated)", "Setting up libipset13:amd64 (7.5-1ubuntu0.20.04.1) ...", "Setting up ipset (7.5-1ubuntu0.20.04.1) ...", "Processing triggers for libc-bin (2.31-0ubuntu9.9) ...", "Processing triggers for systemd (245.4-4ubuntu3.22) ...", "Processing triggers for man-db (2.9.1-1) ...", "Processing triggers for mime-support (3.64ubuntu1) ...", "Processing triggers for initramfs-tools (0.136ubuntu6.7) ...", "update-initramfs: Generating /boot/initrd.img-5.4.0-153-generic"]}
Четверг 20 июля 2023  22:22:35 +0300 (0:00:51.074)       0:02:21.284 ********** 
Четверг 20 июля 2023  22:22:35 +0300 (0:00:00.082)       0:02:21.367 ********** 
Четверг 20 июля 2023  22:22:35 +0300 (0:00:00.093)       0:02:21.460 ********** 
Четверг 20 июля 2023  22:22:36 +0300 (0:00:00.095)       0:02:21.556 ********** 
Четверг 20 июля 2023  22:22:36 +0300 (0:00:00.088)       0:02:21.644 ********** 

TASK [kubernetes/preinstall : Clean previously used sysctl file locations] *****
ok: [node1] => (item=ipv4-ip_forward.conf) => {"ansible_loop_var": "item", "changed": false, "item": "ipv4-ip_forward.conf", "path": "/etc/sysctl.d/ipv4-ip_forward.conf", "state": "absent"}
ok: [master] => (item=ipv4-ip_forward.conf) => {"ansible_loop_var": "item", "changed": false, "item": "ipv4-ip_forward.conf", "path": "/etc/sysctl.d/ipv4-ip_forward.conf", "state": "absent"}
ok: [node2] => (item=ipv4-ip_forward.conf) => {"ansible_loop_var": "item", "changed": false, "item": "ipv4-ip_forward.conf", "path": "/etc/sysctl.d/ipv4-ip_forward.conf", "state": "absent"}
ok: [node1] => (item=bridge-nf-call.conf) => {"ansible_loop_var": "item", "changed": false, "item": "bridge-nf-call.conf", "path": "/etc/sysctl.d/bridge-nf-call.conf", "state": "absent"}
ok: [node2] => (item=bridge-nf-call.conf) => {"ansible_loop_var": "item", "changed": false, "item": "bridge-nf-call.conf", "path": "/etc/sysctl.d/bridge-nf-call.conf", "state": "absent"}
ok: [master] => (item=bridge-nf-call.conf) => {"ansible_loop_var": "item", "changed": false, "item": "bridge-nf-call.conf", "path": "/etc/sysctl.d/bridge-nf-call.conf", "state": "absent"}
Четверг 20 июля 2023  22:22:39 +0300 (0:00:03.315)       0:02:24.960 ********** 

TASK [kubernetes/preinstall : Stat sysctl file configuration] ******************
ok: [node1] => {"changed": false, "stat": {"atime": 1689878882.692, "block_size": 4096, "blocks": 0, "ctime": 1688841534.846634, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 134417, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/etc/sysctl.conf", "lnk_target": "../sysctl.conf", "mode": "0777", "mtime": 1679939646.0, "nlink": 1, "path": "/etc/sysctl.d/99-sysctl.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 14, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [node2] => {"changed": false, "stat": {"atime": 1689878893.656, "block_size": 4096, "blocks": 0, "ctime": 1688841534.846634, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 134417, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/etc/sysctl.conf", "lnk_target": "../sysctl.conf", "mode": "0777", "mtime": 1679939646.0, "nlink": 1, "path": "/etc/sysctl.d/99-sysctl.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 14, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [master] => {"changed": false, "stat": {"atime": 1689878868.0, "block_size": 4096, "blocks": 0, "ctime": 1688841534.846634, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 134417, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/etc/sysctl.conf", "lnk_target": "../sysctl.conf", "mode": "0777", "mtime": 1679939646.0, "nlink": 1, "path": "/etc/sysctl.d/99-sysctl.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 14, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:22:41 +0300 (0:00:01.640)       0:02:26.601 ********** 

TASK [kubernetes/preinstall : Change sysctl file path to link source if linked] ***
ok: [master] => {"ansible_facts": {"sysctl_file_path": "/etc/sysctl.conf"}, "changed": false}
ok: [node1] => {"ansible_facts": {"sysctl_file_path": "/etc/sysctl.conf"}, "changed": false}
ok: [node2] => {"ansible_facts": {"sysctl_file_path": "/etc/sysctl.conf"}, "changed": false}
Четверг 20 июля 2023  22:22:41 +0300 (0:00:00.104)       0:02:26.706 ********** 

TASK [kubernetes/preinstall : Make sure sysctl file path folder exists] ********
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:22:42 +0300 (0:00:01.090)       0:02:27.797 ********** 

TASK [kubernetes/preinstall : Enable ip forwarding] ****************************
changed: [node1] => {"changed": true}
changed: [node2] => {"changed": true}
changed: [master] => {"changed": true}
Четверг 20 июля 2023  22:22:43 +0300 (0:00:01.454)       0:02:29.251 ********** 
Четверг 20 июля 2023  22:22:43 +0300 (0:00:00.093)       0:02:29.345 ********** 

TASK [kubernetes/preinstall : Check if we need to set fs.may_detach_mounts] ****
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:22:44 +0300 (0:00:01.137)       0:02:30.482 ********** 
Четверг 20 июля 2023  22:22:45 +0300 (0:00:00.106)       0:02:30.589 ********** 

TASK [kubernetes/preinstall : Ensure kube-bench parameters are set] ************
changed: [node1] => (item={'name': 'kernel.keys.root_maxbytes', 'value': 25000000}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.keys.root_maxbytes", "value": 25000000}}
changed: [node2] => (item={'name': 'kernel.keys.root_maxbytes', 'value': 25000000}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.keys.root_maxbytes", "value": 25000000}}
changed: [master] => (item={'name': 'kernel.keys.root_maxbytes', 'value': 25000000}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.keys.root_maxbytes", "value": 25000000}}
changed: [node1] => (item={'name': 'kernel.keys.root_maxkeys', 'value': 1000000}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.keys.root_maxkeys", "value": 1000000}}
changed: [node2] => (item={'name': 'kernel.keys.root_maxkeys', 'value': 1000000}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.keys.root_maxkeys", "value": 1000000}}
changed: [master] => (item={'name': 'kernel.keys.root_maxkeys', 'value': 1000000}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.keys.root_maxkeys", "value": 1000000}}
changed: [node1] => (item={'name': 'kernel.panic', 'value': 10}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.panic", "value": 10}}
changed: [node2] => (item={'name': 'kernel.panic', 'value': 10}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.panic", "value": 10}}
changed: [master] => (item={'name': 'kernel.panic', 'value': 10}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.panic", "value": 10}}
changed: [node1] => (item={'name': 'kernel.panic_on_oops', 'value': 1}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.panic_on_oops", "value": 1}}
changed: [node2] => (item={'name': 'kernel.panic_on_oops', 'value': 1}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.panic_on_oops", "value": 1}}
changed: [master] => (item={'name': 'kernel.panic_on_oops', 'value': 1}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "kernel.panic_on_oops", "value": 1}}
changed: [node1] => (item={'name': 'vm.overcommit_memory', 'value': 1}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "vm.overcommit_memory", "value": 1}}
changed: [node2] => (item={'name': 'vm.overcommit_memory', 'value': 1}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "vm.overcommit_memory", "value": 1}}
changed: [master] => (item={'name': 'vm.overcommit_memory', 'value': 1}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "vm.overcommit_memory", "value": 1}}
changed: [node1] => (item={'name': 'vm.panic_on_oom', 'value': 0}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "vm.panic_on_oom", "value": 0}}
changed: [node2] => (item={'name': 'vm.panic_on_oom', 'value': 0}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "vm.panic_on_oom", "value": 0}}
changed: [master] => (item={'name': 'vm.panic_on_oom', 'value': 0}) => {"ansible_loop_var": "item", "changed": true, "item": {"name": "vm.panic_on_oom", "value": 0}}
Четверг 20 июля 2023  22:22:51 +0300 (0:00:06.775)       0:02:37.364 ********** 

TASK [kubernetes/preinstall : Check dummy module] ******************************
changed: [node1] => {"changed": true, "name": "dummy", "params": "numdummies=0", "state": "present"}
changed: [node2] => {"changed": true, "name": "dummy", "params": "numdummies=0", "state": "present"}
changed: [master] => {"changed": true, "name": "dummy", "params": "numdummies=0", "state": "present"}
Четверг 20 июля 2023  22:22:53 +0300 (0:00:01.432)       0:02:38.796 ********** 
Четверг 20 июля 2023  22:22:53 +0300 (0:00:00.082)       0:02:38.878 ********** 
Четверг 20 июля 2023  22:22:53 +0300 (0:00:00.215)       0:02:39.094 ********** 
Четверг 20 июля 2023  22:22:53 +0300 (0:00:00.098)       0:02:39.192 ********** 
Четверг 20 июля 2023  22:22:53 +0300 (0:00:00.085)       0:02:39.277 ********** 
Четверг 20 июля 2023  22:22:53 +0300 (0:00:00.087)       0:02:39.365 ********** 
Четверг 20 июля 2023  22:22:53 +0300 (0:00:00.083)       0:02:39.449 ********** 
Четверг 20 июля 2023  22:22:54 +0300 (0:00:00.083)       0:02:39.533 ********** 
Четверг 20 июля 2023  22:22:54 +0300 (0:00:00.086)       0:02:39.619 ********** 
Четверг 20 июля 2023  22:22:54 +0300 (0:00:00.087)       0:02:39.707 ********** 
Четверг 20 июля 2023  22:22:54 +0300 (0:00:00.092)       0:02:39.799 ********** 

TASK [kubernetes/preinstall : Hosts | create list from inventory] **************
ok: [master -> localhost] => {"ansible_facts": {"etc_hosts_inventory_block": "192.168.20.29 master.cluster.local master \n192.168.30.25 node1.cluster.local node1 \n192.168.10.20 node2.cluster.local node2 \n"}, "changed": false}
Четверг 20 июля 2023  22:22:54 +0300 (0:00:00.344)       0:02:40.144 ********** 

TASK [kubernetes/preinstall : Hosts | populate inventory into hosts file] ******
changed: [node1] => {"backup_file": "/etc/hosts.9289.2023-07-20@19:22:56~", "changed": true, "msg": "Block inserted"}
changed: [node2] => {"backup_file": "/etc/hosts.9110.2023-07-20@19:22:56~", "changed": true, "msg": "Block inserted"}
changed: [master] => {"backup_file": "/etc/hosts.9318.2023-07-20@19:22:56~", "changed": true, "msg": "Block inserted"}
Четверг 20 июля 2023  22:22:56 +0300 (0:00:02.276)       0:02:42.421 ********** 
Четверг 20 июля 2023  22:22:56 +0300 (0:00:00.102)       0:02:42.523 ********** 

TASK [kubernetes/preinstall : Hosts | Retrieve hosts file content] *************
ok: [node1] => {"changed": false, "content": "IyBZb3VyIHN5c3RlbSBoYXMgY29uZmlndXJlZCAnbWFuYWdlX2V0Y19ob3N0cycgYXMgVHJ1ZS4KIyBBcyBhIHJlc3VsdCwgaWYgeW91IHdpc2ggZm9yIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHRvIHBlcnNpc3QKIyB0aGVuIHlvdSB3aWxsIG5lZWQgdG8gZWl0aGVyCiMgYS4pIG1ha2UgY2hhbmdlcyB0byB0aGUgbWFzdGVyIGZpbGUgaW4gL2V0Yy9jbG91ZC90ZW1wbGF0ZXMvaG9zdHMuZGViaWFuLnRtcGwKIyBiLikgY2hhbmdlIG9yIHJlbW92ZSB0aGUgdmFsdWUgb2YgJ21hbmFnZV9ldGNfaG9zdHMnIGluCiMgICAgIC9ldGMvY2xvdWQvY2xvdWQuY2ZnIG9yIGNsb3VkLWNvbmZpZyBmcm9tIHVzZXItZGF0YQojCjEyNy4wLjEuMSBjbDF1OGlkMzU3aTFkN3U3Nm8xaC1ld3VwLnJ1LWNlbnRyYWwxLmludGVybmFsIGNsMXU4aWQzNTdpMWQ3dTc2bzFoLWV3dXAKMTI3LjAuMC4xIGxvY2FsaG9zdAoKIyBUaGUgZm9sbG93aW5nIGxpbmVzIGFyZSBkZXNpcmFibGUgZm9yIElQdjYgY2FwYWJsZSBob3N0cwo6OjEgbG9jYWxob3N0IGlwNi1sb2NhbGhvc3QgaXA2LWxvb3BiYWNrCmZmMDI6OjEgaXA2LWFsbG5vZGVzCmZmMDI6OjIgaXA2LWFsbHJvdXRlcnMKCiMgQW5zaWJsZSBpbnZlbnRvcnkgaG9zdHMgQkVHSU4KMTkyLjE2OC4yMC4yOSBtYXN0ZXIuY2x1c3Rlci5sb2NhbCBtYXN0ZXIgCjE5Mi4xNjguMzAuMjUgbm9kZTEuY2x1c3Rlci5sb2NhbCBub2RlMSAKMTkyLjE2OC4xMC4yMCBub2RlMi5jbHVzdGVyLmxvY2FsIG5vZGUyIAojIEFuc2libGUgaW52ZW50b3J5IGhvc3RzIEVORAo=", "encoding": "base64", "source": "/etc/hosts"}
ok: [node2] => {"changed": false, "content": "IyBZb3VyIHN5c3RlbSBoYXMgY29uZmlndXJlZCAnbWFuYWdlX2V0Y19ob3N0cycgYXMgVHJ1ZS4KIyBBcyBhIHJlc3VsdCwgaWYgeW91IHdpc2ggZm9yIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHRvIHBlcnNpc3QKIyB0aGVuIHlvdSB3aWxsIG5lZWQgdG8gZWl0aGVyCiMgYS4pIG1ha2UgY2hhbmdlcyB0byB0aGUgbWFzdGVyIGZpbGUgaW4gL2V0Yy9jbG91ZC90ZW1wbGF0ZXMvaG9zdHMuZGViaWFuLnRtcGwKIyBiLikgY2hhbmdlIG9yIHJlbW92ZSB0aGUgdmFsdWUgb2YgJ21hbmFnZV9ldGNfaG9zdHMnIGluCiMgICAgIC9ldGMvY2xvdWQvY2xvdWQuY2ZnIG9yIGNsb3VkLWNvbmZpZyBmcm9tIHVzZXItZGF0YQojCjEyNy4wLjEuMSBjbDF1OGlkMzU3aTFkN3U3Nm8xaC1hcWVrLnJ1LWNlbnRyYWwxLmludGVybmFsIGNsMXU4aWQzNTdpMWQ3dTc2bzFoLWFxZWsKMTI3LjAuMC4xIGxvY2FsaG9zdAoKIyBUaGUgZm9sbG93aW5nIGxpbmVzIGFyZSBkZXNpcmFibGUgZm9yIElQdjYgY2FwYWJsZSBob3N0cwo6OjEgbG9jYWxob3N0IGlwNi1sb2NhbGhvc3QgaXA2LWxvb3BiYWNrCmZmMDI6OjEgaXA2LWFsbG5vZGVzCmZmMDI6OjIgaXA2LWFsbHJvdXRlcnMKCiMgQW5zaWJsZSBpbnZlbnRvcnkgaG9zdHMgQkVHSU4KMTkyLjE2OC4yMC4yOSBtYXN0ZXIuY2x1c3Rlci5sb2NhbCBtYXN0ZXIgCjE5Mi4xNjguMzAuMjUgbm9kZTEuY2x1c3Rlci5sb2NhbCBub2RlMSAKMTkyLjE2OC4xMC4yMCBub2RlMi5jbHVzdGVyLmxvY2FsIG5vZGUyIAojIEFuc2libGUgaW52ZW50b3J5IGhvc3RzIEVORAo=", "encoding": "base64", "source": "/etc/hosts"}
ok: [master] => {"changed": false, "content": "IyBZb3VyIHN5c3RlbSBoYXMgY29uZmlndXJlZCAnbWFuYWdlX2V0Y19ob3N0cycgYXMgVHJ1ZS4KIyBBcyBhIHJlc3VsdCwgaWYgeW91IHdpc2ggZm9yIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHRvIHBlcnNpc3QKIyB0aGVuIHlvdSB3aWxsIG5lZWQgdG8gZWl0aGVyCiMgYS4pIG1ha2UgY2hhbmdlcyB0byB0aGUgbWFzdGVyIGZpbGUgaW4gL2V0Yy9jbG91ZC90ZW1wbGF0ZXMvaG9zdHMuZGViaWFuLnRtcGwKIyBiLikgY2hhbmdlIG9yIHJlbW92ZSB0aGUgdmFsdWUgb2YgJ21hbmFnZV9ldGNfaG9zdHMnIGluCiMgICAgIC9ldGMvY2xvdWQvY2xvdWQuY2ZnIG9yIGNsb3VkLWNvbmZpZyBmcm9tIHVzZXItZGF0YQojCjEyNy4wLjEuMSBjbDF1OGlkMzU3aTFkN3U3Nm8xaC1laG93LnJ1LWNlbnRyYWwxLmludGVybmFsIGNsMXU4aWQzNTdpMWQ3dTc2bzFoLWVob3cKMTI3LjAuMC4xIGxvY2FsaG9zdAoKIyBUaGUgZm9sbG93aW5nIGxpbmVzIGFyZSBkZXNpcmFibGUgZm9yIElQdjYgY2FwYWJsZSBob3N0cwo6OjEgbG9jYWxob3N0IGlwNi1sb2NhbGhvc3QgaXA2LWxvb3BiYWNrCmZmMDI6OjEgaXA2LWFsbG5vZGVzCmZmMDI6OjIgaXA2LWFsbHJvdXRlcnMKCiMgQW5zaWJsZSBpbnZlbnRvcnkgaG9zdHMgQkVHSU4KMTkyLjE2OC4yMC4yOSBtYXN0ZXIuY2x1c3Rlci5sb2NhbCBtYXN0ZXIgCjE5Mi4xNjguMzAuMjUgbm9kZTEuY2x1c3Rlci5sb2NhbCBub2RlMSAKMTkyLjE2OC4xMC4yMCBub2RlMi5jbHVzdGVyLmxvY2FsIG5vZGUyIAojIEFuc2libGUgaW52ZW50b3J5IGhvc3RzIEVORAo=", "encoding": "base64", "source": "/etc/hosts"}
Четверг 20 июля 2023  22:22:59 +0300 (0:00:02.405)       0:02:44.928 ********** 

TASK [kubernetes/preinstall : Hosts | Extract existing entries for localhost from hosts file] ***
ok: [master] => (item=127.0.0.1 localhost) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost"]}}, "ansible_loop_var": "item", "changed": false, "item": "127.0.0.1 localhost"}
ok: [node1] => (item=127.0.0.1 localhost) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost"]}}, "ansible_loop_var": "item", "changed": false, "item": "127.0.0.1 localhost"}
ok: [node2] => (item=127.0.0.1 localhost) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost"]}}, "ansible_loop_var": "item", "changed": false, "item": "127.0.0.1 localhost"}
ok: [master] => (item=::1 localhost ip6-localhost ip6-loopback) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost"], "::1": ["localhost", "ip6-localhost", "ip6-loopback"]}}, "ansible_loop_var": "item", "changed": false, "item": "::1 localhost ip6-localhost ip6-loopback"}
ok: [node1] => (item=::1 localhost ip6-localhost ip6-loopback) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost"], "::1": ["localhost", "ip6-localhost", "ip6-loopback"]}}, "ansible_loop_var": "item", "changed": false, "item": "::1 localhost ip6-localhost ip6-loopback"}
ok: [node2] => (item=::1 localhost ip6-localhost ip6-loopback) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost"], "::1": ["localhost", "ip6-localhost", "ip6-loopback"]}}, "ansible_loop_var": "item", "changed": false, "item": "::1 localhost ip6-localhost ip6-loopback"}
Четверг 20 июля 2023  22:22:59 +0300 (0:00:00.443)       0:02:45.371 ********** 

TASK [kubernetes/preinstall : Hosts | Update target hosts file entries dict with required entries] ***
ok: [master] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "127.0.0.1", "value": {"expected": ["localhost", "localhost.localdomain"]}}}
ok: [master] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "::1", "value": {"expected": ["localhost6", "localhost6.localdomain"], "unexpected": ["localhost", "localhost.localdomain"]}}}
ok: [node1] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "127.0.0.1", "value": {"expected": ["localhost", "localhost.localdomain"]}}}
ok: [node2] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "127.0.0.1", "value": {"expected": ["localhost", "localhost.localdomain"]}}}
ok: [node1] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "::1", "value": {"expected": ["localhost6", "localhost6.localdomain"], "unexpected": ["localhost", "localhost.localdomain"]}}}
ok: [node2] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "::1", "value": {"expected": ["localhost6", "localhost6.localdomain"], "unexpected": ["localhost", "localhost.localdomain"]}}}
Четверг 20 июля 2023  22:23:00 +0300 (0:00:00.196)       0:02:45.568 ********** 

TASK [kubernetes/preinstall : Hosts | Update (if necessary) hosts file] ********
changed: [node2] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']}) => {"ansible_loop_var": "item", "backup": "/etc/hosts.9156.2023-07-20@19:23:01~", "changed": true, "item": {"key": "127.0.0.1", "value": ["localhost", "localhost.localdomain"]}, "msg": "line replaced"}
changed: [master] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']}) => {"ansible_loop_var": "item", "backup": "/etc/hosts.9366.2023-07-20@19:23:01~", "changed": true, "item": {"key": "127.0.0.1", "value": ["localhost", "localhost.localdomain"]}, "msg": "line replaced"}
changed: [node1] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']}) => {"ansible_loop_var": "item", "backup": "/etc/hosts.9337.2023-07-20@19:23:02~", "changed": true, "item": {"key": "127.0.0.1", "value": ["localhost", "localhost.localdomain"]}, "msg": "line replaced"}
changed: [node2] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']}) => {"ansible_loop_var": "item", "backup": "/etc/hosts.9180.2023-07-20@19:23:03~", "changed": true, "item": {"key": "::1", "value": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}, "msg": "line replaced"}
changed: [master] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']}) => {"ansible_loop_var": "item", "backup": "/etc/hosts.9390.2023-07-20@19:23:03~", "changed": true, "item": {"key": "::1", "value": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}, "msg": "line replaced"}
changed: [node1] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']}) => {"ansible_loop_var": "item", "backup": "/etc/hosts.9361.2023-07-20@19:23:04~", "changed": true, "item": {"key": "::1", "value": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}, "msg": "line replaced"}
Четверг 20 июля 2023  22:23:04 +0300 (0:00:04.180)       0:02:49.749 ********** 

TASK [kubernetes/preinstall : Update facts] ************************************
ok: [node1]
ok: [node2]
ok: [master]
Четверг 20 июля 2023  22:23:06 +0300 (0:00:01.832)       0:02:51.581 ********** 

TASK [kubernetes/preinstall : Configure dhclient to supersede search/domain/nameservers] ***
changed: [node1] => {"backup_file": "/etc/dhcp/dhclient.conf.9417.2023-07-20@19:23:06~", "changed": true, "msg": "Block inserted"}
changed: [node2] => {"backup_file": "/etc/dhcp/dhclient.conf.9234.2023-07-20@19:23:07~", "changed": true, "msg": "Block inserted"}
changed: [master] => {"backup_file": "/etc/dhcp/dhclient.conf.9447.2023-07-20@19:23:07~", "changed": true, "msg": "Block inserted"}
Четверг 20 июля 2023  22:23:08 +0300 (0:00:02.053)       0:02:53.635 ********** 

TASK [kubernetes/preinstall : Configure dhclient hooks for resolv.conf (non-RH)] ***
changed: [node1] => {"changed": true, "checksum": "42487a7578c70a6e24da7b9a3ead98a3374e71ad", "dest": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "gid": 0, "group": "root", "md5sum": "74d27ef787521fdd84d68d9b08b15b61", "mode": "0755", "owner": "root", "size": 456, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689880988.2738836-653663-138612677450736/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "42487a7578c70a6e24da7b9a3ead98a3374e71ad", "dest": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "gid": 0, "group": "root", "md5sum": "74d27ef787521fdd84d68d9b08b15b61", "mode": "0755", "owner": "root", "size": 456, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689880988.306981-653665-125878434180039/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "42487a7578c70a6e24da7b9a3ead98a3374e71ad", "dest": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "gid": 0, "group": "root", "md5sum": "74d27ef787521fdd84d68d9b08b15b61", "mode": "0755", "owner": "root", "size": 456, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689880988.2643058-653662-247134116210250/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:23:10 +0300 (0:00:02.380)       0:02:56.016 ********** 
Четверг 20 июля 2023  22:23:10 +0300 (0:00:00.106)       0:02:56.122 ********** 
Четверг 20 июля 2023  22:23:10 +0300 (0:00:00.088)       0:02:56.211 ********** 
Четверг 20 июля 2023  22:23:10 +0300 (0:00:00.077)       0:02:56.288 ********** 
Четверг 20 июля 2023  22:23:10 +0300 (0:00:00.000)       0:02:56.289 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | propagate resolvconf to k8s components] ***
changed: [node1] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.009284", "end": "2023-07-20 19:23:11.759997", "msg": "", "rc": 0, "start": "2023-07-20 19:23:11.750713", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.009897", "end": "2023-07-20 19:23:11.817624", "msg": "", "rc": 0, "start": "2023-07-20 19:23:11.807727", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.035748", "end": "2023-07-20 19:23:11.955488", "msg": "", "rc": 0, "start": "2023-07-20 19:23:11.919740", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:23:12 +0300 (0:00:01.346)       0:02:57.635 ********** 
Четверг 20 июля 2023  22:23:12 +0300 (0:00:00.076)       0:02:57.712 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-apiserver configured] ***
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:13 +0300 (0:00:01.246)       0:02:58.958 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-controller configured] ***
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:14 +0300 (0:00:01.249)       0:03:00.208 ********** 
Четверг 20 июля 2023  22:23:14 +0300 (0:00:00.093)       0:03:00.301 ********** 
Четверг 20 июля 2023  22:23:14 +0300 (0:00:00.110)       0:03:00.412 ********** 
Четверг 20 июля 2023  22:23:15 +0300 (0:00:00.146)       0:03:00.558 ********** 
Четверг 20 июля 2023  22:23:15 +0300 (0:00:00.115)       0:03:00.674 ********** 
Четверг 20 июля 2023  22:23:15 +0300 (0:00:00.152)       0:03:00.827 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | Restart systemd-resolved] ***
changed: [node2] => {"changed": true, "name": "systemd-resolved", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 18:48:17 UTC", "ActiveEnterTimestampMonotonic": "9818914", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "systemd-sysusers.service systemd-tmpfiles-setup.service systemd-networkd.service -.mount system.slice systemd-journald.socket", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "cap_setpcap cap_net_bind_service cap_net_raw", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 18:48:17 UTC", "AssertTimestampMonotonic": "9627016", "Before": "network.target nss-lookup.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_setpcap cap_net_bind_service cap_net_raw", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 18:48:17 UTC", "ConditionTimestampMonotonic": "9627014", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/systemd-resolved.service", "ControlPID": "0", "DefaultDependencies": "no", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Network Name Resolution", "DevicePolicy": "closed", "Documentation": "man:systemd-resolved.service(8) https://www.freedesktop.org/wiki/Software/systemd/resolved https://www.freedesktop.org/wiki/Software/systemd/writing-network-configuration-managers https://www.freedesktop.org/wiki/Software/systemd/writing-resolver-clients", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "387", "ExecMainStartTimestamp": "Thu 2023-07-20 18:48:17 UTC", "ExecMainStartTimestampMonotonic": "9637531", "ExecMainStatus": "0", "ExecStart": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; flags=ambient ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/systemd-resolved.service", "GID": "103", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "systemd-resolved.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Thu 2023-07-20 18:48:17 UTC", "InactiveExitTimestampMonotonic": "9637590", "InvocationID": "7df566e89a624784b87b37d173063dc6", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "yes", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "387", "MemoryAccounting": "yes", "MemoryCurrent": "8900608", "MemoryDenyWriteExecute": "yes", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "dbus-org.freedesktop.resolve1.service systemd-resolved.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "yes", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "yes", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "yes", "PrivateUsers": "no", "ProtectControlGroups": "yes", "ProtectHome": "yes", "ProtectHostname": "no", "ProtectKernelLogs": "yes", "ProtectKernelModules": "yes", "ProtectKernelTunables": "yes", "ProtectSystem": "strict", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "-.mount system.slice", "RequiresMountsFor": "/run/systemd/resolve /var/tmp /tmp", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "0", "RestrictAddressFamilies": "AF_INET AF_INET6 AF_NETLINK AF_UNIX", "RestrictNamespaces": "yes", "RestrictRealtime": "yes", "RestrictSUIDSGID": "yes", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "systemd/resolve", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "yes", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 18:48:17 UTC", "StateChangeTimestampMonotonic": "9818914", "StateDirectoryMode": "0755", "StatusErrno": "0", "StatusText": "Processing requests...", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallArchitectures": "native", "SystemCallErrorNumber": "1", "SystemCallFilter": "_llseek _newselect accept accept4 access add_key alarm arch_prctl bind brk capget capset chdir chmod chown chown32 clock_getres clock_getres_time64 clock_gettime clock_gettime64 clock_nanosleep clock_nanosleep_time64 clone clone3 close connect copy_file_range creat dup dup2 dup3 epoll_create epoll_create1 epoll_ctl epoll_ctl_old epoll_pwait epoll_wait epoll_wait_old eventfd eventfd2 execve execveat exit exit_group faccessat faccessat2 fadvise64 fadvise64_64 fallocate fchdir fchmod fchmodat fchown fchown32 fchownat fcntl fcntl64 fdatasync fgetxattr flistxattr flock fork fremovexattr fsetxattr fstat fstat64 fstatat64 fstatfs fstatfs64 fsync ftruncate ftruncate64 futex futex_time64 futimesat get_mempolicy get_robust_list get_thread_area getcpu getcwd getdents getdents64 getegid getegid32 geteuid geteuid32 getgid getgid32 getgroups getgroups32 getitimer getpeername getpgid getpgrp getpid getppid getpriority getrandom getresgid getresgid32 getresuid getresuid32 getrlimit getrusage getsid getsockname getsockopt gettid gettimeofday getuid getuid32 getxattr inotify_add_watch inotify_init inotify_init1 inotify_rm_watch io_cancel io_destroy io_getevents io_pgetevents io_pgetevents_time64 io_setup io_submit io_uring_enter io_uring_register io_uring_setup ioctl ioprio_get ioprio_set ipc kcmp keyctl kill lchown lchown32 lgetxattr link linkat listen listxattr llistxattr lremovexattr lseek lsetxattr lstat lstat64 madvise mbind membarrier memfd_create migrate_pages mkdir mkdirat mknod mknodat mlock mlock2 mlockall mmap mmap2 move_pages mprotect mq_getsetattr mq_notify mq_open mq_timedreceive mq_timedreceive_time64 mq_timedsend mq_timedsend_time64 mq_unlink mremap msgctl msgget msgrcv msgsnd msync munlock munlockall munmap name_to_handle_at nanosleep newfstatat nice oldfstat oldlstat oldolduname oldstat olduname open openat openat2 pause personality pidfd_open pidfd_send_signal pipe pipe2 poll ppoll ppoll_time64 prctl pread64 preadv preadv2 prlimit64 process_vm_readv process_vm_writev pselect6 pselect6_time64 pwrite64 pwritev pwritev2 read readahead readdir readlink readlinkat readv recv recvfrom recvmmsg recvmmsg_time64 recvmsg remap_file_pages removexattr rename renameat renameat2 request_key restart_syscall rmdir rseq rt_sigaction rt_sigpending rt_sigprocmask rt_sigqueueinfo rt_sigreturn rt_sigsuspend rt_sigtimedwait rt_sigtimedwait_time64 rt_tgsigqueueinfo sched_get_priority_max sched_get_priority_min sched_getaffinity sched_getattr sched_getparam sched_getscheduler sched_rr_get_interval sched_rr_get_interval_time64 sched_setaffinity sched_setattr sched_setparam sched_setscheduler sched_yield select semctl semget semop semtimedop semtimedop_time64 send sendfile sendfile64 sendmmsg sendmsg sendto set_mempolicy set_robust_list set_thread_area set_tid_address set_tls setfsgid setfsgid32 setfsuid setfsuid32 setgid setgid32 setgroups setgroups32 setitimer setns setpgid setpriority setregid setregid32 setresgid setresgid32 setresuid setresuid32 setreuid setreuid32 setrlimit setsid setsockopt setuid setuid32 setxattr shmat shmctl shmdt shmget shutdown sigaction sigaltstack signal signalfd signalfd4 sigpending sigprocmask sigreturn sigsuspend socket socketcall socketpair splice stat stat64 statfs statfs64 statx swapcontext symlink symlinkat sync sync_file_range sync_file_range2 syncfs sysinfo tee tgkill time timer_create timer_delete timer_getoverrun timer_gettime timer_gettime64 timer_settime timer_settime64 timerfd_create timerfd_gettime timerfd_gettime64 timerfd_settime timerfd_settime64 times tkill truncate truncate64 ugetrlimit umask uname unlink unlinkat unshare userfaultfd utime utimensat utimensat_time64 utimes vfork vmsplice wait4 waitid waitpid write writev", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "101", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "User": "systemd-resolve", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "nss-lookup.target", "WatchdogSignal": "6", "WatchdogTimestamp": "Thu 2023-07-20 19:22:35 UTC", "WatchdogTimestampMonotonic": "2067732296", "WatchdogUSec": "3min"}}
changed: [node1] => {"changed": true, "name": "systemd-resolved", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 18:48:06 UTC", "ActiveEnterTimestampMonotonic": "10104953", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "system.slice systemd-journald.socket -.mount systemd-networkd.service systemd-sysusers.service systemd-tmpfiles-setup.service", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "cap_setpcap cap_net_bind_service cap_net_raw", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 18:48:06 UTC", "AssertTimestampMonotonic": "9875212", "Before": "shutdown.target nss-lookup.target network.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_setpcap cap_net_bind_service cap_net_raw", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 18:48:06 UTC", "ConditionTimestampMonotonic": "9875211", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/systemd-resolved.service", "ControlPID": "0", "DefaultDependencies": "no", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Network Name Resolution", "DevicePolicy": "closed", "Documentation": "man:systemd-resolved.service(8) https://www.freedesktop.org/wiki/Software/systemd/resolved https://www.freedesktop.org/wiki/Software/systemd/writing-network-configuration-managers https://www.freedesktop.org/wiki/Software/systemd/writing-resolver-clients", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "387", "ExecMainStartTimestamp": "Thu 2023-07-20 18:48:06 UTC", "ExecMainStartTimestampMonotonic": "9877440", "ExecMainStatus": "0", "ExecStart": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; flags=ambient ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/systemd-resolved.service", "GID": "103", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "systemd-resolved.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Thu 2023-07-20 18:48:06 UTC", "InactiveExitTimestampMonotonic": "9877508", "InvocationID": "d98bc8628cb64d04ad1760dcaaafd09f", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "yes", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "387", "MemoryAccounting": "yes", "MemoryCurrent": "8916992", "MemoryDenyWriteExecute": "yes", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "dbus-org.freedesktop.resolve1.service systemd-resolved.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "yes", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "yes", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "yes", "PrivateUsers": "no", "ProtectControlGroups": "yes", "ProtectHome": "yes", "ProtectHostname": "no", "ProtectKernelLogs": "yes", "ProtectKernelModules": "yes", "ProtectKernelTunables": "yes", "ProtectSystem": "strict", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "-.mount system.slice", "RequiresMountsFor": "/tmp /run/systemd/resolve /var/tmp", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "0", "RestrictAddressFamilies": "AF_INET AF_INET6 AF_NETLINK AF_UNIX", "RestrictNamespaces": "yes", "RestrictRealtime": "yes", "RestrictSUIDSGID": "yes", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "systemd/resolve", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "yes", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 18:48:06 UTC", "StateChangeTimestampMonotonic": "10104953", "StateDirectoryMode": "0755", "StatusErrno": "0", "StatusText": "Processing requests...", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallArchitectures": "native", "SystemCallErrorNumber": "1", "SystemCallFilter": "_llseek _newselect accept accept4 access add_key alarm arch_prctl bind brk capget capset chdir chmod chown chown32 clock_getres clock_getres_time64 clock_gettime clock_gettime64 clock_nanosleep clock_nanosleep_time64 clone clone3 close connect copy_file_range creat dup dup2 dup3 epoll_create epoll_create1 epoll_ctl epoll_ctl_old epoll_pwait epoll_wait epoll_wait_old eventfd eventfd2 execve execveat exit exit_group faccessat faccessat2 fadvise64 fadvise64_64 fallocate fchdir fchmod fchmodat fchown fchown32 fchownat fcntl fcntl64 fdatasync fgetxattr flistxattr flock fork fremovexattr fsetxattr fstat fstat64 fstatat64 fstatfs fstatfs64 fsync ftruncate ftruncate64 futex futex_time64 futimesat get_mempolicy get_robust_list get_thread_area getcpu getcwd getdents getdents64 getegid getegid32 geteuid geteuid32 getgid getgid32 getgroups getgroups32 getitimer getpeername getpgid getpgrp getpid getppid getpriority getrandom getresgid getresgid32 getresuid getresuid32 getrlimit getrusage getsid getsockname getsockopt gettid gettimeofday getuid getuid32 getxattr inotify_add_watch inotify_init inotify_init1 inotify_rm_watch io_cancel io_destroy io_getevents io_pgetevents io_pgetevents_time64 io_setup io_submit io_uring_enter io_uring_register io_uring_setup ioctl ioprio_get ioprio_set ipc kcmp keyctl kill lchown lchown32 lgetxattr link linkat listen listxattr llistxattr lremovexattr lseek lsetxattr lstat lstat64 madvise mbind membarrier memfd_create migrate_pages mkdir mkdirat mknod mknodat mlock mlock2 mlockall mmap mmap2 move_pages mprotect mq_getsetattr mq_notify mq_open mq_timedreceive mq_timedreceive_time64 mq_timedsend mq_timedsend_time64 mq_unlink mremap msgctl msgget msgrcv msgsnd msync munlock munlockall munmap name_to_handle_at nanosleep newfstatat nice oldfstat oldlstat oldolduname oldstat olduname open openat openat2 pause personality pidfd_open pidfd_send_signal pipe pipe2 poll ppoll ppoll_time64 prctl pread64 preadv preadv2 prlimit64 process_vm_readv process_vm_writev pselect6 pselect6_time64 pwrite64 pwritev pwritev2 read readahead readdir readlink readlinkat readv recv recvfrom recvmmsg recvmmsg_time64 recvmsg remap_file_pages removexattr rename renameat renameat2 request_key restart_syscall rmdir rseq rt_sigaction rt_sigpending rt_sigprocmask rt_sigqueueinfo rt_sigreturn rt_sigsuspend rt_sigtimedwait rt_sigtimedwait_time64 rt_tgsigqueueinfo sched_get_priority_max sched_get_priority_min sched_getaffinity sched_getattr sched_getparam sched_getscheduler sched_rr_get_interval sched_rr_get_interval_time64 sched_setaffinity sched_setattr sched_setparam sched_setscheduler sched_yield select semctl semget semop semtimedop semtimedop_time64 send sendfile sendfile64 sendmmsg sendmsg sendto set_mempolicy set_robust_list set_thread_area set_tid_address set_tls setfsgid setfsgid32 setfsuid setfsuid32 setgid setgid32 setgroups setgroups32 setitimer setns setpgid setpriority setregid setregid32 setresgid setresgid32 setresuid setresuid32 setreuid setreuid32 setrlimit setsid setsockopt setuid setuid32 setxattr shmat shmctl shmdt shmget shutdown sigaction sigaltstack signal signalfd signalfd4 sigpending sigprocmask sigreturn sigsuspend socket socketcall socketpair splice stat stat64 statfs statfs64 statx swapcontext symlink symlinkat sync sync_file_range sync_file_range2 syncfs sysinfo tee tgkill time timer_create timer_delete timer_getoverrun timer_gettime timer_gettime64 timer_settime timer_settime64 timerfd_create timerfd_gettime timerfd_gettime64 timerfd_settime timerfd_settime64 times tkill truncate truncate64 ugetrlimit umask uname unlink unlinkat unshare userfaultfd utime utimensat utimensat_time64 utimes vfork vmsplice wait4 waitid waitpid write writev", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "101", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "User": "systemd-resolve", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "nss-lookup.target", "WatchdogSignal": "6", "WatchdogTimestamp": "Thu 2023-07-20 19:22:37 UTC", "WatchdogTimestampMonotonic": "2079592286", "WatchdogUSec": "3min"}}
changed: [master] => {"changed": true, "name": "systemd-resolved", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 18:47:53 UTC", "ActiveEnterTimestampMonotonic": "11479458", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "systemd-sysusers.service systemd-tmpfiles-setup.service system.slice -.mount systemd-networkd.service systemd-journald.socket", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "cap_setpcap cap_net_bind_service cap_net_raw", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 18:47:52 UTC", "AssertTimestampMonotonic": "10951200", "Before": "network.target nss-lookup.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_setpcap cap_net_bind_service cap_net_raw", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 18:47:52 UTC", "ConditionTimestampMonotonic": "10951199", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/systemd-resolved.service", "ControlPID": "0", "DefaultDependencies": "no", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Network Name Resolution", "DevicePolicy": "closed", "Documentation": "man:systemd-resolved.service(8) https://www.freedesktop.org/wiki/Software/systemd/resolved https://www.freedesktop.org/wiki/Software/systemd/writing-network-configuration-managers https://www.freedesktop.org/wiki/Software/systemd/writing-resolver-clients", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "385", "ExecMainStartTimestamp": "Thu 2023-07-20 18:47:52 UTC", "ExecMainStartTimestampMonotonic": "10959503", "ExecMainStatus": "0", "ExecStart": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; flags=ambient ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/systemd-resolved.service", "GID": "103", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "systemd-resolved.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Thu 2023-07-20 18:47:52 UTC", "InactiveExitTimestampMonotonic": "10959580", "InvocationID": "078edd82b00c4510885ceba68f0252af", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "yes", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "385", "MemoryAccounting": "yes", "MemoryCurrent": "8876032", "MemoryDenyWriteExecute": "yes", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "systemd-resolved.service dbus-org.freedesktop.resolve1.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "yes", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "yes", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "yes", "PrivateUsers": "no", "ProtectControlGroups": "yes", "ProtectHome": "yes", "ProtectHostname": "no", "ProtectKernelLogs": "yes", "ProtectKernelModules": "yes", "ProtectKernelTunables": "yes", "ProtectSystem": "strict", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice -.mount", "RequiresMountsFor": "/var/tmp /tmp /run/systemd/resolve", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "0", "RestrictAddressFamilies": "AF_INET AF_INET6 AF_NETLINK AF_UNIX", "RestrictNamespaces": "yes", "RestrictRealtime": "yes", "RestrictSUIDSGID": "yes", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "systemd/resolve", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "yes", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 18:47:53 UTC", "StateChangeTimestampMonotonic": "11479458", "StateDirectoryMode": "0755", "StatusErrno": "0", "StatusText": "Processing requests...", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallArchitectures": "native", "SystemCallErrorNumber": "1", "SystemCallFilter": "_llseek _newselect accept accept4 access add_key alarm arch_prctl bind brk capget capset chdir chmod chown chown32 clock_getres clock_getres_time64 clock_gettime clock_gettime64 clock_nanosleep clock_nanosleep_time64 clone clone3 close connect copy_file_range creat dup dup2 dup3 epoll_create epoll_create1 epoll_ctl epoll_ctl_old epoll_pwait epoll_wait epoll_wait_old eventfd eventfd2 execve execveat exit exit_group faccessat faccessat2 fadvise64 fadvise64_64 fallocate fchdir fchmod fchmodat fchown fchown32 fchownat fcntl fcntl64 fdatasync fgetxattr flistxattr flock fork fremovexattr fsetxattr fstat fstat64 fstatat64 fstatfs fstatfs64 fsync ftruncate ftruncate64 futex futex_time64 futimesat get_mempolicy get_robust_list get_thread_area getcpu getcwd getdents getdents64 getegid getegid32 geteuid geteuid32 getgid getgid32 getgroups getgroups32 getitimer getpeername getpgid getpgrp getpid getppid getpriority getrandom getresgid getresgid32 getresuid getresuid32 getrlimit getrusage getsid getsockname getsockopt gettid gettimeofday getuid getuid32 getxattr inotify_add_watch inotify_init inotify_init1 inotify_rm_watch io_cancel io_destroy io_getevents io_pgetevents io_pgetevents_time64 io_setup io_submit io_uring_enter io_uring_register io_uring_setup ioctl ioprio_get ioprio_set ipc kcmp keyctl kill lchown lchown32 lgetxattr link linkat listen listxattr llistxattr lremovexattr lseek lsetxattr lstat lstat64 madvise mbind membarrier memfd_create migrate_pages mkdir mkdirat mknod mknodat mlock mlock2 mlockall mmap mmap2 move_pages mprotect mq_getsetattr mq_notify mq_open mq_timedreceive mq_timedreceive_time64 mq_timedsend mq_timedsend_time64 mq_unlink mremap msgctl msgget msgrcv msgsnd msync munlock munlockall munmap name_to_handle_at nanosleep newfstatat nice oldfstat oldlstat oldolduname oldstat olduname open openat openat2 pause personality pidfd_open pidfd_send_signal pipe pipe2 poll ppoll ppoll_time64 prctl pread64 preadv preadv2 prlimit64 process_vm_readv process_vm_writev pselect6 pselect6_time64 pwrite64 pwritev pwritev2 read readahead readdir readlink readlinkat readv recv recvfrom recvmmsg recvmmsg_time64 recvmsg remap_file_pages removexattr rename renameat renameat2 request_key restart_syscall rmdir rseq rt_sigaction rt_sigpending rt_sigprocmask rt_sigqueueinfo rt_sigreturn rt_sigsuspend rt_sigtimedwait rt_sigtimedwait_time64 rt_tgsigqueueinfo sched_get_priority_max sched_get_priority_min sched_getaffinity sched_getattr sched_getparam sched_getscheduler sched_rr_get_interval sched_rr_get_interval_time64 sched_setaffinity sched_setattr sched_setparam sched_setscheduler sched_yield select semctl semget semop semtimedop semtimedop_time64 send sendfile sendfile64 sendmmsg sendmsg sendto set_mempolicy set_robust_list set_thread_area set_tid_address set_tls setfsgid setfsgid32 setfsuid setfsuid32 setgid setgid32 setgroups setgroups32 setitimer setns setpgid setpriority setregid setregid32 setresgid setresgid32 setresuid setresuid32 setreuid setreuid32 setrlimit setsid setsockopt setuid setuid32 setxattr shmat shmctl shmdt shmget shutdown sigaction sigaltstack signal signalfd signalfd4 sigpending sigprocmask sigreturn sigsuspend socket socketcall socketpair splice stat stat64 statfs statfs64 statx swapcontext symlink symlinkat sync sync_file_range sync_file_range2 syncfs sysinfo tee tgkill time timer_create timer_delete timer_getoverrun timer_gettime timer_gettime64 timer_settime timer_settime64 timerfd_create timerfd_gettime timerfd_gettime64 timerfd_settime timerfd_settime64 times tkill truncate truncate64 ugetrlimit umask uname unlink unlinkat unshare userfaultfd utime utimensat utimensat_time64 utimes vfork vmsplice wait4 waitid waitpid write writev", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "101", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "User": "systemd-resolve", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "nss-lookup.target", "WatchdogSignal": "6", "WatchdogTimestamp": "Thu 2023-07-20 19:22:37 UTC", "WatchdogTimestampMonotonic": "2094930778", "WatchdogUSec": "3min"}}
Четверг 20 июля 2023  22:23:17 +0300 (0:00:02.275)       0:03:03.102 ********** 

TASK [kubernetes/preinstall : Check if we are running inside a Azure VM] *******
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:18 +0300 (0:00:01.115)       0:03:04.218 ********** 
Четверг 20 июля 2023  22:23:18 +0300 (0:00:00.201)       0:03:04.419 ********** 
Четверг 20 июля 2023  22:23:18 +0300 (0:00:00.102)       0:03:04.522 ********** 
Четверг 20 июля 2023  22:23:19 +0300 (0:00:00.094)       0:03:04.617 ********** 
Четверг 20 июля 2023  22:23:19 +0300 (0:00:00.100)       0:03:04.718 ********** 
Четверг 20 июля 2023  22:23:19 +0300 (0:00:00.106)       0:03:04.825 ********** 
Четверг 20 июля 2023  22:23:19 +0300 (0:00:00.088)       0:03:04.914 ********** 
Четверг 20 июля 2023  22:23:19 +0300 (0:00:00.088)       0:03:05.002 ********** 

TASK [Run calico checks] *******************************************************
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.589)       0:03:05.592 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip)] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.068)       0:03:05.661 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip_mode)] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.062)       0:03:05.723 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (calcio_ipam_autoallocateblocks)] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.064)       0:03:05.787 ********** 
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.050)       0:03:05.838 ********** 

TASK [network_plugin/calico : Stop if supported Calico versions] ***************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.064)       0:03:05.903 ********** 

TASK [network_plugin/calico : Check if calicoctl.sh exists] ********************
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.452)       0:03:06.356 ********** 
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.060)       0:03:06.417 ********** 
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.056)       0:03:06.473 ********** 
Четверг 20 июля 2023  22:23:20 +0300 (0:00:00.043)       0:03:06.517 ********** 
Четверг 20 июля 2023  22:23:21 +0300 (0:00:00.044)       0:03:06.562 ********** 
Четверг 20 июля 2023  22:23:21 +0300 (0:00:00.042)       0:03:06.604 ********** 

TASK [network_plugin/calico : Check vars defined correctly] ********************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:21 +0300 (0:00:00.205)       0:03:06.810 ********** 

TASK [network_plugin/calico : Check calico network backend defined correctly] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:21 +0300 (0:00:00.090)       0:03:06.900 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode defined correctly] *****
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:21 +0300 (0:00:00.082)       0:03:06.983 ********** 
Четверг 20 июля 2023  22:23:21 +0300 (0:00:00.041)       0:03:07.024 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode if simultaneously enabled] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:23:21 +0300 (0:00:00.078)       0:03:07.103 ********** 

TASK [network_plugin/calico : Get Calico default-pool configuration] ***********
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/calicoctl.sh get ipPool default-pool -o json", "failed_when_result": false, "msg": "[Errno 2] No such file or directory: b'/usr/local/bin/calicoctl.sh'", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:23:22 +0300 (0:00:00.445)       0:03:07.548 ********** 
Четверг 20 июля 2023  22:23:22 +0300 (0:00:00.061)       0:03:07.610 ********** 
Четверг 20 июля 2023  22:23:22 +0300 (0:00:00.051)       0:03:07.661 ********** 
Четверг 20 июля 2023  22:23:22 +0300 (0:00:00.040)       0:03:07.701 ********** 
Четверг 20 июля 2023  22:23:22 +0300 (0:00:00.039)       0:03:07.741 ********** 
Четверг 20 июля 2023  22:23:22 +0300 (0:00:00.111)       0:03:07.852 ********** 

TASK [container-engine/validate-container-engine : validate-container-engine | check if fedora coreos] ***
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:23 +0300 (0:00:01.169)       0:03:09.022 ********** 

TASK [container-engine/validate-container-engine : validate-container-engine | set is_ostree] ***
ok: [master] => {"ansible_facts": {"is_ostree": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"is_ostree": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"is_ostree": false}, "changed": false}
Четверг 20 июля 2023  22:23:23 +0300 (0:00:00.156)       0:03:09.179 ********** 

TASK [container-engine/validate-container-engine : Ensure kubelet systemd unit exists] ***
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:24 +0300 (0:00:01.160)       0:03:10.339 ********** 

TASK [container-engine/validate-container-engine : Populate service facts] *****
ok: [node1] => {"ansible_facts": {"services": {"NetworkManager.service": {"name": "NetworkManager.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "accounts-daemon.service": {"name": "accounts-daemon.service", "source": "systemd", "state": "running", "status": "enabled"}, "apparmor": {"name": "apparmor", "source": "sysv", "state": "running"}, "apparmor.service": {"name": "apparmor.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "apt-daily-upgrade.service": {"name": "apt-daily-upgrade.service", "source": "systemd", "state": "stopped", "status": "static"}, "apt-daily.service": {"name": "apt-daily.service", "source": "systemd", "state": "stopped", "status": "static"}, "apt-news.service": {"name": "apt-news.service", "source": "systemd", "state": "inactive", "status": "static"}, "auditd.service": {"name": "auditd.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "autovt@.service": {"name": "autovt@.service", "source": "systemd", "state": "unknown", "status": "enabled"}, "cloud-config.service": {"name": "cloud-config.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-final.service": {"name": "cloud-final.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-init-hotplugd.service": {"name": "cloud-init-hotplugd.service", "source": "systemd", "state": "stopped", "status": "static"}, "cloud-init-local.service": {"name": "cloud-init-local.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-init.service": {"name": "cloud-init.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "connman.service": {"name": "connman.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "console-getty.service": {"name": "console-getty.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "console-screen.service": {"name": "console-screen.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "console-setup.service": {"name": "console-setup.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "console-setup.sh": {"name": "console-setup.sh", "source": "sysv", "state": "stopped"}, "container-getty@.service": {"name": "container-getty@.service", "source": "systemd", "state": "unknown", "status": "static"}, "cron": {"name": "cron", "source": "sysv", "state": "running"}, "cron.service": {"name": "cron.service", "source": "systemd", "state": "running", "status": "enabled"}, "cryptdisks-early.service": {"name": "cryptdisks-early.service", "source": "systemd", "state": "inactive", "status": "masked"}, "cryptdisks.service": {"name": "cryptdisks.service", "source": "systemd", "state": "inactive", "status": "masked"}, "dbus": {"name": "dbus", "source": "sysv", "state": "running"}, "dbus-org.freedesktop.hostname1.service": {"name": "dbus-org.freedesktop.hostname1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.locale1.service": {"name": "dbus-org.freedesktop.locale1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.login1.service": {"name": "dbus-org.freedesktop.login1.service", "source": "systemd", "state": "active", "status": "static"}, "dbus-org.freedesktop.resolve1.service": {"name": "dbus-org.freedesktop.resolve1.service", "source": "systemd", "state": "active", "status": "enabled"}, "dbus-org.freedesktop.timedate1.service": {"name": "dbus-org.freedesktop.timedate1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.timesync1.service": {"name": "dbus-org.freedesktop.timesync1.service", "source": "systemd", "state": "active", "status": "enabled"}, "dbus.service": {"name": "dbus.service", "source": "systemd", "state": "running", "status": "static"}, "debug-shell.service": {"name": "debug-shell.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "display-manager.service": {"name": "display-manager.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "dmesg.service": {"name": "dmesg.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "e2scrub@.service": {"name": "e2scrub@.service", "source": "systemd", "state": "unknown", "status": "static"}, "e2scrub_all.service": {"name": "e2scrub_all.service", "source": "systemd", "state": "stopped", "status": "static"}, "e2scrub_fail@.service": {"name": "e2scrub_fail@.service", "source": "systemd", "state": "unknown", "status": "static"}, "e2scrub_reap.service": {"name": "e2scrub_reap.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "emergency.service": {"name": "emergency.service", "source": "systemd", "state": "stopped", "status": "static"}, "esm-cache.service": {"name": "esm-cache.service", "source": "systemd", "state": "inactive", "status": "static"}, "friendly-recovery.service": {"name": "friendly-recovery.service", "source": "systemd", "state": "inactive", "status": "static"}, "fstrim.service": {"name": "fstrim.service", "source": "systemd", "state": "stopped", "status": "static"}, "getty-static.service": {"name": "getty-static.service", "source": "systemd", "state": "stopped", "status": "static"}, "getty@.service": {"name": "getty@.service", "source": "systemd", "state": "unknown", "status": "enabled"}, "getty@tty1.service": {"name": "getty@tty1.service", "source": "systemd", "state": "running", "status": "active"}, "grub-common": {"name": "grub-common", "source": "sysv", "state": "stopped"}, "grub-common.service": {"name": "grub-common.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "grub-initrd-fallback.service": {"name": "grub-initrd-fallback.service", "source": "systemd", "state": "inactive", "status": "enabled"}, "hv_kvp_daemon.service": {"name": "hv_kvp_daemon.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "hwclock.service": {"name": "hwclock.service", "source": "systemd", "state": "inactive", "status": "masked"}, "hwclock.sh": {"name": "hwclock.sh", "source": "sysv", "state": "stopped"}, "initrd-cleanup.service": {"name": "initrd-cleanup.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-parse-etc.service": {"name": "initrd-parse-etc.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-switch-root.service": {"name": "initrd-switch-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-udevadm-cleanup-db.service": {"name": "initrd-udevadm-cleanup-db.service", "source": "systemd", "state": "inactive", "status": "static"}, "ipvsadm": {"name": "ipvsadm", "source": "sysv", "state": "running"}, "ipvsadm.service": {"name": "ipvsadm.service", "source": "systemd", "state": "stopped", "status": "generated"}, "irqbalance": {"name": "irqbalance", "source": "sysv", "state": "running"}, "irqbalance.service": {"name": "irqbalance.service", "source": "systemd", "state": "running", "status": "enabled"}, "kbd.service": {"name": "kbd.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "keyboard-setup.service": {"name": "keyboard-setup.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "keyboard-setup.sh": {"name": "keyboard-setup.sh", "source": "sysv", "state": "stopped"}, "kmod": {"name": "kmod", "source": "sysv", "state": "running"}, "kmod-static-nodes.service": {"name": "kmod-static-nodes.service", "source": "systemd", "state": "stopped", "status": "static"}, "kmod.service": {"name": "kmod.service", "source": "systemd", "state": "active", "status": "static"}, "loaded": {"name": "loaded", "source": "systemd", "state": "stopped", "status": "failed"}, "logrotate.service": {"name": "logrotate.service", "source": "systemd", "state": "stopped", "status": "static"}, "man-db.service": {"name": "man-db.service", "source": "systemd", "state": "stopped", "status": "static"}, "modprobe@.service": {"name": "modprobe@.service", "source": "systemd", "state": "unknown", "status": "static"}, "modprobe@chromeos_pstore.service": {"name": "modprobe@chromeos_pstore.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@drm.service": {"name": "modprobe@drm.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@efi_pstore.service": {"name": "modprobe@efi_pstore.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@pstore_blk.service": {"name": "modprobe@pstore_blk.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@pstore_zone.service": {"name": "modprobe@pstore_zone.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@ramoops.service": {"name": "modprobe@ramoops.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "motd-news.service": {"name": "motd-news.service", "source": "systemd", "state": "stopped", "status": "static"}, "netplan-ovs-cleanup.service": {"name": "netplan-ovs-cleanup.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "networkd-dispatcher.service": {"name": "networkd-dispatcher.service", "source": "systemd", "state": "running", "status": "enabled"}, "networking.service": {"name": "networking.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ondemand.service": {"name": "ondemand.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "ovsdb-server.service": {"name": "ovsdb-server.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "packagekit-offline-update.service": {"name": "packagekit-offline-update.service", "source": "systemd", "state": "inactive", "status": "static"}, "packagekit.service": {"name": "packagekit.service", "source": "systemd", "state": "running", "status": "static"}, "plymouth": {"name": "plymouth", "source": "sysv", "state": "stopped"}, "plymouth-halt.service": {"name": "plymouth-halt.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-kexec.service": {"name": "plymouth-kexec.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-log": {"name": "plymouth-log", "source": "sysv", "state": "stopped"}, "plymouth-log.service": {"name": "plymouth-log.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-poweroff.service": {"name": "plymouth-poweroff.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-quit-wait.service": {"name": "plymouth-quit-wait.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-quit.service": {"name": "plymouth-quit.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-read-write.service": {"name": "plymouth-read-write.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-reboot.service": {"name": "plymouth-reboot.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-start.service": {"name": "plymouth-start.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-switch-root.service": {"name": "plymouth-switch-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth.service": {"name": "plymouth.service", "source": "systemd", "state": "inactive", "status": "static"}, "polkit.service": {"name": "polkit.service", "source": "systemd", "state": "running", "status": "static"}, "procps": {"name": "procps", "source": "sysv", "state": "running"}, "procps.service": {"name": "procps.service", "source": "systemd", "state": "active", "status": "static"}, "quotaon.service": {"name": "quotaon.service", "source": "systemd", "state": "inactive", "status": "static"}, "rc-local.service": {"name": "rc-local.service", "source": "systemd", "state": "stopped", "status": "static"}, "rc.service": {"name": "rc.service", "source": "systemd", "state": "inactive", "status": "masked"}, "rcS.service": {"name": "rcS.service", "source": "systemd", "state": "inactive", "status": "masked"}, "rescue.service": {"name": "rescue.service", "source": "systemd", "state": "stopped", "status": "static"}, "rsync": {"name": "rsync", "source": "sysv", "state": "stopped"}, "rsync.service": {"name": "rsync.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "rsyslog": {"name": "rsyslog", "source": "sysv", "state": "running"}, "rsyslog.service": {"name": "rsyslog.service", "source": "systemd", "state": "running", "status": "enabled"}, "serial-getty@.service": {"name": "serial-getty@.service", "source": "systemd", "state": "unknown", "status": "indirect"}, "serial-getty@ttyS0.service": {"name": "serial-getty@ttyS0.service", "source": "systemd", "state": "running", "status": "active"}, "setvtrgb.service": {"name": "setvtrgb.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "snapd.seeded.service": {"name": "snapd.seeded.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ssh": {"name": "ssh", "source": "sysv", "state": "running"}, "ssh.service": {"name": "ssh.service", "source": "systemd", "state": "running", "status": "enabled"}, "ssh@.service": {"name": "ssh@.service", "source": "systemd", "state": "unknown", "status": "static"}, "sshd-keygen.service": {"name": "sshd-keygen.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "sshd.service": {"name": "sshd.service", "source": "systemd", "state": "active", "status": "enabled"}, "sudo.service": {"name": "sudo.service", "source": "systemd", "state": "inactive", "status": "masked"}, "syslog.service": {"name": "syslog.service", "source": "systemd", "state": "active", "status": "enabled"}, "system-update-cleanup.service": {"name": "system-update-cleanup.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-ask-password-console.service": {"name": "systemd-ask-password-console.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-ask-password-plymouth.service": {"name": "systemd-ask-password-plymouth.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-ask-password-wall.service": {"name": "systemd-ask-password-wall.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-backlight@.service": {"name": "systemd-backlight@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-binfmt.service": {"name": "systemd-binfmt.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-bless-boot.service": {"name": "systemd-bless-boot.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-boot-check-no-failures.service": {"name": "systemd-boot-check-no-failures.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-boot-system-token.service": {"name": "systemd-boot-system-token.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-exit.service": {"name": "systemd-exit.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-fsck-root.service": {"name": "systemd-fsck-root.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-fsck@.service": {"name": "systemd-fsck@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-fsckd.service": {"name": "systemd-fsckd.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-halt.service": {"name": "systemd-halt.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hibernate-resume@.service": {"name": "systemd-hibernate-resume@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-hibernate.service": {"name": "systemd-hibernate.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hostnamed.service": {"name": "systemd-hostnamed.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hwdb-update.service": {"name": "systemd-hwdb-update.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-hybrid-sleep.service": {"name": "systemd-hybrid-sleep.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-initctl.service": {"name": "systemd-initctl.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-journal-flush.service": {"name": "systemd-journal-flush.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-journald.service": {"name": "systemd-journald.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-journald@.service": {"name": "systemd-journald@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-kexec.service": {"name": "systemd-kexec.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-localed.service": {"name": "systemd-localed.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-logind.service": {"name": "systemd-logind.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-machine-id-commit.service": {"name": "systemd-machine-id-commit.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-modules-load.service": {"name": "systemd-modules-load.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-network-generator.service": {"name": "systemd-network-generator.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-networkd-wait-online.service": {"name": "systemd-networkd-wait-online.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-networkd.service": {"name": "systemd-networkd.service", "source": "systemd", "state": "running", "status": "enabled-runtime"}, "systemd-poweroff.service": {"name": "systemd-poweroff.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-pstore.service": {"name": "systemd-pstore.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "systemd-quotacheck.service": {"name": "systemd-quotacheck.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-random-seed.service": {"name": "systemd-random-seed.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-reboot.service": {"name": "systemd-reboot.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-remount-fs.service": {"name": "systemd-remount-fs.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-resolved.service": {"name": "systemd-resolved.service", "source": "systemd", "state": "running", "status": "enabled"}, "systemd-rfkill.service": {"name": "systemd-rfkill.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-suspend-then-hibernate.service": {"name": "systemd-suspend-then-hibernate.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-suspend.service": {"name": "systemd-suspend.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-sysctl.service": {"name": "systemd-sysctl.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-sysusers.service": {"name": "systemd-sysusers.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-time-wait-sync.service": {"name": "systemd-time-wait-sync.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-timedated.service": {"name": "systemd-timedated.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-timesyncd.service": {"name": "systemd-timesyncd.service", "source": "systemd", "state": "running", "status": "enabled"}, "systemd-tmpfiles-clean.service": {"name": "systemd-tmpfiles-clean.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-tmpfiles-setup-dev.service": {"name": "systemd-tmpfiles-setup-dev.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-tmpfiles-setup.service": {"name": "systemd-tmpfiles-setup.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-udev-settle.service": {"name": "systemd-udev-settle.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-udev-trigger.service": {"name": "systemd-udev-trigger.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-udevd.service": {"name": "systemd-udevd.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-update-done.service": {"name": "systemd-update-done.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "systemd-update-utmp-runlevel.service": {"name": "systemd-update-utmp-runlevel.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-update-utmp.service": {"name": "systemd-update-utmp.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-user-sessions.service": {"name": "systemd-user-sessions.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-vconsole-setup.service": {"name": "systemd-vconsole-setup.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "systemd-volatile-root.service": {"name": "systemd-volatile-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "ua-auto-attach.service": {"name": "ua-auto-attach.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ua-reboot-cmds.service": {"name": "ua-reboot-cmds.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "ua-timer.service": {"name": "ua-timer.service", "source": "systemd", "state": "stopped", "status": "static"}, "ubuntu-advantage-cloud-id-shim.service": {"name": "ubuntu-advantage-cloud-id-shim.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ubuntu-advantage.service": {"name": "ubuntu-advantage.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "udev": {"name": "udev", "source": "sysv", "state": "running"}, "udev.service": {"name": "udev.service", "source": "systemd", "state": "active", "status": "static"}, "ufw": {"name": "ufw", "source": "sysv", "state": "running"}, "ufw.service": {"name": "ufw.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "unattended-upgrades": {"name": "unattended-upgrades", "source": "sysv", "state": "running"}, "unattended-upgrades.service": {"name": "unattended-upgrades.service", "source": "systemd", "state": "running", "status": "enabled"}, "user-runtime-dir@.service": {"name": "user-runtime-dir@.service", "source": "systemd", "state": "unknown", "status": "static"}, "user-runtime-dir@1000.service": {"name": "user-runtime-dir@1000.service", "source": "systemd", "state": "stopped", "status": "active"}, "user@.service": {"name": "user@.service", "source": "systemd", "state": "unknown", "status": "static"}, "user@1000.service": {"name": "user@1000.service", "source": "systemd", "state": "running", "status": "active"}, "uuidd": {"name": "uuidd", "source": "sysv", "state": "stopped"}, "uuidd.service": {"name": "uuidd.service", "source": "systemd", "state": "stopped", "status": "indirect"}, "x11-common.service": {"name": "x11-common.service", "source": "systemd", "state": "inactive", "status": "masked"}, "xfs_scrub@.service": {"name": "xfs_scrub@.service", "source": "systemd", "state": "unknown", "status": "static"}, "xfs_scrub_all.service": {"name": "xfs_scrub_all.service", "source": "systemd", "state": "inactive", "status": "static"}, "xfs_scrub_fail@.service": {"name": "xfs_scrub_fail@.service", "source": "systemd", "state": "unknown", "status": "static"}}}, "changed": false}
ok: [node2] => {"ansible_facts": {"services": {"NetworkManager.service": {"name": "NetworkManager.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "accounts-daemon.service": {"name": "accounts-daemon.service", "source": "systemd", "state": "running", "status": "enabled"}, "apparmor": {"name": "apparmor", "source": "sysv", "state": "running"}, "apparmor.service": {"name": "apparmor.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "apt-daily-upgrade.service": {"name": "apt-daily-upgrade.service", "source": "systemd", "state": "stopped", "status": "static"}, "apt-daily.service": {"name": "apt-daily.service", "source": "systemd", "state": "stopped", "status": "static"}, "apt-news.service": {"name": "apt-news.service", "source": "systemd", "state": "inactive", "status": "static"}, "auditd.service": {"name": "auditd.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "autovt@.service": {"name": "autovt@.service", "source": "systemd", "state": "unknown", "status": "enabled"}, "cloud-config.service": {"name": "cloud-config.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-final.service": {"name": "cloud-final.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-init-hotplugd.service": {"name": "cloud-init-hotplugd.service", "source": "systemd", "state": "stopped", "status": "static"}, "cloud-init-local.service": {"name": "cloud-init-local.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-init.service": {"name": "cloud-init.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "connman.service": {"name": "connman.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "console-getty.service": {"name": "console-getty.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "console-screen.service": {"name": "console-screen.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "console-setup.service": {"name": "console-setup.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "console-setup.sh": {"name": "console-setup.sh", "source": "sysv", "state": "stopped"}, "container-getty@.service": {"name": "container-getty@.service", "source": "systemd", "state": "unknown", "status": "static"}, "cron": {"name": "cron", "source": "sysv", "state": "running"}, "cron.service": {"name": "cron.service", "source": "systemd", "state": "running", "status": "enabled"}, "cryptdisks-early.service": {"name": "cryptdisks-early.service", "source": "systemd", "state": "inactive", "status": "masked"}, "cryptdisks.service": {"name": "cryptdisks.service", "source": "systemd", "state": "inactive", "status": "masked"}, "dbus": {"name": "dbus", "source": "sysv", "state": "running"}, "dbus-org.freedesktop.hostname1.service": {"name": "dbus-org.freedesktop.hostname1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.locale1.service": {"name": "dbus-org.freedesktop.locale1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.login1.service": {"name": "dbus-org.freedesktop.login1.service", "source": "systemd", "state": "active", "status": "static"}, "dbus-org.freedesktop.resolve1.service": {"name": "dbus-org.freedesktop.resolve1.service", "source": "systemd", "state": "active", "status": "enabled"}, "dbus-org.freedesktop.timedate1.service": {"name": "dbus-org.freedesktop.timedate1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.timesync1.service": {"name": "dbus-org.freedesktop.timesync1.service", "source": "systemd", "state": "active", "status": "enabled"}, "dbus.service": {"name": "dbus.service", "source": "systemd", "state": "running", "status": "static"}, "debug-shell.service": {"name": "debug-shell.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "display-manager.service": {"name": "display-manager.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "dmesg.service": {"name": "dmesg.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "e2scrub@.service": {"name": "e2scrub@.service", "source": "systemd", "state": "unknown", "status": "static"}, "e2scrub_all.service": {"name": "e2scrub_all.service", "source": "systemd", "state": "stopped", "status": "static"}, "e2scrub_fail@.service": {"name": "e2scrub_fail@.service", "source": "systemd", "state": "unknown", "status": "static"}, "e2scrub_reap.service": {"name": "e2scrub_reap.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "emergency.service": {"name": "emergency.service", "source": "systemd", "state": "stopped", "status": "static"}, "esm-cache.service": {"name": "esm-cache.service", "source": "systemd", "state": "inactive", "status": "static"}, "friendly-recovery.service": {"name": "friendly-recovery.service", "source": "systemd", "state": "inactive", "status": "static"}, "fstrim.service": {"name": "fstrim.service", "source": "systemd", "state": "stopped", "status": "static"}, "getty-static.service": {"name": "getty-static.service", "source": "systemd", "state": "stopped", "status": "static"}, "getty@.service": {"name": "getty@.service", "source": "systemd", "state": "unknown", "status": "enabled"}, "getty@tty1.service": {"name": "getty@tty1.service", "source": "systemd", "state": "running", "status": "active"}, "grub-common": {"name": "grub-common", "source": "sysv", "state": "stopped"}, "grub-common.service": {"name": "grub-common.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "grub-initrd-fallback.service": {"name": "grub-initrd-fallback.service", "source": "systemd", "state": "inactive", "status": "enabled"}, "hv_kvp_daemon.service": {"name": "hv_kvp_daemon.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "hwclock.service": {"name": "hwclock.service", "source": "systemd", "state": "inactive", "status": "masked"}, "hwclock.sh": {"name": "hwclock.sh", "source": "sysv", "state": "stopped"}, "initrd-cleanup.service": {"name": "initrd-cleanup.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-parse-etc.service": {"name": "initrd-parse-etc.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-switch-root.service": {"name": "initrd-switch-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-udevadm-cleanup-db.service": {"name": "initrd-udevadm-cleanup-db.service", "source": "systemd", "state": "inactive", "status": "static"}, "ipvsadm": {"name": "ipvsadm", "source": "sysv", "state": "running"}, "ipvsadm.service": {"name": "ipvsadm.service", "source": "systemd", "state": "stopped", "status": "generated"}, "irqbalance": {"name": "irqbalance", "source": "sysv", "state": "running"}, "irqbalance.service": {"name": "irqbalance.service", "source": "systemd", "state": "running", "status": "enabled"}, "kbd.service": {"name": "kbd.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "keyboard-setup.service": {"name": "keyboard-setup.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "keyboard-setup.sh": {"name": "keyboard-setup.sh", "source": "sysv", "state": "stopped"}, "kmod": {"name": "kmod", "source": "sysv", "state": "running"}, "kmod-static-nodes.service": {"name": "kmod-static-nodes.service", "source": "systemd", "state": "stopped", "status": "static"}, "kmod.service": {"name": "kmod.service", "source": "systemd", "state": "active", "status": "static"}, "loaded": {"name": "loaded", "source": "systemd", "state": "stopped", "status": "failed"}, "logrotate.service": {"name": "logrotate.service", "source": "systemd", "state": "stopped", "status": "static"}, "man-db.service": {"name": "man-db.service", "source": "systemd", "state": "stopped", "status": "static"}, "modprobe@.service": {"name": "modprobe@.service", "source": "systemd", "state": "unknown", "status": "static"}, "modprobe@chromeos_pstore.service": {"name": "modprobe@chromeos_pstore.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@drm.service": {"name": "modprobe@drm.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@efi_pstore.service": {"name": "modprobe@efi_pstore.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@pstore_blk.service": {"name": "modprobe@pstore_blk.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@pstore_zone.service": {"name": "modprobe@pstore_zone.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@ramoops.service": {"name": "modprobe@ramoops.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "motd-news.service": {"name": "motd-news.service", "source": "systemd", "state": "stopped", "status": "static"}, "netplan-ovs-cleanup.service": {"name": "netplan-ovs-cleanup.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "networkd-dispatcher.service": {"name": "networkd-dispatcher.service", "source": "systemd", "state": "running", "status": "enabled"}, "networking.service": {"name": "networking.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ondemand.service": {"name": "ondemand.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "ovsdb-server.service": {"name": "ovsdb-server.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "packagekit-offline-update.service": {"name": "packagekit-offline-update.service", "source": "systemd", "state": "inactive", "status": "static"}, "packagekit.service": {"name": "packagekit.service", "source": "systemd", "state": "running", "status": "static"}, "plymouth": {"name": "plymouth", "source": "sysv", "state": "stopped"}, "plymouth-halt.service": {"name": "plymouth-halt.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-kexec.service": {"name": "plymouth-kexec.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-log": {"name": "plymouth-log", "source": "sysv", "state": "stopped"}, "plymouth-log.service": {"name": "plymouth-log.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-poweroff.service": {"name": "plymouth-poweroff.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-quit-wait.service": {"name": "plymouth-quit-wait.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-quit.service": {"name": "plymouth-quit.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-read-write.service": {"name": "plymouth-read-write.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-reboot.service": {"name": "plymouth-reboot.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-start.service": {"name": "plymouth-start.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-switch-root.service": {"name": "plymouth-switch-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth.service": {"name": "plymouth.service", "source": "systemd", "state": "inactive", "status": "static"}, "polkit.service": {"name": "polkit.service", "source": "systemd", "state": "running", "status": "static"}, "procps": {"name": "procps", "source": "sysv", "state": "running"}, "procps.service": {"name": "procps.service", "source": "systemd", "state": "active", "status": "static"}, "quotaon.service": {"name": "quotaon.service", "source": "systemd", "state": "inactive", "status": "static"}, "rc-local.service": {"name": "rc-local.service", "source": "systemd", "state": "stopped", "status": "static"}, "rc.service": {"name": "rc.service", "source": "systemd", "state": "inactive", "status": "masked"}, "rcS.service": {"name": "rcS.service", "source": "systemd", "state": "inactive", "status": "masked"}, "rescue.service": {"name": "rescue.service", "source": "systemd", "state": "stopped", "status": "static"}, "rsync": {"name": "rsync", "source": "sysv", "state": "stopped"}, "rsync.service": {"name": "rsync.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "rsyslog": {"name": "rsyslog", "source": "sysv", "state": "running"}, "rsyslog.service": {"name": "rsyslog.service", "source": "systemd", "state": "running", "status": "enabled"}, "serial-getty@.service": {"name": "serial-getty@.service", "source": "systemd", "state": "unknown", "status": "indirect"}, "serial-getty@ttyS0.service": {"name": "serial-getty@ttyS0.service", "source": "systemd", "state": "running", "status": "active"}, "setvtrgb.service": {"name": "setvtrgb.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "snapd.seeded.service": {"name": "snapd.seeded.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ssh": {"name": "ssh", "source": "sysv", "state": "running"}, "ssh.service": {"name": "ssh.service", "source": "systemd", "state": "running", "status": "enabled"}, "ssh@.service": {"name": "ssh@.service", "source": "systemd", "state": "unknown", "status": "static"}, "sshd-keygen.service": {"name": "sshd-keygen.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "sshd.service": {"name": "sshd.service", "source": "systemd", "state": "active", "status": "enabled"}, "sudo.service": {"name": "sudo.service", "source": "systemd", "state": "inactive", "status": "masked"}, "syslog.service": {"name": "syslog.service", "source": "systemd", "state": "active", "status": "enabled"}, "system-update-cleanup.service": {"name": "system-update-cleanup.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-ask-password-console.service": {"name": "systemd-ask-password-console.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-ask-password-plymouth.service": {"name": "systemd-ask-password-plymouth.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-ask-password-wall.service": {"name": "systemd-ask-password-wall.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-backlight@.service": {"name": "systemd-backlight@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-binfmt.service": {"name": "systemd-binfmt.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-bless-boot.service": {"name": "systemd-bless-boot.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-boot-check-no-failures.service": {"name": "systemd-boot-check-no-failures.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-boot-system-token.service": {"name": "systemd-boot-system-token.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-exit.service": {"name": "systemd-exit.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-fsck-root.service": {"name": "systemd-fsck-root.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-fsck@.service": {"name": "systemd-fsck@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-fsckd.service": {"name": "systemd-fsckd.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-halt.service": {"name": "systemd-halt.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hibernate-resume@.service": {"name": "systemd-hibernate-resume@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-hibernate.service": {"name": "systemd-hibernate.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hostnamed.service": {"name": "systemd-hostnamed.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hwdb-update.service": {"name": "systemd-hwdb-update.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-hybrid-sleep.service": {"name": "systemd-hybrid-sleep.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-initctl.service": {"name": "systemd-initctl.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-journal-flush.service": {"name": "systemd-journal-flush.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-journald.service": {"name": "systemd-journald.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-journald@.service": {"name": "systemd-journald@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-kexec.service": {"name": "systemd-kexec.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-localed.service": {"name": "systemd-localed.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-logind.service": {"name": "systemd-logind.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-machine-id-commit.service": {"name": "systemd-machine-id-commit.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-modules-load.service": {"name": "systemd-modules-load.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-network-generator.service": {"name": "systemd-network-generator.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-networkd-wait-online.service": {"name": "systemd-networkd-wait-online.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-networkd.service": {"name": "systemd-networkd.service", "source": "systemd", "state": "running", "status": "enabled-runtime"}, "systemd-poweroff.service": {"name": "systemd-poweroff.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-pstore.service": {"name": "systemd-pstore.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "systemd-quotacheck.service": {"name": "systemd-quotacheck.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-random-seed.service": {"name": "systemd-random-seed.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-reboot.service": {"name": "systemd-reboot.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-remount-fs.service": {"name": "systemd-remount-fs.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-resolved.service": {"name": "systemd-resolved.service", "source": "systemd", "state": "running", "status": "enabled"}, "systemd-rfkill.service": {"name": "systemd-rfkill.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-suspend-then-hibernate.service": {"name": "systemd-suspend-then-hibernate.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-suspend.service": {"name": "systemd-suspend.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-sysctl.service": {"name": "systemd-sysctl.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-sysusers.service": {"name": "systemd-sysusers.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-time-wait-sync.service": {"name": "systemd-time-wait-sync.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-timedated.service": {"name": "systemd-timedated.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-timesyncd.service": {"name": "systemd-timesyncd.service", "source": "systemd", "state": "running", "status": "enabled"}, "systemd-tmpfiles-clean.service": {"name": "systemd-tmpfiles-clean.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-tmpfiles-setup-dev.service": {"name": "systemd-tmpfiles-setup-dev.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-tmpfiles-setup.service": {"name": "systemd-tmpfiles-setup.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-udev-settle.service": {"name": "systemd-udev-settle.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-udev-trigger.service": {"name": "systemd-udev-trigger.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-udevd.service": {"name": "systemd-udevd.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-update-done.service": {"name": "systemd-update-done.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "systemd-update-utmp-runlevel.service": {"name": "systemd-update-utmp-runlevel.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-update-utmp.service": {"name": "systemd-update-utmp.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-user-sessions.service": {"name": "systemd-user-sessions.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-vconsole-setup.service": {"name": "systemd-vconsole-setup.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "systemd-volatile-root.service": {"name": "systemd-volatile-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "ua-auto-attach.service": {"name": "ua-auto-attach.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ua-reboot-cmds.service": {"name": "ua-reboot-cmds.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "ua-timer.service": {"name": "ua-timer.service", "source": "systemd", "state": "stopped", "status": "static"}, "ubuntu-advantage-cloud-id-shim.service": {"name": "ubuntu-advantage-cloud-id-shim.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ubuntu-advantage.service": {"name": "ubuntu-advantage.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "udev": {"name": "udev", "source": "sysv", "state": "running"}, "udev.service": {"name": "udev.service", "source": "systemd", "state": "active", "status": "static"}, "ufw": {"name": "ufw", "source": "sysv", "state": "running"}, "ufw.service": {"name": "ufw.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "unattended-upgrades": {"name": "unattended-upgrades", "source": "sysv", "state": "running"}, "unattended-upgrades.service": {"name": "unattended-upgrades.service", "source": "systemd", "state": "running", "status": "enabled"}, "user-runtime-dir@.service": {"name": "user-runtime-dir@.service", "source": "systemd", "state": "unknown", "status": "static"}, "user-runtime-dir@1000.service": {"name": "user-runtime-dir@1000.service", "source": "systemd", "state": "stopped", "status": "active"}, "user@.service": {"name": "user@.service", "source": "systemd", "state": "unknown", "status": "static"}, "user@1000.service": {"name": "user@1000.service", "source": "systemd", "state": "running", "status": "active"}, "uuidd": {"name": "uuidd", "source": "sysv", "state": "stopped"}, "uuidd.service": {"name": "uuidd.service", "source": "systemd", "state": "stopped", "status": "indirect"}, "x11-common.service": {"name": "x11-common.service", "source": "systemd", "state": "inactive", "status": "masked"}, "xfs_scrub@.service": {"name": "xfs_scrub@.service", "source": "systemd", "state": "unknown", "status": "static"}, "xfs_scrub_all.service": {"name": "xfs_scrub_all.service", "source": "systemd", "state": "inactive", "status": "static"}, "xfs_scrub_fail@.service": {"name": "xfs_scrub_fail@.service", "source": "systemd", "state": "unknown", "status": "static"}}}, "changed": false}
ok: [master] => {"ansible_facts": {"services": {"NetworkManager.service": {"name": "NetworkManager.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "accounts-daemon.service": {"name": "accounts-daemon.service", "source": "systemd", "state": "running", "status": "enabled"}, "apparmor": {"name": "apparmor", "source": "sysv", "state": "running"}, "apparmor.service": {"name": "apparmor.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "apt-daily-upgrade.service": {"name": "apt-daily-upgrade.service", "source": "systemd", "state": "stopped", "status": "static"}, "apt-daily.service": {"name": "apt-daily.service", "source": "systemd", "state": "stopped", "status": "static"}, "apt-news.service": {"name": "apt-news.service", "source": "systemd", "state": "inactive", "status": "static"}, "auditd.service": {"name": "auditd.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "autovt@.service": {"name": "autovt@.service", "source": "systemd", "state": "unknown", "status": "enabled"}, "cloud-config.service": {"name": "cloud-config.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-final.service": {"name": "cloud-final.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-init-hotplugd.service": {"name": "cloud-init-hotplugd.service", "source": "systemd", "state": "stopped", "status": "static"}, "cloud-init-local.service": {"name": "cloud-init-local.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "cloud-init.service": {"name": "cloud-init.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "connman.service": {"name": "connman.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "console-getty.service": {"name": "console-getty.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "console-screen.service": {"name": "console-screen.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "console-setup.service": {"name": "console-setup.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "console-setup.sh": {"name": "console-setup.sh", "source": "sysv", "state": "stopped"}, "container-getty@.service": {"name": "container-getty@.service", "source": "systemd", "state": "unknown", "status": "static"}, "cron": {"name": "cron", "source": "sysv", "state": "running"}, "cron.service": {"name": "cron.service", "source": "systemd", "state": "running", "status": "enabled"}, "cryptdisks-early.service": {"name": "cryptdisks-early.service", "source": "systemd", "state": "inactive", "status": "masked"}, "cryptdisks.service": {"name": "cryptdisks.service", "source": "systemd", "state": "inactive", "status": "masked"}, "dbus": {"name": "dbus", "source": "sysv", "state": "running"}, "dbus-org.freedesktop.hostname1.service": {"name": "dbus-org.freedesktop.hostname1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.locale1.service": {"name": "dbus-org.freedesktop.locale1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.login1.service": {"name": "dbus-org.freedesktop.login1.service", "source": "systemd", "state": "active", "status": "static"}, "dbus-org.freedesktop.resolve1.service": {"name": "dbus-org.freedesktop.resolve1.service", "source": "systemd", "state": "active", "status": "enabled"}, "dbus-org.freedesktop.timedate1.service": {"name": "dbus-org.freedesktop.timedate1.service", "source": "systemd", "state": "inactive", "status": "static"}, "dbus-org.freedesktop.timesync1.service": {"name": "dbus-org.freedesktop.timesync1.service", "source": "systemd", "state": "active", "status": "enabled"}, "dbus.service": {"name": "dbus.service", "source": "systemd", "state": "running", "status": "static"}, "debug-shell.service": {"name": "debug-shell.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "display-manager.service": {"name": "display-manager.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "dmesg.service": {"name": "dmesg.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "e2scrub@.service": {"name": "e2scrub@.service", "source": "systemd", "state": "unknown", "status": "static"}, "e2scrub_all.service": {"name": "e2scrub_all.service", "source": "systemd", "state": "stopped", "status": "static"}, "e2scrub_fail@.service": {"name": "e2scrub_fail@.service", "source": "systemd", "state": "unknown", "status": "static"}, "e2scrub_reap.service": {"name": "e2scrub_reap.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "emergency.service": {"name": "emergency.service", "source": "systemd", "state": "stopped", "status": "static"}, "esm-cache.service": {"name": "esm-cache.service", "source": "systemd", "state": "inactive", "status": "static"}, "friendly-recovery.service": {"name": "friendly-recovery.service", "source": "systemd", "state": "inactive", "status": "static"}, "fstrim.service": {"name": "fstrim.service", "source": "systemd", "state": "stopped", "status": "static"}, "getty-static.service": {"name": "getty-static.service", "source": "systemd", "state": "stopped", "status": "static"}, "getty@.service": {"name": "getty@.service", "source": "systemd", "state": "unknown", "status": "enabled"}, "getty@tty1.service": {"name": "getty@tty1.service", "source": "systemd", "state": "running", "status": "active"}, "grub-common": {"name": "grub-common", "source": "sysv", "state": "stopped"}, "grub-common.service": {"name": "grub-common.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "grub-initrd-fallback.service": {"name": "grub-initrd-fallback.service", "source": "systemd", "state": "inactive", "status": "enabled"}, "hv_kvp_daemon.service": {"name": "hv_kvp_daemon.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "hwclock.service": {"name": "hwclock.service", "source": "systemd", "state": "inactive", "status": "masked"}, "hwclock.sh": {"name": "hwclock.sh", "source": "sysv", "state": "stopped"}, "initrd-cleanup.service": {"name": "initrd-cleanup.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-parse-etc.service": {"name": "initrd-parse-etc.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-switch-root.service": {"name": "initrd-switch-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "initrd-udevadm-cleanup-db.service": {"name": "initrd-udevadm-cleanup-db.service", "source": "systemd", "state": "inactive", "status": "static"}, "ipvsadm": {"name": "ipvsadm", "source": "sysv", "state": "running"}, "ipvsadm.service": {"name": "ipvsadm.service", "source": "systemd", "state": "stopped", "status": "generated"}, "irqbalance": {"name": "irqbalance", "source": "sysv", "state": "running"}, "irqbalance.service": {"name": "irqbalance.service", "source": "systemd", "state": "running", "status": "enabled"}, "kbd.service": {"name": "kbd.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "keyboard-setup.service": {"name": "keyboard-setup.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "keyboard-setup.sh": {"name": "keyboard-setup.sh", "source": "sysv", "state": "stopped"}, "kmod": {"name": "kmod", "source": "sysv", "state": "running"}, "kmod-static-nodes.service": {"name": "kmod-static-nodes.service", "source": "systemd", "state": "stopped", "status": "static"}, "kmod.service": {"name": "kmod.service", "source": "systemd", "state": "active", "status": "static"}, "loaded": {"name": "loaded", "source": "systemd", "state": "stopped", "status": "failed"}, "logrotate.service": {"name": "logrotate.service", "source": "systemd", "state": "stopped", "status": "static"}, "man-db.service": {"name": "man-db.service", "source": "systemd", "state": "stopped", "status": "static"}, "modprobe@.service": {"name": "modprobe@.service", "source": "systemd", "state": "unknown", "status": "static"}, "modprobe@chromeos_pstore.service": {"name": "modprobe@chromeos_pstore.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@drm.service": {"name": "modprobe@drm.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@efi_pstore.service": {"name": "modprobe@efi_pstore.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@pstore_blk.service": {"name": "modprobe@pstore_blk.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@pstore_zone.service": {"name": "modprobe@pstore_zone.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "modprobe@ramoops.service": {"name": "modprobe@ramoops.service", "source": "systemd", "state": "stopped", "status": "inactive"}, "motd-news.service": {"name": "motd-news.service", "source": "systemd", "state": "stopped", "status": "static"}, "netplan-ovs-cleanup.service": {"name": "netplan-ovs-cleanup.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "networkd-dispatcher.service": {"name": "networkd-dispatcher.service", "source": "systemd", "state": "running", "status": "enabled"}, "networking.service": {"name": "networking.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ondemand.service": {"name": "ondemand.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "ovsdb-server.service": {"name": "ovsdb-server.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "packagekit-offline-update.service": {"name": "packagekit-offline-update.service", "source": "systemd", "state": "inactive", "status": "static"}, "packagekit.service": {"name": "packagekit.service", "source": "systemd", "state": "running", "status": "static"}, "plymouth": {"name": "plymouth", "source": "sysv", "state": "stopped"}, "plymouth-halt.service": {"name": "plymouth-halt.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-kexec.service": {"name": "plymouth-kexec.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-log": {"name": "plymouth-log", "source": "sysv", "state": "stopped"}, "plymouth-log.service": {"name": "plymouth-log.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-poweroff.service": {"name": "plymouth-poweroff.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-quit-wait.service": {"name": "plymouth-quit-wait.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-quit.service": {"name": "plymouth-quit.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-read-write.service": {"name": "plymouth-read-write.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-reboot.service": {"name": "plymouth-reboot.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth-start.service": {"name": "plymouth-start.service", "source": "systemd", "state": "stopped", "status": "static"}, "plymouth-switch-root.service": {"name": "plymouth-switch-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "plymouth.service": {"name": "plymouth.service", "source": "systemd", "state": "inactive", "status": "static"}, "polkit.service": {"name": "polkit.service", "source": "systemd", "state": "running", "status": "static"}, "procps": {"name": "procps", "source": "sysv", "state": "running"}, "procps.service": {"name": "procps.service", "source": "systemd", "state": "active", "status": "static"}, "quotaon.service": {"name": "quotaon.service", "source": "systemd", "state": "inactive", "status": "static"}, "rc-local.service": {"name": "rc-local.service", "source": "systemd", "state": "stopped", "status": "static"}, "rc.service": {"name": "rc.service", "source": "systemd", "state": "inactive", "status": "masked"}, "rcS.service": {"name": "rcS.service", "source": "systemd", "state": "inactive", "status": "masked"}, "rescue.service": {"name": "rescue.service", "source": "systemd", "state": "stopped", "status": "static"}, "rsync": {"name": "rsync", "source": "sysv", "state": "stopped"}, "rsync.service": {"name": "rsync.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "rsyslog": {"name": "rsyslog", "source": "sysv", "state": "running"}, "rsyslog.service": {"name": "rsyslog.service", "source": "systemd", "state": "running", "status": "enabled"}, "serial-getty@.service": {"name": "serial-getty@.service", "source": "systemd", "state": "unknown", "status": "indirect"}, "serial-getty@ttyS0.service": {"name": "serial-getty@ttyS0.service", "source": "systemd", "state": "running", "status": "active"}, "setvtrgb.service": {"name": "setvtrgb.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "snapd.seeded.service": {"name": "snapd.seeded.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ssh": {"name": "ssh", "source": "sysv", "state": "running"}, "ssh.service": {"name": "ssh.service", "source": "systemd", "state": "running", "status": "enabled"}, "ssh@.service": {"name": "ssh@.service", "source": "systemd", "state": "unknown", "status": "static"}, "sshd-keygen.service": {"name": "sshd-keygen.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "sshd.service": {"name": "sshd.service", "source": "systemd", "state": "active", "status": "enabled"}, "sudo.service": {"name": "sudo.service", "source": "systemd", "state": "inactive", "status": "masked"}, "syslog.service": {"name": "syslog.service", "source": "systemd", "state": "active", "status": "enabled"}, "system-update-cleanup.service": {"name": "system-update-cleanup.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-ask-password-console.service": {"name": "systemd-ask-password-console.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-ask-password-plymouth.service": {"name": "systemd-ask-password-plymouth.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-ask-password-wall.service": {"name": "systemd-ask-password-wall.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-backlight@.service": {"name": "systemd-backlight@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-binfmt.service": {"name": "systemd-binfmt.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-bless-boot.service": {"name": "systemd-bless-boot.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-boot-check-no-failures.service": {"name": "systemd-boot-check-no-failures.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-boot-system-token.service": {"name": "systemd-boot-system-token.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-exit.service": {"name": "systemd-exit.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-fsck-root.service": {"name": "systemd-fsck-root.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-fsck@.service": {"name": "systemd-fsck@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-fsckd.service": {"name": "systemd-fsckd.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-halt.service": {"name": "systemd-halt.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hibernate-resume@.service": {"name": "systemd-hibernate-resume@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-hibernate.service": {"name": "systemd-hibernate.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hostnamed.service": {"name": "systemd-hostnamed.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-hwdb-update.service": {"name": "systemd-hwdb-update.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-hybrid-sleep.service": {"name": "systemd-hybrid-sleep.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-initctl.service": {"name": "systemd-initctl.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-journal-flush.service": {"name": "systemd-journal-flush.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-journald.service": {"name": "systemd-journald.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-journald@.service": {"name": "systemd-journald@.service", "source": "systemd", "state": "unknown", "status": "static"}, "systemd-kexec.service": {"name": "systemd-kexec.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-localed.service": {"name": "systemd-localed.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-logind.service": {"name": "systemd-logind.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-machine-id-commit.service": {"name": "systemd-machine-id-commit.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-modules-load.service": {"name": "systemd-modules-load.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-network-generator.service": {"name": "systemd-network-generator.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-networkd-wait-online.service": {"name": "systemd-networkd-wait-online.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-networkd.service": {"name": "systemd-networkd.service", "source": "systemd", "state": "running", "status": "enabled-runtime"}, "systemd-poweroff.service": {"name": "systemd-poweroff.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-pstore.service": {"name": "systemd-pstore.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "systemd-quotacheck.service": {"name": "systemd-quotacheck.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-random-seed.service": {"name": "systemd-random-seed.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-reboot.service": {"name": "systemd-reboot.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-remount-fs.service": {"name": "systemd-remount-fs.service", "source": "systemd", "state": "stopped", "status": "enabled-runtime"}, "systemd-resolved.service": {"name": "systemd-resolved.service", "source": "systemd", "state": "running", "status": "enabled"}, "systemd-rfkill.service": {"name": "systemd-rfkill.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-suspend-then-hibernate.service": {"name": "systemd-suspend-then-hibernate.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-suspend.service": {"name": "systemd-suspend.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-sysctl.service": {"name": "systemd-sysctl.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-sysusers.service": {"name": "systemd-sysusers.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-time-wait-sync.service": {"name": "systemd-time-wait-sync.service", "source": "systemd", "state": "inactive", "status": "disabled"}, "systemd-timedated.service": {"name": "systemd-timedated.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-timesyncd.service": {"name": "systemd-timesyncd.service", "source": "systemd", "state": "running", "status": "enabled"}, "systemd-tmpfiles-clean.service": {"name": "systemd-tmpfiles-clean.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-tmpfiles-setup-dev.service": {"name": "systemd-tmpfiles-setup-dev.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-tmpfiles-setup.service": {"name": "systemd-tmpfiles-setup.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-udev-settle.service": {"name": "systemd-udev-settle.service", "source": "systemd", "state": "inactive", "status": "static"}, "systemd-udev-trigger.service": {"name": "systemd-udev-trigger.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-udevd.service": {"name": "systemd-udevd.service", "source": "systemd", "state": "running", "status": "static"}, "systemd-update-done.service": {"name": "systemd-update-done.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "systemd-update-utmp-runlevel.service": {"name": "systemd-update-utmp-runlevel.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-update-utmp.service": {"name": "systemd-update-utmp.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-user-sessions.service": {"name": "systemd-user-sessions.service", "source": "systemd", "state": "stopped", "status": "static"}, "systemd-vconsole-setup.service": {"name": "systemd-vconsole-setup.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "systemd-volatile-root.service": {"name": "systemd-volatile-root.service", "source": "systemd", "state": "inactive", "status": "static"}, "ua-auto-attach.service": {"name": "ua-auto-attach.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ua-reboot-cmds.service": {"name": "ua-reboot-cmds.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "ua-timer.service": {"name": "ua-timer.service", "source": "systemd", "state": "stopped", "status": "static"}, "ubuntu-advantage-cloud-id-shim.service": {"name": "ubuntu-advantage-cloud-id-shim.service", "source": "systemd", "state": "stopped", "status": "not-found"}, "ubuntu-advantage.service": {"name": "ubuntu-advantage.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "udev": {"name": "udev", "source": "sysv", "state": "running"}, "udev.service": {"name": "udev.service", "source": "systemd", "state": "active", "status": "static"}, "ufw": {"name": "ufw", "source": "sysv", "state": "running"}, "ufw.service": {"name": "ufw.service", "source": "systemd", "state": "stopped", "status": "enabled"}, "unattended-upgrades": {"name": "unattended-upgrades", "source": "sysv", "state": "running"}, "unattended-upgrades.service": {"name": "unattended-upgrades.service", "source": "systemd", "state": "running", "status": "enabled"}, "user-runtime-dir@.service": {"name": "user-runtime-dir@.service", "source": "systemd", "state": "unknown", "status": "static"}, "user-runtime-dir@1000.service": {"name": "user-runtime-dir@1000.service", "source": "systemd", "state": "stopped", "status": "active"}, "user@.service": {"name": "user@.service", "source": "systemd", "state": "unknown", "status": "static"}, "user@1000.service": {"name": "user@1000.service", "source": "systemd", "state": "running", "status": "active"}, "uuidd": {"name": "uuidd", "source": "sysv", "state": "stopped"}, "uuidd.service": {"name": "uuidd.service", "source": "systemd", "state": "stopped", "status": "indirect"}, "x11-common.service": {"name": "x11-common.service", "source": "systemd", "state": "inactive", "status": "masked"}, "xfs_scrub@.service": {"name": "xfs_scrub@.service", "source": "systemd", "state": "unknown", "status": "static"}, "xfs_scrub_all.service": {"name": "xfs_scrub_all.service", "source": "systemd", "state": "inactive", "status": "static"}, "xfs_scrub_fail@.service": {"name": "xfs_scrub_fail@.service", "source": "systemd", "state": "unknown", "status": "static"}}}, "changed": false}
Четверг 20 июля 2023  22:23:28 +0300 (0:00:04.097)       0:03:14.437 ********** 

TASK [container-engine/validate-container-engine : Check if containerd is installed] ***
ok: [node1] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
ok: [node2] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
ok: [master] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
Четверг 20 июля 2023  22:23:30 +0300 (0:00:02.078)       0:03:16.515 ********** 

TASK [container-engine/validate-container-engine : Check if docker is installed] ***
ok: [node1] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
ok: [master] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
ok: [node2] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
Четверг 20 июля 2023  22:23:33 +0300 (0:00:02.350)       0:03:18.865 ********** 

TASK [container-engine/validate-container-engine : Check if crio is installed] ***
ok: [node1] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
ok: [node2] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
ok: [master] => {"changed": false, "examined": 704, "files": [], "matched": 0, "msg": "All paths examined", "skipped_paths": {}}
Четверг 20 июля 2023  22:23:35 +0300 (0:00:01.829)       0:03:20.695 ********** 
Четверг 20 июля 2023  22:23:35 +0300 (0:00:00.128)       0:03:20.823 ********** 
Четверг 20 июля 2023  22:23:35 +0300 (0:00:00.095)       0:03:20.919 ********** 
Четверг 20 июля 2023  22:23:35 +0300 (0:00:00.089)       0:03:21.009 ********** 
Четверг 20 июля 2023  22:23:35 +0300 (0:00:00.086)       0:03:21.096 ********** 
Четверг 20 июля 2023  22:23:35 +0300 (0:00:00.171)       0:03:21.268 ********** 
Четверг 20 июля 2023  22:23:35 +0300 (0:00:00.093)       0:03:21.362 ********** 
Четверг 20 июля 2023  22:23:35 +0300 (0:00:00.090)       0:03:21.453 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.086)       0:03:21.539 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.086)       0:03:21.625 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.086)       0:03:21.712 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.154)       0:03:21.866 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.146)       0:03:22.012 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.092)       0:03:22.104 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.088)       0:03:22.193 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.097)       0:03:22.290 ********** 
Четверг 20 июля 2023  22:23:36 +0300 (0:00:00.138)       0:03:22.428 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.204)       0:03:22.633 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.099)       0:03:22.732 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.090)       0:03:22.823 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.201)       0:03:23.024 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.088)       0:03:23.113 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.105)       0:03:23.218 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.111)       0:03:23.330 ********** 
Четверг 20 июля 2023  22:23:37 +0300 (0:00:00.089)       0:03:23.419 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.168)       0:03:23.587 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.113)       0:03:23.701 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.105)       0:03:23.806 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.093)       0:03:23.899 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.096)       0:03:23.996 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.113)       0:03:24.109 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.140)       0:03:24.250 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.098)       0:03:24.348 ********** 
Четверг 20 июля 2023  22:23:38 +0300 (0:00:00.105)       0:03:24.454 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.094)       0:03:24.549 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.091)       0:03:24.641 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.143)       0:03:24.785 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.096)       0:03:24.881 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.093)       0:03:24.975 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.098)       0:03:25.073 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.091)       0:03:25.165 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.092)       0:03:25.258 ********** 
Четверг 20 июля 2023  22:23:39 +0300 (0:00:00.197)       0:03:25.455 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.133)       0:03:25.589 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.099)       0:03:25.688 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.085)       0:03:25.774 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.110)       0:03:25.885 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.110)       0:03:25.995 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.110)       0:03:26.106 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.099)       0:03:26.205 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.094)       0:03:26.300 ********** 
Четверг 20 июля 2023  22:23:40 +0300 (0:00:00.158)       0:03:26.458 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.149)       0:03:26.608 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.117)       0:03:26.725 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.102)       0:03:26.827 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.097)       0:03:26.925 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.111)       0:03:27.037 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.148)       0:03:27.185 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.097)       0:03:27.283 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.103)       0:03:27.387 ********** 
Четверг 20 июля 2023  22:23:41 +0300 (0:00:00.121)       0:03:27.509 ********** 
Четверг 20 июля 2023  22:23:42 +0300 (0:00:00.108)       0:03:27.617 ********** 
Четверг 20 июля 2023  22:23:42 +0300 (0:00:00.109)       0:03:27.726 ********** 
Четверг 20 июля 2023  22:23:42 +0300 (0:00:00.095)       0:03:27.822 ********** 
Четверг 20 июля 2023  22:23:42 +0300 (0:00:00.133)       0:03:27.956 ********** 
Четверг 20 июля 2023  22:23:42 +0300 (0:00:00.157)       0:03:28.113 ********** 
Четверг 20 июля 2023  22:23:42 +0300 (0:00:00.160)       0:03:28.274 ********** 
Четверг 20 июля 2023  22:23:42 +0300 (0:00:00.102)       0:03:28.377 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.214)       0:03:28.592 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.096)       0:03:28.688 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.095)       0:03:28.784 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.092)       0:03:28.877 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.092)       0:03:28.969 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.087)       0:03:29.057 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.107)       0:03:29.165 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.229)       0:03:29.394 ********** 
Четверг 20 июля 2023  22:23:43 +0300 (0:00:00.101)       0:03:29.495 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.106)       0:03:29.602 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.188)       0:03:29.791 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.101)       0:03:29.892 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.168)       0:03:30.060 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.115)       0:03:30.176 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.129)       0:03:30.305 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.111)       0:03:30.417 ********** 
Четверг 20 июля 2023  22:23:44 +0300 (0:00:00.103)       0:03:30.520 ********** 
Четверг 20 июля 2023  22:23:45 +0300 (0:00:00.111)       0:03:30.631 ********** 
Четверг 20 июля 2023  22:23:45 +0300 (0:00:00.114)       0:03:30.746 ********** 
Четверг 20 июля 2023  22:23:45 +0300 (0:00:00.112)       0:03:30.858 ********** 
Четверг 20 июля 2023  22:23:45 +0300 (0:00:00.215)       0:03:31.073 ********** 
Четверг 20 июля 2023  22:23:45 +0300 (0:00:00.182)       0:03:31.256 ********** 
Четверг 20 июля 2023  22:23:45 +0300 (0:00:00.131)       0:03:31.387 ********** 
Четверг 20 июля 2023  22:23:45 +0300 (0:00:00.115)       0:03:31.503 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.151)       0:03:31.655 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.110)       0:03:31.766 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.162)       0:03:31.928 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.092)       0:03:32.020 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.106)       0:03:32.127 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.085)       0:03:32.213 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.104)       0:03:32.317 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.097)       0:03:32.415 ********** 
Четверг 20 июля 2023  22:23:46 +0300 (0:00:00.099)       0:03:32.514 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.111)       0:03:32.626 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.107)       0:03:32.733 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.100)       0:03:32.834 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.106)       0:03:32.940 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.101)       0:03:33.042 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.095)       0:03:33.137 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.096)       0:03:33.233 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.092)       0:03:33.326 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.093)       0:03:33.420 ********** 
Четверг 20 июля 2023  22:23:47 +0300 (0:00:00.090)       0:03:33.510 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.095)       0:03:33.606 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.112)       0:03:33.718 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.126)       0:03:33.844 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.140)       0:03:33.984 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.115)       0:03:34.100 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.079)       0:03:34.180 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.091)       0:03:34.271 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.080)       0:03:34.352 ********** 
Четверг 20 июля 2023  22:23:48 +0300 (0:00:00.129)       0:03:34.481 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.089)       0:03:34.571 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.081)       0:03:34.652 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.157)       0:03:34.809 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.096)       0:03:34.906 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.090)       0:03:34.996 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.098)       0:03:35.095 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.091)       0:03:35.187 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.099)       0:03:35.286 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.117)       0:03:35.404 ********** 
Четверг 20 июля 2023  22:23:49 +0300 (0:00:00.089)       0:03:35.493 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.096)       0:03:35.590 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.075)       0:03:35.666 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.082)       0:03:35.748 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.086)       0:03:35.834 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.129)       0:03:35.964 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.082)       0:03:36.046 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.086)       0:03:36.133 ********** 
Четверг 20 июля 2023  22:23:50 +0300 (0:00:00.134)       0:03:36.267 ********** 

TASK [container-engine/containerd-common : containerd-common | check if fedora coreos] ***
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:51 +0300 (0:00:01.257)       0:03:37.525 ********** 

TASK [container-engine/containerd-common : containerd-common | set is_ostree] ***
ok: [master] => {"ansible_facts": {"is_ostree": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"is_ostree": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"is_ostree": false}, "changed": false}
Четверг 20 июля 2023  22:23:52 +0300 (0:00:00.120)       0:03:37.645 ********** 

TASK [container-engine/containerd-common : containerd-common | gather os specific variables] ***
ok: [master] => (item=/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml) => {"ansible_facts": {"containerd_repo_info": {"repos": ["deb {{ containerd_ubuntu_repo_base_url }} {{ ansible_distribution_release|lower }} {{ containerd_ubuntu_repo_component }}\n"]}}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml"}
ok: [node1] => (item=/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml) => {"ansible_facts": {"containerd_repo_info": {"repos": ["deb {{ containerd_ubuntu_repo_base_url }} {{ ansible_distribution_release|lower }} {{ containerd_ubuntu_repo_component }}\n"]}}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml"}
ok: [node2] => (item=/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml) => {"ansible_facts": {"containerd_repo_info": {"repos": ["deb {{ containerd_ubuntu_repo_base_url }} {{ ansible_distribution_release|lower }} {{ containerd_ubuntu_repo_component }}\n"]}}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/container-engine/containerd/vars/../vars/ubuntu.yml"}
Четверг 20 июля 2023  22:23:52 +0300 (0:00:00.197)       0:03:37.843 ********** 

TASK [container-engine/runc : runc | check if fedora coreos] *******************
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:23:53 +0300 (0:00:01.140)       0:03:38.984 ********** 

TASK [container-engine/runc : runc | set is_ostree] ****************************
ok: [master] => {"ansible_facts": {"is_ostree": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"is_ostree": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"is_ostree": false}, "changed": false}
Четверг 20 июля 2023  22:23:53 +0300 (0:00:00.116)       0:03:39.100 ********** 

TASK [container-engine/runc : runc | Uninstall runc package managed by package manager] ***
ok: [node1] => {"changed": false}
ok: [node2] => {"changed": false}
ok: [master] => {"changed": false}
Четверг 20 июля 2023  22:23:55 +0300 (0:00:01.830)       0:03:40.930 ********** 

TASK [container-engine/runc : runc | Download runc binary] *********************
included: /home/antigen/diplom/kubespray/roles/container-engine/runc/tasks/../../../download/tasks/download_file.yml for master, node1, node2
Четверг 20 июля 2023  22:23:55 +0300 (0:00:00.154)       0:03:41.085 ********** 

TASK [container-engine/runc : prep_download | Set a few facts] *****************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:23:55 +0300 (0:00:00.125)       0:03:41.210 ********** 

TASK [container-engine/runc : download_file | Starting download of file] *******
ok: [master] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"
}
ok: [node1] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"
}
ok: [node2] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"
}
Четверг 20 июля 2023  22:23:56 +0300 (0:00:00.885)       0:03:42.095 ********** 

TASK [container-engine/runc : download_file | Set pathname of cached file] *****
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/runc"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/runc"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/runc"}, "changed": false}
Четверг 20 июля 2023  22:23:57 +0300 (0:00:00.841)       0:03:42.937 ********** 

TASK [container-engine/runc : download_file | Create dest directory on node] ***
changed: [node1] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:23:59 +0300 (0:00:02.231)       0:03:45.169 ********** 
Четверг 20 июля 2023  22:23:59 +0300 (0:00:00.066)       0:03:45.236 ********** 
Четверг 20 июля 2023  22:24:00 +0300 (0:00:00.724)       0:03:45.961 ********** 

TASK [container-engine/runc : download_file | Validate mirrors] ****************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:24:04 +0300 (0:00:04.405)       0:03:50.366 ********** 

TASK [container-engine/runc : download_file | Get the list of working mirrors] ***
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"]}, "changed": false}
Четверг 20 июля 2023  22:24:05 +0300 (0:00:00.207)       0:03:50.574 ********** 

TASK [container-engine/runc : download_file | Download item] *******************
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:24:09 +0300 (0:00:04.515)       0:03:55.089 ********** 
Четверг 20 июля 2023  22:24:09 +0300 (0:00:00.104)       0:03:55.193 ********** 
Четверг 20 июля 2023  22:24:09 +0300 (0:00:00.111)       0:03:55.305 ********** 
Четверг 20 июля 2023  22:24:09 +0300 (0:00:00.117)       0:03:55.423 ********** 

TASK [container-engine/runc : download_file | Extract file archives] ***********
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:24:10 +0300 (0:00:00.162)       0:03:55.585 ********** 
Четверг 20 июля 2023  22:24:10 +0300 (0:00:00.797)       0:03:56.383 ********** 

TASK [container-engine/runc : Copy runc binary from download dir] **************
changed: [node1] => {"changed": true, "checksum": "c2a25f41774ecb90b4f51fb11ebb06337862e2b7", "dest": "/usr/local/bin/runc", "gid": 0, "group": "root", "md5sum": "0407860329c7f81077a17b574eccc75e", "mode": "0755", "owner": "root", "size": 9644288, "src": "/tmp/releases/runc", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "c2a25f41774ecb90b4f51fb11ebb06337862e2b7", "dest": "/usr/local/bin/runc", "gid": 0, "group": "root", "md5sum": "0407860329c7f81077a17b574eccc75e", "mode": "0755", "owner": "root", "size": 9644288, "src": "/tmp/releases/runc", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "c2a25f41774ecb90b4f51fb11ebb06337862e2b7", "dest": "/usr/local/bin/runc", "gid": 0, "group": "root", "md5sum": "0407860329c7f81077a17b574eccc75e", "mode": "0755", "owner": "root", "size": 9644288, "src": "/tmp/releases/runc", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:24:12 +0300 (0:00:01.964)       0:03:58.347 ********** 

TASK [container-engine/runc : runc | Remove orphaned binary] *******************
ok: [node1] => {"changed": false, "path": "/usr/bin/runc", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/usr/bin/runc", "state": "absent"}
ok: [master] => {"changed": false, "path": "/usr/bin/runc", "state": "absent"}
Четверг 20 июля 2023  22:24:14 +0300 (0:00:01.205)       0:03:59.553 ********** 

TASK [container-engine/crictl : install crictl] ********************************
included: /home/antigen/diplom/kubespray/roles/container-engine/crictl/tasks/crictl.yml for master, node1, node2
Четверг 20 июля 2023  22:24:14 +0300 (0:00:00.169)       0:03:59.722 ********** 

TASK [container-engine/crictl : crictl | Download crictl] **********************
included: /home/antigen/diplom/kubespray/roles/container-engine/crictl/tasks/../../../download/tasks/download_file.yml for master, node1, node2
Четверг 20 июля 2023  22:24:14 +0300 (0:00:00.183)       0:03:59.906 ********** 

TASK [container-engine/crictl : prep_download | Set a few facts] ***************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:24:14 +0300 (0:00:00.142)       0:04:00.049 ********** 

TASK [container-engine/crictl : download_file | Starting download of file] *****
ok: [node1] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"
}
ok: [master] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"
}
ok: [node2] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:24:15 +0300 (0:00:00.986)       0:04:01.035 ********** 

TASK [container-engine/crictl : download_file | Set pathname of cached file] ***
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/crictl-v1.26.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/crictl-v1.26.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/crictl-v1.26.0-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:24:16 +0300 (0:00:00.974)       0:04:02.010 ********** 

TASK [container-engine/crictl : download_file | Create dest directory on node] ***
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:24:19 +0300 (0:00:02.548)       0:04:04.559 ********** 
Четверг 20 июля 2023  22:24:19 +0300 (0:00:00.075)       0:04:04.635 ********** 
Четверг 20 июля 2023  22:24:20 +0300 (0:00:00.960)       0:04:05.596 ********** 

TASK [container-engine/crictl : download_file | Validate mirrors] **************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:24:24 +0300 (0:00:04.529)       0:04:10.125 ********** 

TASK [container-engine/crictl : download_file | Get the list of working mirrors] ***
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:24:24 +0300 (0:00:00.192)       0:04:10.317 ********** 

TASK [container-engine/crictl : download_file | Download item] *****************
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:24:30 +0300 (0:00:05.936)       0:04:16.254 ********** 
Четверг 20 июля 2023  22:24:30 +0300 (0:00:00.121)       0:04:16.375 ********** 
Четверг 20 июля 2023  22:24:30 +0300 (0:00:00.135)       0:04:16.511 ********** 
Четверг 20 июля 2023  22:24:31 +0300 (0:00:00.093)       0:04:16.605 ********** 

TASK [container-engine/crictl : download_file | Extract file archives] *********
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:24:31 +0300 (0:00:00.172)       0:04:16.777 ********** 

TASK [container-engine/crictl : extract_file | Unpacking archive] **************
changed: [node2] => {"changed": true, "dest": "/tmp/releases", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases", "-z", "--owner=root", "-f", "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
changed: [node1] => {"changed": true, "dest": "/tmp/releases", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases", "-z", "--owner=root", "-f", "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
changed: [master] => {"changed": true, "dest": "/tmp/releases", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases", "-z", "--owner=root", "-f", "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:24:37 +0300 (0:00:06.413)       0:04:23.191 ********** 

TASK [container-engine/crictl : Install crictl config] *************************
changed: [node1] => {"changed": true, "checksum": "8c563ee377b8aad181d3a00e06314316dc085513", "dest": "/etc/crictl.yaml", "gid": 0, "group": "root", "md5sum": "f4242191753db4690b31e3ecec64d202", "mode": "0644", "owner": "root", "size": 145, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881077.822511-657195-174066757086087/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "8c563ee377b8aad181d3a00e06314316dc085513", "dest": "/etc/crictl.yaml", "gid": 0, "group": "root", "md5sum": "f4242191753db4690b31e3ecec64d202", "mode": "0644", "owner": "root", "size": 145, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881077.8408244-657196-225840465252183/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "8c563ee377b8aad181d3a00e06314316dc085513", "dest": "/etc/crictl.yaml", "gid": 0, "group": "root", "md5sum": "f4242191753db4690b31e3ecec64d202", "mode": "0644", "owner": "root", "size": 145, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881077.813628-657194-188563664640175/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:24:40 +0300 (0:00:02.472)       0:04:25.664 ********** 

TASK [container-engine/crictl : Copy crictl binary from download dir] **********
changed: [node1] => {"changed": true, "checksum": "ecebb8d084fb6bfcd42716ecb222a0bd7599d3f5", "dest": "/usr/local/bin/crictl", "gid": 0, "group": "root", "md5sum": "d8aaa4799d86a7beda6c6378b78f80b1", "mode": "0755", "owner": "root", "size": 52586151, "src": "/tmp/releases/crictl", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "ecebb8d084fb6bfcd42716ecb222a0bd7599d3f5", "dest": "/usr/local/bin/crictl", "gid": 0, "group": "root", "md5sum": "d8aaa4799d86a7beda6c6378b78f80b1", "mode": "0755", "owner": "root", "size": 52586151, "src": "/tmp/releases/crictl", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "ecebb8d084fb6bfcd42716ecb222a0bd7599d3f5", "dest": "/usr/local/bin/crictl", "gid": 0, "group": "root", "md5sum": "d8aaa4799d86a7beda6c6378b78f80b1", "mode": "0755", "owner": "root", "size": 52586151, "src": "/tmp/releases/crictl", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:24:41 +0300 (0:00:01.756)       0:04:27.421 ********** 

TASK [container-engine/nerdctl : nerdctl | Download nerdctl] *******************
included: /home/antigen/diplom/kubespray/roles/container-engine/nerdctl/tasks/../../../download/tasks/download_file.yml for master, node1, node2
Четверг 20 июля 2023  22:24:42 +0300 (0:00:00.209)       0:04:27.631 ********** 

TASK [container-engine/nerdctl : prep_download | Set a few facts] **************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:24:42 +0300 (0:00:00.112)       0:04:27.743 ********** 

TASK [container-engine/nerdctl : download_file | Starting download of file] ****
ok: [master] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"
}
ok: [node1] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"
}
ok: [node2] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:24:43 +0300 (0:00:00.923)       0:04:28.666 ********** 

TASK [container-engine/nerdctl : download_file | Set pathname of cached file] ***
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/nerdctl-1.4.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/nerdctl-1.4.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/nerdctl-1.4.0-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:24:44 +0300 (0:00:00.868)       0:04:29.534 ********** 

TASK [container-engine/nerdctl : download_file | Create dest directory on node] ***
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:24:46 +0300 (0:00:02.165)       0:04:31.699 ********** 
Четверг 20 июля 2023  22:24:46 +0300 (0:00:00.122)       0:04:31.822 ********** 
Четверг 20 июля 2023  22:24:46 +0300 (0:00:00.659)       0:04:32.481 ********** 

TASK [container-engine/nerdctl : download_file | Validate mirrors] *************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:24:51 +0300 (0:00:04.077)       0:04:36.558 ********** 

TASK [container-engine/nerdctl : download_file | Get the list of working mirrors] ***
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:24:51 +0300 (0:00:00.172)       0:04:36.731 ********** 

TASK [container-engine/nerdctl : download_file | Download item] ****************
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:24:55 +0300 (0:00:04.075)       0:04:40.807 ********** 
Четверг 20 июля 2023  22:24:55 +0300 (0:00:00.091)       0:04:40.898 ********** 
Четверг 20 июля 2023  22:24:55 +0300 (0:00:00.091)       0:04:40.990 ********** 
Четверг 20 июля 2023  22:24:55 +0300 (0:00:00.104)       0:04:41.094 ********** 

TASK [container-engine/nerdctl : download_file | Extract file archives] ********
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:24:55 +0300 (0:00:00.152)       0:04:41.247 ********** 

TASK [container-engine/nerdctl : extract_file | Unpacking archive] *************
changed: [node1] => {"changed": true, "dest": "/tmp/releases", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases", "-z", "--owner=root", "-f", "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "dest": "/tmp/releases", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases", "-z", "--owner=root", "-f", "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
changed: [master] => {"changed": true, "dest": "/tmp/releases", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases", "-z", "--owner=root", "-f", "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:25:00 +0300 (0:00:05.276)       0:04:46.524 ********** 

TASK [container-engine/nerdctl : nerdctl | Copy nerdctl binary from download dir] ***
changed: [node2] => {"changed": true, "checksum": "36ed3de5ebdc71f782c80b95c6838797e71f1d06", "dest": "/usr/local/bin/nerdctl", "gid": 0, "group": "root", "md5sum": "1382ce88987ba5832c4477d0a781b6f1", "mode": "0755", "owner": "root", "size": 24379392, "src": "/tmp/releases/nerdctl", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "36ed3de5ebdc71f782c80b95c6838797e71f1d06", "dest": "/usr/local/bin/nerdctl", "gid": 0, "group": "root", "md5sum": "1382ce88987ba5832c4477d0a781b6f1", "mode": "0755", "owner": "root", "size": 24379392, "src": "/tmp/releases/nerdctl", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "36ed3de5ebdc71f782c80b95c6838797e71f1d06", "dest": "/usr/local/bin/nerdctl", "gid": 0, "group": "root", "md5sum": "1382ce88987ba5832c4477d0a781b6f1", "mode": "0755", "owner": "root", "size": 24379392, "src": "/tmp/releases/nerdctl", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:25:02 +0300 (0:00:01.394)       0:04:47.918 ********** 

TASK [container-engine/nerdctl : nerdctl | Create configuration dir] ***********
changed: [node1] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nerdctl", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nerdctl", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nerdctl", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:25:03 +0300 (0:00:01.232)       0:04:49.150 ********** 

TASK [container-engine/nerdctl : nerdctl | Install nerdctl configuration] ******
changed: [node1] => {"changed": true, "checksum": "e46d9c0efd0a617d0682d1b779320ada3a505ca4", "dest": "/etc/nerdctl/nerdctl.toml", "gid": 0, "group": "root", "md5sum": "0cd6fc06c6eeffb2c1637f95184f41b9", "mode": "0644", "owner": "root", "size": 354, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881103.7485962-658033-80369307055550/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "e46d9c0efd0a617d0682d1b779320ada3a505ca4", "dest": "/etc/nerdctl/nerdctl.toml", "gid": 0, "group": "root", "md5sum": "0cd6fc06c6eeffb2c1637f95184f41b9", "mode": "0644", "owner": "root", "size": 354, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881103.7739613-658035-166821817279985/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "e46d9c0efd0a617d0682d1b779320ada3a505ca4", "dest": "/etc/nerdctl/nerdctl.toml", "gid": 0, "group": "root", "md5sum": "0cd6fc06c6eeffb2c1637f95184f41b9", "mode": "0644", "owner": "root", "size": 354, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881103.7392192-658032-14865601364818/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:25:06 +0300 (0:00:02.440)       0:04:51.591 ********** 
Четверг 20 июля 2023  22:25:06 +0300 (0:00:00.109)       0:04:51.700 ********** 

TASK [container-engine/containerd : containerd | Remove any package manager controlled containerd package] ***
ok: [node2] => {"changed": false}
ok: [node1] => {"changed": false}
ok: [master] => {"changed": false}
Четверг 20 июля 2023  22:25:08 +0300 (0:00:02.404)       0:04:54.105 ********** 
Четверг 20 июля 2023  22:25:08 +0300 (0:00:00.099)       0:04:54.205 ********** 

TASK [container-engine/containerd : containerd | Remove containerd repository] ***
ok: [node2] => (item=deb https://download.docker.com/linux/ubuntu focal stable
) => {"ansible_loop_var": "item", "changed": false, "item": "deb https://download.docker.com/linux/ubuntu focal stable\n", "repo": "deb https://download.docker.com/linux/ubuntu focal stable\n", "state": "absent"}
ok: [node1] => (item=deb https://download.docker.com/linux/ubuntu focal stable
) => {"ansible_loop_var": "item", "changed": false, "item": "deb https://download.docker.com/linux/ubuntu focal stable\n", "repo": "deb https://download.docker.com/linux/ubuntu focal stable\n", "state": "absent"}
ok: [master] => (item=deb https://download.docker.com/linux/ubuntu focal stable
) => {"ansible_loop_var": "item", "changed": false, "item": "deb https://download.docker.com/linux/ubuntu focal stable\n", "repo": "deb https://download.docker.com/linux/ubuntu focal stable\n", "state": "absent"}
Четверг 20 июля 2023  22:25:13 +0300 (0:00:04.464)       0:04:58.669 ********** 

TASK [container-engine/containerd : containerd | Download containerd] **********
included: /home/antigen/diplom/kubespray/roles/container-engine/containerd/tasks/../../../download/tasks/download_file.yml for master, node1, node2
Четверг 20 июля 2023  22:25:13 +0300 (0:00:00.160)       0:04:58.829 ********** 

TASK [container-engine/containerd : prep_download | Set a few facts] ***********
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:25:13 +0300 (0:00:00.115)       0:04:58.944 ********** 

TASK [container-engine/containerd : download_file | Starting download of file] ***
ok: [master] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"
}
ok: [node1] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"
}
ok: [node2] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:25:14 +0300 (0:00:00.878)       0:04:59.823 ********** 

TASK [container-engine/containerd : download_file | Set pathname of cached file] ***
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/containerd-1.7.1-linux-amd64.tar.gz"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/containerd-1.7.1-linux-amd64.tar.gz"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/containerd-1.7.1-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:25:15 +0300 (0:00:00.831)       0:05:00.655 ********** 

TASK [container-engine/containerd : download_file | Create dest directory on node] ***
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:25:17 +0300 (0:00:02.868)       0:05:03.523 ********** 
Четверг 20 июля 2023  22:25:18 +0300 (0:00:00.078)       0:05:03.602 ********** 
Четверг 20 июля 2023  22:25:18 +0300 (0:00:00.698)       0:05:04.300 ********** 

TASK [container-engine/containerd : download_file | Validate mirrors] **********
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:25:23 +0300 (0:00:04.851)       0:05:09.152 ********** 

TASK [container-engine/containerd : download_file | Get the list of working mirrors] ***
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:25:23 +0300 (0:00:00.202)       0:05:09.355 ********** 

TASK [container-engine/containerd : download_file | Download item] *************
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:25:28 +0300 (0:00:04.437)       0:05:13.793 ********** 
Четверг 20 июля 2023  22:25:28 +0300 (0:00:00.098)       0:05:13.891 ********** 
Четверг 20 июля 2023  22:25:28 +0300 (0:00:00.096)       0:05:13.987 ********** 
Четверг 20 июля 2023  22:25:28 +0300 (0:00:00.107)       0:05:14.095 ********** 

TASK [container-engine/containerd : download_file | Extract file archives] *****
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:25:28 +0300 (0:00:00.154)       0:05:14.249 ********** 
Четверг 20 июля 2023  22:25:29 +0300 (0:00:00.969)       0:05:15.219 ********** 

TASK [container-engine/containerd : containerd | Unpack containerd archive] ****
changed: [node1] => {"changed": true, "dest": "/usr/local/bin", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/usr/local/bin", "-z", "--show-transformed-names", "--strip-components=1", "-f", "/tmp/releases/containerd-1.7.1-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/containerd-1.7.1-linux-amd64.tar.gz", "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "dest": "/usr/local/bin", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/usr/local/bin", "-z", "--show-transformed-names", "--strip-components=1", "-f", "/tmp/releases/containerd-1.7.1-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/containerd-1.7.1-linux-amd64.tar.gz", "state": "directory", "uid": 0}
changed: [master] => {"changed": true, "dest": "/usr/local/bin", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/usr/local/bin", "-z", "--show-transformed-names", "--strip-components=1", "-f", "/tmp/releases/containerd-1.7.1-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/containerd-1.7.1-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:25:39 +0300 (0:00:09.357)       0:05:24.576 ********** 

TASK [container-engine/containerd : containerd | Remove orphaned binary] *******
ok: [node1] => (item=containerd) => {"ansible_loop_var": "item", "changed": false, "item": "containerd", "path": "/usr/bin/containerd", "state": "absent"}
ok: [node2] => (item=containerd) => {"ansible_loop_var": "item", "changed": false, "item": "containerd", "path": "/usr/bin/containerd", "state": "absent"}
ok: [master] => (item=containerd) => {"ansible_loop_var": "item", "changed": false, "item": "containerd", "path": "/usr/bin/containerd", "state": "absent"}
ok: [node1] => (item=containerd-shim) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim", "path": "/usr/bin/containerd-shim", "state": "absent"}
ok: [node2] => (item=containerd-shim) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim", "path": "/usr/bin/containerd-shim", "state": "absent"}
ok: [master] => (item=containerd-shim) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim", "path": "/usr/bin/containerd-shim", "state": "absent"}
ok: [node2] => (item=containerd-shim-runc-v1) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim-runc-v1", "path": "/usr/bin/containerd-shim-runc-v1", "state": "absent"}
ok: [node1] => (item=containerd-shim-runc-v1) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim-runc-v1", "path": "/usr/bin/containerd-shim-runc-v1", "state": "absent"}
ok: [master] => (item=containerd-shim-runc-v1) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim-runc-v1", "path": "/usr/bin/containerd-shim-runc-v1", "state": "absent"}
ok: [node1] => (item=containerd-shim-runc-v2) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim-runc-v2", "path": "/usr/bin/containerd-shim-runc-v2", "state": "absent"}
ok: [node2] => (item=containerd-shim-runc-v2) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim-runc-v2", "path": "/usr/bin/containerd-shim-runc-v2", "state": "absent"}
ok: [master] => (item=containerd-shim-runc-v2) => {"ansible_loop_var": "item", "changed": false, "item": "containerd-shim-runc-v2", "path": "/usr/bin/containerd-shim-runc-v2", "state": "absent"}
ok: [node1] => (item=ctr) => {"ansible_loop_var": "item", "changed": false, "item": "ctr", "path": "/usr/bin/ctr", "state": "absent"}
ok: [node2] => (item=ctr) => {"ansible_loop_var": "item", "changed": false, "item": "ctr", "path": "/usr/bin/ctr", "state": "absent"}
ok: [master] => (item=ctr) => {"ansible_loop_var": "item", "changed": false, "item": "ctr", "path": "/usr/bin/ctr", "state": "absent"}
Четверг 20 июля 2023  22:25:44 +0300 (0:00:05.765)       0:05:30.342 ********** 

TASK [container-engine/containerd : containerd | Generate systemd service for containerd] ***
changed: [master] => {"changed": true, "checksum": "2ebef812a5ebb2a712a694da85860395a349c40a", "dest": "/etc/systemd/system/containerd.service", "gid": 0, "group": "root", "md5sum": "bf055ac7aba5035350114884196cb88a", "mode": "0644", "owner": "root", "size": 1365, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881144.9713695-659210-78699480647103/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "2ebef812a5ebb2a712a694da85860395a349c40a", "dest": "/etc/systemd/system/containerd.service", "gid": 0, "group": "root", "md5sum": "bf055ac7aba5035350114884196cb88a", "mode": "0644", "owner": "root", "size": 1365, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881145.138228-659213-223067147620390/source", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "2ebef812a5ebb2a712a694da85860395a349c40a", "dest": "/etc/systemd/system/containerd.service", "gid": 0, "group": "root", "md5sum": "bf055ac7aba5035350114884196cb88a", "mode": "0644", "owner": "root", "size": 1365, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881144.9740846-659211-183191620126425/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:25:49 +0300 (0:00:04.850)       0:05:35.192 ********** 

TASK [container-engine/containerd : containerd | Ensure containerd directories exist] ***
changed: [node2] => (item=/etc/systemd/system/containerd.service.d) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/systemd/system/containerd.service.d", "mode": "0755", "owner": "root", "path": "/etc/systemd/system/containerd.service.d", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => (item=/etc/systemd/system/containerd.service.d) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/systemd/system/containerd.service.d", "mode": "0755", "owner": "root", "path": "/etc/systemd/system/containerd.service.d", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => (item=/etc/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/containerd", "mode": "0755", "owner": "root", "path": "/etc/containerd", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => (item=/etc/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/containerd", "mode": "0755", "owner": "root", "path": "/etc/containerd", "size": 4096, "state": "directory", "uid": 0}
changed: [node1] => (item=/etc/systemd/system/containerd.service.d) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/systemd/system/containerd.service.d", "mode": "0755", "owner": "root", "path": "/etc/systemd/system/containerd.service.d", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => (item=/var/lib/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/var/lib/containerd", "mode": "0755", "owner": "root", "path": "/var/lib/containerd", "size": 4096, "state": "directory", "uid": 0}
changed: [node1] => (item=/etc/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/etc/containerd", "mode": "0755", "owner": "root", "path": "/etc/containerd", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => (item=/var/lib/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/var/lib/containerd", "mode": "0755", "owner": "root", "path": "/var/lib/containerd", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => (item=/run/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/run/containerd", "mode": "0755", "owner": "root", "path": "/run/containerd", "size": 40, "state": "directory", "uid": 0}
changed: [node1] => (item=/var/lib/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/var/lib/containerd", "mode": "0755", "owner": "root", "path": "/var/lib/containerd", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => (item=/run/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/run/containerd", "mode": "0755", "owner": "root", "path": "/run/containerd", "size": 40, "state": "directory", "uid": 0}
changed: [node1] => (item=/run/containerd) => {"ansible_loop_var": "item", "changed": true, "gid": 0, "group": "root", "item": "/run/containerd", "mode": "0755", "owner": "root", "path": "/run/containerd", "size": 40, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:25:55 +0300 (0:00:06.011)       0:05:41.204 ********** 
Четверг 20 июля 2023  22:25:55 +0300 (0:00:00.123)       0:05:41.327 ********** 

TASK [container-engine/containerd : containerd | Generate default base_runtime_spec] ***
ok: [node1] => {"changed": false, "cmd": ["/usr/local/bin/ctr", "oci", "spec"], "delta": "0:00:00.020335", "end": "2023-07-20 19:25:56.677347", "msg": "", "rc": 0, "start": "2023-07-20 19:25:56.657012", "stderr": "", "stderr_lines": [], "stdout": "{\n    \"ociVersion\": \"1.1.0-rc.1\",\n    \"process\": {\n        \"user\": {\n            \"uid\": 0,\n            \"gid\": 0\n        },\n        \"cwd\": \"/\",\n        \"capabilities\": {\n            \"bounding\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ],\n            \"effective\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ],\n            \"permitted\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ]\n        },\n        \"rlimits\": [\n            {\n                \"type\": \"RLIMIT_NOFILE\",\n                \"hard\": 1024,\n                \"soft\": 1024\n            }\n        ],\n        \"noNewPrivileges\": true\n    },\n    \"root\": {\n        \"path\": \"rootfs\"\n    },\n    \"mounts\": [\n        {\n            \"destination\": \"/proc\",\n            \"type\": \"proc\",\n            \"source\": \"proc\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\"\n            ]\n        },\n        {\n            \"destination\": \"/dev\",\n            \"type\": \"tmpfs\",\n            \"source\": \"tmpfs\",\n            \"options\": [\n                \"nosuid\",\n                \"strictatime\",\n                \"mode=755\",\n                \"size=65536k\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/pts\",\n            \"type\": \"devpts\",\n            \"source\": \"devpts\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"newinstance\",\n                \"ptmxmode=0666\",\n                \"mode=0620\",\n                \"gid=5\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/shm\",\n            \"type\": \"tmpfs\",\n            \"source\": \"shm\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\",\n                \"mode=1777\",\n                \"size=65536k\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/mqueue\",\n            \"type\": \"mqueue\",\n            \"source\": \"mqueue\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\"\n            ]\n        },\n        {\n            \"destination\": \"/sys\",\n            \"type\": \"sysfs\",\n            \"source\": \"sysfs\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\",\n                \"ro\"\n            ]\n        },\n        {\n            \"destination\": \"/run\",\n            \"type\": \"tmpfs\",\n            \"source\": \"tmpfs\",\n            \"options\": [\n                \"nosuid\",\n                \"strictatime\",\n                \"mode=755\",\n                \"size=65536k\"\n            ]\n        }\n    ],\n    \"linux\": {\n        \"resources\": {\n            \"devices\": [\n                {\n                    \"allow\": false,\n                    \"access\": \"rwm\"\n                }\n            ]\n        },\n        \"cgroupsPath\": \"/default\",\n        \"namespaces\": [\n            {\n                \"type\": \"pid\"\n            },\n            {\n                \"type\": \"ipc\"\n            },\n            {\n                \"type\": \"uts\"\n            },\n            {\n                \"type\": \"mount\"\n            },\n            {\n                \"type\": \"network\"\n            }\n        ],\n        \"maskedPaths\": [\n            \"/proc/acpi\",\n            \"/proc/asound\",\n            \"/proc/kcore\",\n            \"/proc/keys\",\n            \"/proc/latency_stats\",\n            \"/proc/timer_list\",\n            \"/proc/timer_stats\",\n            \"/proc/sched_debug\",\n            \"/sys/firmware\",\n            \"/proc/scsi\"\n        ],\n        \"readonlyPaths\": [\n            \"/proc/bus\",\n            \"/proc/fs\",\n            \"/proc/irq\",\n            \"/proc/sys\",\n            \"/proc/sysrq-trigger\"\n        ]\n    }\n}", "stdout_lines": ["{", "    \"ociVersion\": \"1.1.0-rc.1\",", "    \"process\": {", "        \"user\": {", "            \"uid\": 0,", "            \"gid\": 0", "        },", "        \"cwd\": \"/\",", "        \"capabilities\": {", "            \"bounding\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ],", "            \"effective\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ],", "            \"permitted\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ]", "        },", "        \"rlimits\": [", "            {", "                \"type\": \"RLIMIT_NOFILE\",", "                \"hard\": 1024,", "                \"soft\": 1024", "            }", "        ],", "        \"noNewPrivileges\": true", "    },", "    \"root\": {", "        \"path\": \"rootfs\"", "    },", "    \"mounts\": [", "        {", "            \"destination\": \"/proc\",", "            \"type\": \"proc\",", "            \"source\": \"proc\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\"", "            ]", "        },", "        {", "            \"destination\": \"/dev\",", "            \"type\": \"tmpfs\",", "            \"source\": \"tmpfs\",", "            \"options\": [", "                \"nosuid\",", "                \"strictatime\",", "                \"mode=755\",", "                \"size=65536k\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/pts\",", "            \"type\": \"devpts\",", "            \"source\": \"devpts\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"newinstance\",", "                \"ptmxmode=0666\",", "                \"mode=0620\",", "                \"gid=5\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/shm\",", "            \"type\": \"tmpfs\",", "            \"source\": \"shm\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\",", "                \"mode=1777\",", "                \"size=65536k\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/mqueue\",", "            \"type\": \"mqueue\",", "            \"source\": \"mqueue\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\"", "            ]", "        },", "        {", "            \"destination\": \"/sys\",", "            \"type\": \"sysfs\",", "            \"source\": \"sysfs\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\",", "                \"ro\"", "            ]", "        },", "        {", "            \"destination\": \"/run\",", "            \"type\": \"tmpfs\",", "            \"source\": \"tmpfs\",", "            \"options\": [", "                \"nosuid\",", "                \"strictatime\",", "                \"mode=755\",", "                \"size=65536k\"", "            ]", "        }", "    ],", "    \"linux\": {", "        \"resources\": {", "            \"devices\": [", "                {", "                    \"allow\": false,", "                    \"access\": \"rwm\"", "                }", "            ]", "        },", "        \"cgroupsPath\": \"/default\",", "        \"namespaces\": [", "            {", "                \"type\": \"pid\"", "            },", "            {", "                \"type\": \"ipc\"", "            },", "            {", "                \"type\": \"uts\"", "            },", "            {", "                \"type\": \"mount\"", "            },", "            {", "                \"type\": \"network\"", "            }", "        ],", "        \"maskedPaths\": [", "            \"/proc/acpi\",", "            \"/proc/asound\",", "            \"/proc/kcore\",", "            \"/proc/keys\",", "            \"/proc/latency_stats\",", "            \"/proc/timer_list\",", "            \"/proc/timer_stats\",", "            \"/proc/sched_debug\",", "            \"/sys/firmware\",", "            \"/proc/scsi\"", "        ],", "        \"readonlyPaths\": [", "            \"/proc/bus\",", "            \"/proc/fs\",", "            \"/proc/irq\",", "            \"/proc/sys\",", "            \"/proc/sysrq-trigger\"", "        ]", "    }", "}"]}
ok: [node2] => {"changed": false, "cmd": ["/usr/local/bin/ctr", "oci", "spec"], "delta": "0:00:00.019875", "end": "2023-07-20 19:25:56.771800", "msg": "", "rc": 0, "start": "2023-07-20 19:25:56.751925", "stderr": "", "stderr_lines": [], "stdout": "{\n    \"ociVersion\": \"1.1.0-rc.1\",\n    \"process\": {\n        \"user\": {\n            \"uid\": 0,\n            \"gid\": 0\n        },\n        \"cwd\": \"/\",\n        \"capabilities\": {\n            \"bounding\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ],\n            \"effective\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ],\n            \"permitted\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ]\n        },\n        \"rlimits\": [\n            {\n                \"type\": \"RLIMIT_NOFILE\",\n                \"hard\": 1024,\n                \"soft\": 1024\n            }\n        ],\n        \"noNewPrivileges\": true\n    },\n    \"root\": {\n        \"path\": \"rootfs\"\n    },\n    \"mounts\": [\n        {\n            \"destination\": \"/proc\",\n            \"type\": \"proc\",\n            \"source\": \"proc\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\"\n            ]\n        },\n        {\n            \"destination\": \"/dev\",\n            \"type\": \"tmpfs\",\n            \"source\": \"tmpfs\",\n            \"options\": [\n                \"nosuid\",\n                \"strictatime\",\n                \"mode=755\",\n                \"size=65536k\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/pts\",\n            \"type\": \"devpts\",\n            \"source\": \"devpts\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"newinstance\",\n                \"ptmxmode=0666\",\n                \"mode=0620\",\n                \"gid=5\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/shm\",\n            \"type\": \"tmpfs\",\n            \"source\": \"shm\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\",\n                \"mode=1777\",\n                \"size=65536k\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/mqueue\",\n            \"type\": \"mqueue\",\n            \"source\": \"mqueue\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\"\n            ]\n        },\n        {\n            \"destination\": \"/sys\",\n            \"type\": \"sysfs\",\n            \"source\": \"sysfs\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\",\n                \"ro\"\n            ]\n        },\n        {\n            \"destination\": \"/run\",\n            \"type\": \"tmpfs\",\n            \"source\": \"tmpfs\",\n            \"options\": [\n                \"nosuid\",\n                \"strictatime\",\n                \"mode=755\",\n                \"size=65536k\"\n            ]\n        }\n    ],\n    \"linux\": {\n        \"resources\": {\n            \"devices\": [\n                {\n                    \"allow\": false,\n                    \"access\": \"rwm\"\n                }\n            ]\n        },\n        \"cgroupsPath\": \"/default\",\n        \"namespaces\": [\n            {\n                \"type\": \"pid\"\n            },\n            {\n                \"type\": \"ipc\"\n            },\n            {\n                \"type\": \"uts\"\n            },\n            {\n                \"type\": \"mount\"\n            },\n            {\n                \"type\": \"network\"\n            }\n        ],\n        \"maskedPaths\": [\n            \"/proc/acpi\",\n            \"/proc/asound\",\n            \"/proc/kcore\",\n            \"/proc/keys\",\n            \"/proc/latency_stats\",\n            \"/proc/timer_list\",\n            \"/proc/timer_stats\",\n            \"/proc/sched_debug\",\n            \"/sys/firmware\",\n            \"/proc/scsi\"\n        ],\n        \"readonlyPaths\": [\n            \"/proc/bus\",\n            \"/proc/fs\",\n            \"/proc/irq\",\n            \"/proc/sys\",\n            \"/proc/sysrq-trigger\"\n        ]\n    }\n}", "stdout_lines": ["{", "    \"ociVersion\": \"1.1.0-rc.1\",", "    \"process\": {", "        \"user\": {", "            \"uid\": 0,", "            \"gid\": 0", "        },", "        \"cwd\": \"/\",", "        \"capabilities\": {", "            \"bounding\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ],", "            \"effective\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ],", "            \"permitted\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ]", "        },", "        \"rlimits\": [", "            {", "                \"type\": \"RLIMIT_NOFILE\",", "                \"hard\": 1024,", "                \"soft\": 1024", "            }", "        ],", "        \"noNewPrivileges\": true", "    },", "    \"root\": {", "        \"path\": \"rootfs\"", "    },", "    \"mounts\": [", "        {", "            \"destination\": \"/proc\",", "            \"type\": \"proc\",", "            \"source\": \"proc\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\"", "            ]", "        },", "        {", "            \"destination\": \"/dev\",", "            \"type\": \"tmpfs\",", "            \"source\": \"tmpfs\",", "            \"options\": [", "                \"nosuid\",", "                \"strictatime\",", "                \"mode=755\",", "                \"size=65536k\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/pts\",", "            \"type\": \"devpts\",", "            \"source\": \"devpts\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"newinstance\",", "                \"ptmxmode=0666\",", "                \"mode=0620\",", "                \"gid=5\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/shm\",", "            \"type\": \"tmpfs\",", "            \"source\": \"shm\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\",", "                \"mode=1777\",", "                \"size=65536k\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/mqueue\",", "            \"type\": \"mqueue\",", "            \"source\": \"mqueue\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\"", "            ]", "        },", "        {", "            \"destination\": \"/sys\",", "            \"type\": \"sysfs\",", "            \"source\": \"sysfs\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\",", "                \"ro\"", "            ]", "        },", "        {", "            \"destination\": \"/run\",", "            \"type\": \"tmpfs\",", "            \"source\": \"tmpfs\",", "            \"options\": [", "                \"nosuid\",", "                \"strictatime\",", "                \"mode=755\",", "                \"size=65536k\"", "            ]", "        }", "    ],", "    \"linux\": {", "        \"resources\": {", "            \"devices\": [", "                {", "                    \"allow\": false,", "                    \"access\": \"rwm\"", "                }", "            ]", "        },", "        \"cgroupsPath\": \"/default\",", "        \"namespaces\": [", "            {", "                \"type\": \"pid\"", "            },", "            {", "                \"type\": \"ipc\"", "            },", "            {", "                \"type\": \"uts\"", "            },", "            {", "                \"type\": \"mount\"", "            },", "            {", "                \"type\": \"network\"", "            }", "        ],", "        \"maskedPaths\": [", "            \"/proc/acpi\",", "            \"/proc/asound\",", "            \"/proc/kcore\",", "            \"/proc/keys\",", "            \"/proc/latency_stats\",", "            \"/proc/timer_list\",", "            \"/proc/timer_stats\",", "            \"/proc/sched_debug\",", "            \"/sys/firmware\",", "            \"/proc/scsi\"", "        ],", "        \"readonlyPaths\": [", "            \"/proc/bus\",", "            \"/proc/fs\",", "            \"/proc/irq\",", "            \"/proc/sys\",", "            \"/proc/sysrq-trigger\"", "        ]", "    }", "}"]}
ok: [master] => {"changed": false, "cmd": ["/usr/local/bin/ctr", "oci", "spec"], "delta": "0:00:00.020825", "end": "2023-07-20 19:25:56.791383", "msg": "", "rc": 0, "start": "2023-07-20 19:25:56.770558", "stderr": "", "stderr_lines": [], "stdout": "{\n    \"ociVersion\": \"1.1.0-rc.1\",\n    \"process\": {\n        \"user\": {\n            \"uid\": 0,\n            \"gid\": 0\n        },\n        \"cwd\": \"/\",\n        \"capabilities\": {\n            \"bounding\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ],\n            \"effective\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ],\n            \"permitted\": [\n                \"CAP_CHOWN\",\n                \"CAP_DAC_OVERRIDE\",\n                \"CAP_FSETID\",\n                \"CAP_FOWNER\",\n                \"CAP_MKNOD\",\n                \"CAP_NET_RAW\",\n                \"CAP_SETGID\",\n                \"CAP_SETUID\",\n                \"CAP_SETFCAP\",\n                \"CAP_SETPCAP\",\n                \"CAP_NET_BIND_SERVICE\",\n                \"CAP_SYS_CHROOT\",\n                \"CAP_KILL\",\n                \"CAP_AUDIT_WRITE\"\n            ]\n        },\n        \"rlimits\": [\n            {\n                \"type\": \"RLIMIT_NOFILE\",\n                \"hard\": 1024,\n                \"soft\": 1024\n            }\n        ],\n        \"noNewPrivileges\": true\n    },\n    \"root\": {\n        \"path\": \"rootfs\"\n    },\n    \"mounts\": [\n        {\n            \"destination\": \"/proc\",\n            \"type\": \"proc\",\n            \"source\": \"proc\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\"\n            ]\n        },\n        {\n            \"destination\": \"/dev\",\n            \"type\": \"tmpfs\",\n            \"source\": \"tmpfs\",\n            \"options\": [\n                \"nosuid\",\n                \"strictatime\",\n                \"mode=755\",\n                \"size=65536k\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/pts\",\n            \"type\": \"devpts\",\n            \"source\": \"devpts\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"newinstance\",\n                \"ptmxmode=0666\",\n                \"mode=0620\",\n                \"gid=5\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/shm\",\n            \"type\": \"tmpfs\",\n            \"source\": \"shm\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\",\n                \"mode=1777\",\n                \"size=65536k\"\n            ]\n        },\n        {\n            \"destination\": \"/dev/mqueue\",\n            \"type\": \"mqueue\",\n            \"source\": \"mqueue\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\"\n            ]\n        },\n        {\n            \"destination\": \"/sys\",\n            \"type\": \"sysfs\",\n            \"source\": \"sysfs\",\n            \"options\": [\n                \"nosuid\",\n                \"noexec\",\n                \"nodev\",\n                \"ro\"\n            ]\n        },\n        {\n            \"destination\": \"/run\",\n            \"type\": \"tmpfs\",\n            \"source\": \"tmpfs\",\n            \"options\": [\n                \"nosuid\",\n                \"strictatime\",\n                \"mode=755\",\n                \"size=65536k\"\n            ]\n        }\n    ],\n    \"linux\": {\n        \"resources\": {\n            \"devices\": [\n                {\n                    \"allow\": false,\n                    \"access\": \"rwm\"\n                }\n            ]\n        },\n        \"cgroupsPath\": \"/default\",\n        \"namespaces\": [\n            {\n                \"type\": \"pid\"\n            },\n            {\n                \"type\": \"ipc\"\n            },\n            {\n                \"type\": \"uts\"\n            },\n            {\n                \"type\": \"mount\"\n            },\n            {\n                \"type\": \"network\"\n            }\n        ],\n        \"maskedPaths\": [\n            \"/proc/acpi\",\n            \"/proc/asound\",\n            \"/proc/kcore\",\n            \"/proc/keys\",\n            \"/proc/latency_stats\",\n            \"/proc/timer_list\",\n            \"/proc/timer_stats\",\n            \"/proc/sched_debug\",\n            \"/sys/firmware\",\n            \"/proc/scsi\"\n        ],\n        \"readonlyPaths\": [\n            \"/proc/bus\",\n            \"/proc/fs\",\n            \"/proc/irq\",\n            \"/proc/sys\",\n            \"/proc/sysrq-trigger\"\n        ]\n    }\n}", "stdout_lines": ["{", "    \"ociVersion\": \"1.1.0-rc.1\",", "    \"process\": {", "        \"user\": {", "            \"uid\": 0,", "            \"gid\": 0", "        },", "        \"cwd\": \"/\",", "        \"capabilities\": {", "            \"bounding\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ],", "            \"effective\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ],", "            \"permitted\": [", "                \"CAP_CHOWN\",", "                \"CAP_DAC_OVERRIDE\",", "                \"CAP_FSETID\",", "                \"CAP_FOWNER\",", "                \"CAP_MKNOD\",", "                \"CAP_NET_RAW\",", "                \"CAP_SETGID\",", "                \"CAP_SETUID\",", "                \"CAP_SETFCAP\",", "                \"CAP_SETPCAP\",", "                \"CAP_NET_BIND_SERVICE\",", "                \"CAP_SYS_CHROOT\",", "                \"CAP_KILL\",", "                \"CAP_AUDIT_WRITE\"", "            ]", "        },", "        \"rlimits\": [", "            {", "                \"type\": \"RLIMIT_NOFILE\",", "                \"hard\": 1024,", "                \"soft\": 1024", "            }", "        ],", "        \"noNewPrivileges\": true", "    },", "    \"root\": {", "        \"path\": \"rootfs\"", "    },", "    \"mounts\": [", "        {", "            \"destination\": \"/proc\",", "            \"type\": \"proc\",", "            \"source\": \"proc\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\"", "            ]", "        },", "        {", "            \"destination\": \"/dev\",", "            \"type\": \"tmpfs\",", "            \"source\": \"tmpfs\",", "            \"options\": [", "                \"nosuid\",", "                \"strictatime\",", "                \"mode=755\",", "                \"size=65536k\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/pts\",", "            \"type\": \"devpts\",", "            \"source\": \"devpts\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"newinstance\",", "                \"ptmxmode=0666\",", "                \"mode=0620\",", "                \"gid=5\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/shm\",", "            \"type\": \"tmpfs\",", "            \"source\": \"shm\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\",", "                \"mode=1777\",", "                \"size=65536k\"", "            ]", "        },", "        {", "            \"destination\": \"/dev/mqueue\",", "            \"type\": \"mqueue\",", "            \"source\": \"mqueue\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\"", "            ]", "        },", "        {", "            \"destination\": \"/sys\",", "            \"type\": \"sysfs\",", "            \"source\": \"sysfs\",", "            \"options\": [", "                \"nosuid\",", "                \"noexec\",", "                \"nodev\",", "                \"ro\"", "            ]", "        },", "        {", "            \"destination\": \"/run\",", "            \"type\": \"tmpfs\",", "            \"source\": \"tmpfs\",", "            \"options\": [", "                \"nosuid\",", "                \"strictatime\",", "                \"mode=755\",", "                \"size=65536k\"", "            ]", "        }", "    ],", "    \"linux\": {", "        \"resources\": {", "            \"devices\": [", "                {", "                    \"allow\": false,", "                    \"access\": \"rwm\"", "                }", "            ]", "        },", "        \"cgroupsPath\": \"/default\",", "        \"namespaces\": [", "            {", "                \"type\": \"pid\"", "            },", "            {", "                \"type\": \"ipc\"", "            },", "            {", "                \"type\": \"uts\"", "            },", "            {", "                \"type\": \"mount\"", "            },", "            {", "                \"type\": \"network\"", "            }", "        ],", "        \"maskedPaths\": [", "            \"/proc/acpi\",", "            \"/proc/asound\",", "            \"/proc/kcore\",", "            \"/proc/keys\",", "            \"/proc/latency_stats\",", "            \"/proc/timer_list\",", "            \"/proc/timer_stats\",", "            \"/proc/sched_debug\",", "            \"/sys/firmware\",", "            \"/proc/scsi\"", "        ],", "        \"readonlyPaths\": [", "            \"/proc/bus\",", "            \"/proc/fs\",", "            \"/proc/irq\",", "            \"/proc/sys\",", "            \"/proc/sysrq-trigger\"", "        ]", "    }", "}"]}
Четверг 20 июля 2023  22:25:56 +0300 (0:00:01.162)       0:05:42.490 ********** 

TASK [container-engine/containerd : containerd | Store generated default base_runtime_spec] ***
ok: [master] => {"ansible_facts": {"containerd_default_base_runtime_spec": {"linux": {"cgroupsPath": "/default", "maskedPaths": ["/proc/acpi", "/proc/asound", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/sys/firmware", "/proc/scsi"], "namespaces": [{"type": "pid"}, {"type": "ipc"}, {"type": "uts"}, {"type": "mount"}, {"type": "network"}], "readonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "resources": {"devices": [{"access": "rwm", "allow": false}]}}, "mounts": [{"destination": "/proc", "options": ["nosuid", "noexec", "nodev"], "source": "proc", "type": "proc"}, {"destination": "/dev", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}, {"destination": "/dev/pts", "options": ["nosuid", "noexec", "newinstance", "ptmxmode=0666", "mode=0620", "gid=5"], "source": "devpts", "type": "devpts"}, {"destination": "/dev/shm", "options": ["nosuid", "noexec", "nodev", "mode=1777", "size=65536k"], "source": "shm", "type": "tmpfs"}, {"destination": "/dev/mqueue", "options": ["nosuid", "noexec", "nodev"], "source": "mqueue", "type": "mqueue"}, {"destination": "/sys", "options": ["nosuid", "noexec", "nodev", "ro"], "source": "sysfs", "type": "sysfs"}, {"destination": "/run", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}], "ociVersion": "1.1.0-rc.1", "process": {"capabilities": {"bounding": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "effective": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "permitted": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"]}, "cwd": "/", "noNewPrivileges": true, "rlimits": [{"hard": 1024, "soft": 1024, "type": "RLIMIT_NOFILE"}], "user": {"gid": 0, "uid": 0}}, "root": {"path": "rootfs"}}}, "changed": false}
ok: [node1] => {"ansible_facts": {"containerd_default_base_runtime_spec": {"linux": {"cgroupsPath": "/default", "maskedPaths": ["/proc/acpi", "/proc/asound", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/sys/firmware", "/proc/scsi"], "namespaces": [{"type": "pid"}, {"type": "ipc"}, {"type": "uts"}, {"type": "mount"}, {"type": "network"}], "readonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "resources": {"devices": [{"access": "rwm", "allow": false}]}}, "mounts": [{"destination": "/proc", "options": ["nosuid", "noexec", "nodev"], "source": "proc", "type": "proc"}, {"destination": "/dev", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}, {"destination": "/dev/pts", "options": ["nosuid", "noexec", "newinstance", "ptmxmode=0666", "mode=0620", "gid=5"], "source": "devpts", "type": "devpts"}, {"destination": "/dev/shm", "options": ["nosuid", "noexec", "nodev", "mode=1777", "size=65536k"], "source": "shm", "type": "tmpfs"}, {"destination": "/dev/mqueue", "options": ["nosuid", "noexec", "nodev"], "source": "mqueue", "type": "mqueue"}, {"destination": "/sys", "options": ["nosuid", "noexec", "nodev", "ro"], "source": "sysfs", "type": "sysfs"}, {"destination": "/run", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}], "ociVersion": "1.1.0-rc.1", "process": {"capabilities": {"bounding": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "effective": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "permitted": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"]}, "cwd": "/", "noNewPrivileges": true, "rlimits": [{"hard": 1024, "soft": 1024, "type": "RLIMIT_NOFILE"}], "user": {"gid": 0, "uid": 0}}, "root": {"path": "rootfs"}}}, "changed": false}
ok: [node2] => {"ansible_facts": {"containerd_default_base_runtime_spec": {"linux": {"cgroupsPath": "/default", "maskedPaths": ["/proc/acpi", "/proc/asound", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/sys/firmware", "/proc/scsi"], "namespaces": [{"type": "pid"}, {"type": "ipc"}, {"type": "uts"}, {"type": "mount"}, {"type": "network"}], "readonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "resources": {"devices": [{"access": "rwm", "allow": false}]}}, "mounts": [{"destination": "/proc", "options": ["nosuid", "noexec", "nodev"], "source": "proc", "type": "proc"}, {"destination": "/dev", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}, {"destination": "/dev/pts", "options": ["nosuid", "noexec", "newinstance", "ptmxmode=0666", "mode=0620", "gid=5"], "source": "devpts", "type": "devpts"}, {"destination": "/dev/shm", "options": ["nosuid", "noexec", "nodev", "mode=1777", "size=65536k"], "source": "shm", "type": "tmpfs"}, {"destination": "/dev/mqueue", "options": ["nosuid", "noexec", "nodev"], "source": "mqueue", "type": "mqueue"}, {"destination": "/sys", "options": ["nosuid", "noexec", "nodev", "ro"], "source": "sysfs", "type": "sysfs"}, {"destination": "/run", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}], "ociVersion": "1.1.0-rc.1", "process": {"capabilities": {"bounding": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "effective": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "permitted": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"]}, "cwd": "/", "noNewPrivileges": true, "rlimits": [{"hard": 1024, "soft": 1024, "type": "RLIMIT_NOFILE"}], "user": {"gid": 0, "uid": 0}}, "root": {"path": "rootfs"}}}, "changed": false}
Четверг 20 июля 2023  22:25:57 +0300 (0:00:00.157)       0:05:42.647 ********** 

TASK [container-engine/containerd : containerd | Write base_runtime_specs] *****
changed: [node1] => (item={'key': 'cri-base.json', 'value': {'ociVersion': '1.1.0-rc.1', 'process': {'user': {'uid': 0, 'gid': 0}, 'cwd': '/', 'capabilities': {'bounding': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'effective': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'permitted': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE']}, 'rlimits': [{'type': 'RLIMIT_NOFILE', 'hard': 65535, 'soft': 65535}], 'noNewPrivileges': True}, 'root': {'path': 'rootfs'}, 'mounts': [{'destination': '/proc', 'type': 'proc', 'source': 'proc', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/dev', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}, {'destination': '/dev/pts', 'type': 'devpts', 'source': 'devpts', 'options': ['nosuid', 'noexec', 'newinstance', 'ptmxmode=0666', 'mode=0620', 'gid=5']}, {'destination': '/dev/shm', 'type': 'tmpfs', 'source': 'shm', 'options': ['nosuid', 'noexec', 'nodev', 'mode=1777', 'size=65536k']}, {'destination': '/dev/mqueue', 'type': 'mqueue', 'source': 'mqueue', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/sys', 'type': 'sysfs', 'source': 'sysfs', 'options': ['nosuid', 'noexec', 'nodev', 'ro']}, {'destination': '/run', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}], 'linux': {'resources': {'devices': [{'allow': False, 'access': 'rwm'}]}, 'cgroupsPath': '/default', 'namespaces': [{'type': 'pid'}, {'type': 'ipc'}, {'type': 'uts'}, {'type': 'mount'}, {'type': 'network'}], 'maskedPaths': ['/proc/acpi', '/proc/asound', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/sys/firmware', '/proc/scsi'], 'readonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}}}) => {"ansible_loop_var": "item", "changed": true, "checksum": "ca010433eff9d7cb6f6886f2384190c5cbc2f01d", "dest": "/etc/containerd/cri-base.json", "gid": 0, "group": "root", "item": {"key": "cri-base.json", "value": {"linux": {"cgroupsPath": "/default", "maskedPaths": ["/proc/acpi", "/proc/asound", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/sys/firmware", "/proc/scsi"], "namespaces": [{"type": "pid"}, {"type": "ipc"}, {"type": "uts"}, {"type": "mount"}, {"type": "network"}], "readonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "resources": {"devices": [{"access": "rwm", "allow": false}]}}, "mounts": [{"destination": "/proc", "options": ["nosuid", "noexec", "nodev"], "source": "proc", "type": "proc"}, {"destination": "/dev", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}, {"destination": "/dev/pts", "options": ["nosuid", "noexec", "newinstance", "ptmxmode=0666", "mode=0620", "gid=5"], "source": "devpts", "type": "devpts"}, {"destination": "/dev/shm", "options": ["nosuid", "noexec", "nodev", "mode=1777", "size=65536k"], "source": "shm", "type": "tmpfs"}, {"destination": "/dev/mqueue", "options": ["nosuid", "noexec", "nodev"], "source": "mqueue", "type": "mqueue"}, {"destination": "/sys", "options": ["nosuid", "noexec", "nodev", "ro"], "source": "sysfs", "type": "sysfs"}, {"destination": "/run", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}], "ociVersion": "1.1.0-rc.1", "process": {"capabilities": {"bounding": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "effective": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "permitted": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"]}, "cwd": "/", "noNewPrivileges": true, "rlimits": [{"hard": 65535, "soft": 65535, "type": "RLIMIT_NOFILE"}], "user": {"gid": 0, "uid": 0}}, "root": {"path": "rootfs"}}}, "md5sum": "dee7593466e14e3c01c97f7ce1492627", "mode": "0644", "owner": "root", "size": 2295, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881157.2747617-659669-128812802052049/source", "state": "file", "uid": 0}
changed: [node2] => (item={'key': 'cri-base.json', 'value': {'ociVersion': '1.1.0-rc.1', 'process': {'user': {'uid': 0, 'gid': 0}, 'cwd': '/', 'capabilities': {'bounding': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'effective': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'permitted': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE']}, 'rlimits': [{'type': 'RLIMIT_NOFILE', 'hard': 65535, 'soft': 65535}], 'noNewPrivileges': True}, 'root': {'path': 'rootfs'}, 'mounts': [{'destination': '/proc', 'type': 'proc', 'source': 'proc', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/dev', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}, {'destination': '/dev/pts', 'type': 'devpts', 'source': 'devpts', 'options': ['nosuid', 'noexec', 'newinstance', 'ptmxmode=0666', 'mode=0620', 'gid=5']}, {'destination': '/dev/shm', 'type': 'tmpfs', 'source': 'shm', 'options': ['nosuid', 'noexec', 'nodev', 'mode=1777', 'size=65536k']}, {'destination': '/dev/mqueue', 'type': 'mqueue', 'source': 'mqueue', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/sys', 'type': 'sysfs', 'source': 'sysfs', 'options': ['nosuid', 'noexec', 'nodev', 'ro']}, {'destination': '/run', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}], 'linux': {'resources': {'devices': [{'allow': False, 'access': 'rwm'}]}, 'cgroupsPath': '/default', 'namespaces': [{'type': 'pid'}, {'type': 'ipc'}, {'type': 'uts'}, {'type': 'mount'}, {'type': 'network'}], 'maskedPaths': ['/proc/acpi', '/proc/asound', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/sys/firmware', '/proc/scsi'], 'readonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}}}) => {"ansible_loop_var": "item", "changed": true, "checksum": "ca010433eff9d7cb6f6886f2384190c5cbc2f01d", "dest": "/etc/containerd/cri-base.json", "gid": 0, "group": "root", "item": {"key": "cri-base.json", "value": {"linux": {"cgroupsPath": "/default", "maskedPaths": ["/proc/acpi", "/proc/asound", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/sys/firmware", "/proc/scsi"], "namespaces": [{"type": "pid"}, {"type": "ipc"}, {"type": "uts"}, {"type": "mount"}, {"type": "network"}], "readonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "resources": {"devices": [{"access": "rwm", "allow": false}]}}, "mounts": [{"destination": "/proc", "options": ["nosuid", "noexec", "nodev"], "source": "proc", "type": "proc"}, {"destination": "/dev", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}, {"destination": "/dev/pts", "options": ["nosuid", "noexec", "newinstance", "ptmxmode=0666", "mode=0620", "gid=5"], "source": "devpts", "type": "devpts"}, {"destination": "/dev/shm", "options": ["nosuid", "noexec", "nodev", "mode=1777", "size=65536k"], "source": "shm", "type": "tmpfs"}, {"destination": "/dev/mqueue", "options": ["nosuid", "noexec", "nodev"], "source": "mqueue", "type": "mqueue"}, {"destination": "/sys", "options": ["nosuid", "noexec", "nodev", "ro"], "source": "sysfs", "type": "sysfs"}, {"destination": "/run", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}], "ociVersion": "1.1.0-rc.1", "process": {"capabilities": {"bounding": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "effective": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "permitted": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"]}, "cwd": "/", "noNewPrivileges": true, "rlimits": [{"hard": 65535, "soft": 65535, "type": "RLIMIT_NOFILE"}], "user": {"gid": 0, "uid": 0}}, "root": {"path": "rootfs"}}}, "md5sum": "dee7593466e14e3c01c97f7ce1492627", "mode": "0644", "owner": "root", "size": 2295, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881157.302746-659670-64058231506687/source", "state": "file", "uid": 0}
changed: [master] => (item={'key': 'cri-base.json', 'value': {'ociVersion': '1.1.0-rc.1', 'process': {'user': {'uid': 0, 'gid': 0}, 'cwd': '/', 'capabilities': {'bounding': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'effective': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE'], 'permitted': ['CAP_CHOWN', 'CAP_DAC_OVERRIDE', 'CAP_FSETID', 'CAP_FOWNER', 'CAP_MKNOD', 'CAP_NET_RAW', 'CAP_SETGID', 'CAP_SETUID', 'CAP_SETFCAP', 'CAP_SETPCAP', 'CAP_NET_BIND_SERVICE', 'CAP_SYS_CHROOT', 'CAP_KILL', 'CAP_AUDIT_WRITE']}, 'rlimits': [{'type': 'RLIMIT_NOFILE', 'hard': 65535, 'soft': 65535}], 'noNewPrivileges': True}, 'root': {'path': 'rootfs'}, 'mounts': [{'destination': '/proc', 'type': 'proc', 'source': 'proc', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/dev', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}, {'destination': '/dev/pts', 'type': 'devpts', 'source': 'devpts', 'options': ['nosuid', 'noexec', 'newinstance', 'ptmxmode=0666', 'mode=0620', 'gid=5']}, {'destination': '/dev/shm', 'type': 'tmpfs', 'source': 'shm', 'options': ['nosuid', 'noexec', 'nodev', 'mode=1777', 'size=65536k']}, {'destination': '/dev/mqueue', 'type': 'mqueue', 'source': 'mqueue', 'options': ['nosuid', 'noexec', 'nodev']}, {'destination': '/sys', 'type': 'sysfs', 'source': 'sysfs', 'options': ['nosuid', 'noexec', 'nodev', 'ro']}, {'destination': '/run', 'type': 'tmpfs', 'source': 'tmpfs', 'options': ['nosuid', 'strictatime', 'mode=755', 'size=65536k']}], 'linux': {'resources': {'devices': [{'allow': False, 'access': 'rwm'}]}, 'cgroupsPath': '/default', 'namespaces': [{'type': 'pid'}, {'type': 'ipc'}, {'type': 'uts'}, {'type': 'mount'}, {'type': 'network'}], 'maskedPaths': ['/proc/acpi', '/proc/asound', '/proc/kcore', '/proc/keys', '/proc/latency_stats', '/proc/timer_list', '/proc/timer_stats', '/proc/sched_debug', '/sys/firmware', '/proc/scsi'], 'readonlyPaths': ['/proc/bus', '/proc/fs', '/proc/irq', '/proc/sys', '/proc/sysrq-trigger']}}}) => {"ansible_loop_var": "item", "changed": true, "checksum": "ca010433eff9d7cb6f6886f2384190c5cbc2f01d", "dest": "/etc/containerd/cri-base.json", "gid": 0, "group": "root", "item": {"key": "cri-base.json", "value": {"linux": {"cgroupsPath": "/default", "maskedPaths": ["/proc/acpi", "/proc/asound", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/sys/firmware", "/proc/scsi"], "namespaces": [{"type": "pid"}, {"type": "ipc"}, {"type": "uts"}, {"type": "mount"}, {"type": "network"}], "readonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "resources": {"devices": [{"access": "rwm", "allow": false}]}}, "mounts": [{"destination": "/proc", "options": ["nosuid", "noexec", "nodev"], "source": "proc", "type": "proc"}, {"destination": "/dev", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}, {"destination": "/dev/pts", "options": ["nosuid", "noexec", "newinstance", "ptmxmode=0666", "mode=0620", "gid=5"], "source": "devpts", "type": "devpts"}, {"destination": "/dev/shm", "options": ["nosuid", "noexec", "nodev", "mode=1777", "size=65536k"], "source": "shm", "type": "tmpfs"}, {"destination": "/dev/mqueue", "options": ["nosuid", "noexec", "nodev"], "source": "mqueue", "type": "mqueue"}, {"destination": "/sys", "options": ["nosuid", "noexec", "nodev", "ro"], "source": "sysfs", "type": "sysfs"}, {"destination": "/run", "options": ["nosuid", "strictatime", "mode=755", "size=65536k"], "source": "tmpfs", "type": "tmpfs"}], "ociVersion": "1.1.0-rc.1", "process": {"capabilities": {"bounding": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "effective": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"], "permitted": ["CAP_CHOWN", "CAP_DAC_OVERRIDE", "CAP_FSETID", "CAP_FOWNER", "CAP_MKNOD", "CAP_NET_RAW", "CAP_SETGID", "CAP_SETUID", "CAP_SETFCAP", "CAP_SETPCAP", "CAP_NET_BIND_SERVICE", "CAP_SYS_CHROOT", "CAP_KILL", "CAP_AUDIT_WRITE"]}, "cwd": "/", "noNewPrivileges": true, "rlimits": [{"hard": 65535, "soft": 65535, "type": "RLIMIT_NOFILE"}], "user": {"gid": 0, "uid": 0}}, "root": {"path": "rootfs"}}}, "md5sum": "dee7593466e14e3c01c97f7ce1492627", "mode": "0644", "owner": "root", "size": 2295, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881157.2761908-659668-54545272715563/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:25:59 +0300 (0:00:02.327)       0:05:44.975 ********** 

TASK [container-engine/containerd : containerd | Copy containerd config file] ***
changed: [node1] => {"changed": true, "checksum": "7481f73c81ce443d6d8501704dab0633db9bf7b4", "dest": "/etc/containerd/config.toml", "gid": 0, "group": "root", "md5sum": "d30c440892dd7f3850f8f3178d89fda2", "mode": "0640", "owner": "root", "size": 1230, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881159.597197-659739-215787103761307/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "7481f73c81ce443d6d8501704dab0633db9bf7b4", "dest": "/etc/containerd/config.toml", "gid": 0, "group": "root", "md5sum": "d30c440892dd7f3850f8f3178d89fda2", "mode": "0640", "owner": "root", "size": 1230, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881159.628838-659741-91188283755186/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "7481f73c81ce443d6d8501704dab0633db9bf7b4", "dest": "/etc/containerd/config.toml", "gid": 0, "group": "root", "md5sum": "d30c440892dd7f3850f8f3178d89fda2", "mode": "0640", "owner": "root", "size": 1230, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881159.5843785-659738-116893890587279/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:26:01 +0300 (0:00:02.424)       0:05:47.399 ********** 
Четверг 20 июля 2023  22:26:01 +0300 (0:00:00.103)       0:05:47.503 ********** 
Четверг 20 июля 2023  22:26:02 +0300 (0:00:00.099)       0:05:47.602 ********** 
Четверг 20 июля 2023  22:26:02 +0300 (0:00:00.006)       0:05:47.609 ********** 
Четверг 20 июля 2023  22:26:02 +0300 (0:00:00.173)       0:05:47.783 ********** 
Четверг 20 июля 2023  22:26:02 +0300 (0:00:00.122)       0:05:47.906 ********** 
Четверг 20 июля 2023  22:26:02 +0300 (0:00:00.115)       0:05:48.021 ********** 
Четверг 20 июля 2023  22:26:02 +0300 (0:00:00.132)       0:05:48.154 ********** 

RUNNING HANDLER [container-engine/containerd : restart containerd] *************
changed: [node1] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004133", "end": "2023-07-20 19:26:03.578462", "msg": "", "rc": 0, "start": "2023-07-20 19:26:03.574329", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.003955", "end": "2023-07-20 19:26:03.622154", "msg": "", "rc": 0, "start": "2023-07-20 19:26:03.618199", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004320", "end": "2023-07-20 19:26:03.704940", "msg": "", "rc": 0, "start": "2023-07-20 19:26:03.700620", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:26:03 +0300 (0:00:01.229)       0:05:49.383 ********** 

RUNNING HANDLER [container-engine/containerd : Containerd | restart containerd] ***
changed: [node1] => {"changed": true, "enabled": true, "name": "containerd", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "local-fs.target network.target systemd-journald.socket sysinit.target basic.target system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "yes", "DelegateControllers": "cpu cpuacct cpuset io blkio memory devices pids bpf-firewall bpf-devices", "Description": "containerd container runtime", "DevicePolicy": "auto", "Documentation": "https://containerd.io", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/containerd.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "containerd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "infinity", "LimitMEMLOCKSoft": "infinity", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "infinity", "LimitNOFILESoft": "infinity", "LimitNPROC": "infinity", "LimitNPROCSoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "containerd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "continue", "OOMScoreAdjust": "-999", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "5s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestampMonotonic": "0", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "infinity", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [node2] => {"changed": true, "enabled": true, "name": "containerd", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "basic.target local-fs.target network.target sysinit.target system.slice systemd-journald.socket", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "yes", "DelegateControllers": "cpu cpuacct cpuset io blkio memory devices pids bpf-firewall bpf-devices", "Description": "containerd container runtime", "DevicePolicy": "auto", "Documentation": "https://containerd.io", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/containerd.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "containerd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "infinity", "LimitMEMLOCKSoft": "infinity", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "infinity", "LimitNOFILESoft": "infinity", "LimitNPROC": "infinity", "LimitNPROCSoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "containerd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "continue", "OOMScoreAdjust": "-999", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "5s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestampMonotonic": "0", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "infinity", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [master] => {"changed": true, "enabled": true, "name": "containerd", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "local-fs.target sysinit.target system.slice systemd-journald.socket network.target basic.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "yes", "DelegateControllers": "cpu cpuacct cpuset io blkio memory devices pids bpf-firewall bpf-devices", "Description": "containerd container runtime", "DevicePolicy": "auto", "Documentation": "https://containerd.io", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/containerd.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "containerd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "infinity", "LimitMEMLOCKSoft": "infinity", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "infinity", "LimitNOFILESoft": "infinity", "LimitNPROC": "infinity", "LimitNPROCSoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "containerd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "continue", "OOMScoreAdjust": "-999", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "5s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestampMonotonic": "0", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "infinity", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:26:06 +0300 (0:00:02.608)       0:05:51.992 ********** 

RUNNING HANDLER [container-engine/containerd : Containerd | wait for containerd] ***
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/ctr", "images", "ls", "-q"], "delta": "0:00:00.024714", "end": "2023-07-20 19:26:07.388816", "msg": "", "rc": 0, "start": "2023-07-20 19:26:07.364102", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/ctr", "images", "ls", "-q"], "delta": "0:00:00.024937", "end": "2023-07-20 19:26:07.455866", "msg": "", "rc": 0, "start": "2023-07-20 19:26:07.430929", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/ctr", "images", "ls", "-q"], "delta": "0:00:00.023684", "end": "2023-07-20 19:26:07.557649", "msg": "", "rc": 0, "start": "2023-07-20 19:26:07.533965", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:26:07 +0300 (0:00:01.279)       0:05:53.272 ********** 

TASK [container-engine/containerd : containerd | Ensure containerd is started and enabled] ***
ok: [node1] => {"changed": false, "enabled": true, "name": "containerd", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ActiveEnterTimestampMonotonic": "2288032488", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "system.slice network.target sysinit.target systemd-journald.socket local-fs.target basic.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:26:05 UTC", "AssertTimestampMonotonic": "2287867841", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ConditionTimestampMonotonic": "2287867840", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/containerd.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "yes", "DelegateControllers": "cpu cpuacct cpuset io blkio memory devices pids bpf-firewall bpf-devices", "Description": "containerd container runtime", "DevicePolicy": "auto", "Documentation": "https://containerd.io", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "11128", "ExecMainStartTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ExecMainStartTimestampMonotonic": "2287894269", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/containerd.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "containerd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Thu 2023-07-20 19:26:05 UTC", "InactiveExitTimestampMonotonic": "2287870444", "InvocationID": "5801d1e96df543eea31587ab00972304", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "infinity", "LimitMEMLOCKSoft": "infinity", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "infinity", "LimitNOFILESoft": "infinity", "LimitNPROC": "infinity", "LimitNPROCSoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "11128", "MemoryAccounting": "yes", "MemoryCurrent": "15163392", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "containerd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "continue", "OOMScoreAdjust": "-999", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "5s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:26:05 UTC", "StateChangeTimestampMonotonic": "2288032488", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "8", "TasksMax": "infinity", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
ok: [node2] => {"changed": false, "enabled": true, "name": "containerd", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ActiveEnterTimestampMonotonic": "2278325083", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "systemd-journald.socket sysinit.target local-fs.target network.target system.slice basic.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:26:05 UTC", "AssertTimestampMonotonic": "2278156524", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ConditionTimestampMonotonic": "2278156523", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/containerd.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "yes", "DelegateControllers": "cpu cpuacct cpuset io blkio memory devices pids bpf-firewall bpf-devices", "Description": "containerd container runtime", "DevicePolicy": "auto", "Documentation": "https://containerd.io", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "10899", "ExecMainStartTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ExecMainStartTimestampMonotonic": "2278186674", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/containerd.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "containerd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Thu 2023-07-20 19:26:05 UTC", "InactiveExitTimestampMonotonic": "2278158835", "InvocationID": "2853d1ddf6af4d9faeae0cc6f864fe55", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "infinity", "LimitMEMLOCKSoft": "infinity", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "infinity", "LimitNOFILESoft": "infinity", "LimitNPROC": "infinity", "LimitNPROCSoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "10899", "MemoryAccounting": "yes", "MemoryCurrent": "15167488", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "containerd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "continue", "OOMScoreAdjust": "-999", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "5s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:26:05 UTC", "StateChangeTimestampMonotonic": "2278325083", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "9", "TasksMax": "infinity", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
ok: [master] => {"changed": false, "enabled": true, "name": "containerd", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:26:06 UTC", "ActiveEnterTimestampMonotonic": "2303912795", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "systemd-journald.socket local-fs.target sysinit.target system.slice basic.target network.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:26:05 UTC", "AssertTimestampMonotonic": "2303582863", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ConditionTimestampMonotonic": "2303582861", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/containerd.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "yes", "DelegateControllers": "cpu cpuacct cpuset io blkio memory devices pids bpf-firewall bpf-devices", "Description": "containerd container runtime", "DevicePolicy": "auto", "Documentation": "https://containerd.io", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "11230", "ExecMainStartTimestamp": "Thu 2023-07-20 19:26:05 UTC", "ExecMainStartTimestampMonotonic": "2303615957", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/containerd ; argv[]=/usr/local/bin/containerd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/sbin/modprobe ; argv[]=/sbin/modprobe overlay ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/containerd.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "containerd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Thu 2023-07-20 19:26:05 UTC", "InactiveExitTimestampMonotonic": "2303585669", "InvocationID": "db134aeacdb0418e89b6bfa31b402aca", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "infinity", "LimitMEMLOCKSoft": "infinity", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "infinity", "LimitNOFILESoft": "infinity", "LimitNPROC": "infinity", "LimitNPROCSoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "11230", "MemoryAccounting": "yes", "MemoryCurrent": "15257600", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "containerd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "continue", "OOMScoreAdjust": "-999", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "5s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:26:06 UTC", "StateChangeTimestampMonotonic": "2303912795", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "9", "TasksMax": "infinity", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:26:09 +0300 (0:00:01.684)       0:05:54.956 ********** 
Четверг 20 июля 2023  22:26:09 +0300 (0:00:00.087)       0:05:55.044 ********** 
Четверг 20 июля 2023  22:26:09 +0300 (0:00:00.084)       0:05:55.128 ********** 
Четверг 20 июля 2023  22:26:09 +0300 (0:00:00.193)       0:05:55.321 ********** 
Четверг 20 июля 2023  22:26:09 +0300 (0:00:00.119)       0:05:55.441 ********** 
Четверг 20 июля 2023  22:26:09 +0300 (0:00:00.085)       0:05:55.527 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.080)       0:05:55.607 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.078)       0:05:55.686 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.096)       0:05:55.783 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.133)       0:05:55.917 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.102)       0:05:56.019 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.091)       0:05:56.111 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.092)       0:05:56.204 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.146)       0:05:56.351 ********** 
Четверг 20 июля 2023  22:26:10 +0300 (0:00:00.116)       0:05:56.468 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.089)       0:05:56.558 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.094)       0:05:56.652 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.088)       0:05:56.740 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.088)       0:05:56.828 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.105)       0:05:56.934 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.101)       0:05:57.036 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.097)       0:05:57.133 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.091)       0:05:57.225 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.109)       0:05:57.334 ********** 
Четверг 20 июля 2023  22:26:11 +0300 (0:00:00.124)       0:05:57.459 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.105)       0:05:57.565 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.155)       0:05:57.720 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.082)       0:05:57.803 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.013)       0:05:57.817 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.076)       0:05:57.893 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.099)       0:05:57.993 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.123)       0:05:58.116 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.129)       0:05:58.246 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.136)       0:05:58.382 ********** 
Четверг 20 июля 2023  22:26:12 +0300 (0:00:00.082)       0:05:58.464 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.096)       0:05:58.561 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.084)       0:05:58.646 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.230)       0:05:58.876 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.016)       0:05:58.893 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.158)       0:05:59.052 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.086)       0:05:59.139 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.087)       0:05:59.226 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.101)       0:05:59.327 ********** 
Четверг 20 июля 2023  22:26:13 +0300 (0:00:00.096)       0:05:59.424 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:26:14 +0300 (0:00:00.112)       0:05:59.537 ********** 
Четверг 20 июля 2023  22:26:14 +0300 (0:00:00.050)       0:05:59.587 ********** 
Четверг 20 июля 2023  22:26:14 +0300 (0:00:00.073)       0:05:59.660 ********** 
Четверг 20 июля 2023  22:26:14 +0300 (0:00:00.110)       0:05:59.771 ********** 
Четверг 20 июля 2023  22:26:14 +0300 (0:00:00.081)       0:05:59.853 ********** 

TASK [download : prep_download | Register docker images info] ******************
ok: [node1] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:26:15 +0300 (0:00:01.269)       0:06:01.122 ********** 

TASK [download : prep_download | Create staging directory on remote node] ******
changed: [node1] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "ubuntu", "path": "/tmp/releases/images", "size": 4096, "state": "directory", "uid": 1000}
changed: [node2] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "ubuntu", "path": "/tmp/releases/images", "size": 4096, "state": "directory", "uid": 1000}
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "ubuntu", "path": "/tmp/releases/images", "size": 4096, "state": "directory", "uid": 1000}
Четверг 20 июля 2023  22:26:16 +0300 (0:00:01.141)       0:06:02.263 ********** 
Четверг 20 июля 2023  22:26:16 +0300 (0:00:00.044)       0:06:02.307 ********** 

TASK [download : download | Get kubeadm binary and list of required images] ****
included: /home/antigen/diplom/kubespray/roles/download/tasks/prep_kubeadm_images.yml for master
Четверг 20 июля 2023  22:26:16 +0300 (0:00:00.134)       0:06:02.442 ********** 
Четверг 20 июля 2023  22:26:17 +0300 (0:00:00.686)       0:06:03.128 ********** 

TASK [download : prep_kubeadm_images | Download kubeadm binary] ****************
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for master
Четверг 20 июля 2023  22:26:18 +0300 (0:00:00.724)       0:06:03.852 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:26:18 +0300 (0:00:00.071)       0:06:03.924 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"
}
Четверг 20 июля 2023  22:26:19 +0300 (0:00:00.718)       0:06:04.642 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubeadm-v1.26.5-amd64"}, "changed": false}
Четверг 20 июля 2023  22:26:19 +0300 (0:00:00.829)       0:06:05.471 ********** 

TASK [download : download_file | Create dest directory on node] ****************
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:26:22 +0300 (0:00:02.232)       0:06:07.704 ********** 
Четверг 20 июля 2023  22:26:22 +0300 (0:00:00.053)       0:06:07.757 ********** 
Четверг 20 июля 2023  22:26:22 +0300 (0:00:00.694)       0:06:08.452 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:26:25 +0300 (0:00:02.633)       0:06:11.085 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"]}, "changed": false}
Четверг 20 июля 2023  22:26:25 +0300 (0:00:00.081)       0:06:11.166 ********** 

TASK [download : download_file | Download item] ********************************
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:26:32 +0300 (0:00:06.375)       0:06:17.542 ********** 
Четверг 20 июля 2023  22:26:32 +0300 (0:00:00.065)       0:06:17.608 ********** 
Четверг 20 июля 2023  22:26:32 +0300 (0:00:00.051)       0:06:17.659 ********** 
Четверг 20 июля 2023  22:26:32 +0300 (0:00:00.053)       0:06:17.712 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master
Четверг 20 июля 2023  22:26:32 +0300 (0:00:00.094)       0:06:17.807 ********** 
Четверг 20 июля 2023  22:26:33 +0300 (0:00:00.736)       0:06:18.543 ********** 

TASK [download : prep_kubeadm_images | Create kubeadm config] ******************
changed: [master] => {"changed": true, "checksum": "34fbfd59eeb6d901bfd437c21d445943d759c326", "dest": "/etc/kubernetes/kubeadm-images.yaml", "gid": 0, "group": "root", "md5sum": "75cd0036d3922fe7ab78e85541124eb9", "mode": "0644", "owner": "root", "size": 412, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881193.1518605-661020-278579118995403/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:26:35 +0300 (0:00:02.486)       0:06:21.029 ********** 

TASK [download : prep_kubeadm_images | Copy kubeadm binary from download dir to system path] ***
changed: [master] => {"changed": true, "checksum": "f024de24f0cf0ebb55bb5c0e9b9a6306501b1a3b", "dest": "/usr/local/bin/kubeadm", "gid": 0, "group": "root", "md5sum": "dd90842ecff6b6b603594995d671236b", "mode": "0755", "owner": "root", "size": 46788608, "src": "/tmp/releases/kubeadm-v1.26.5-amd64", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:26:36 +0300 (0:00:01.452)       0:06:22.481 ********** 

TASK [download : prep_kubeadm_images | Set kubeadm binary permissions] *********
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/usr/local/bin/kubeadm", "size": 46788608, "state": "file", "uid": 0}
Четверг 20 июля 2023  22:26:38 +0300 (0:00:01.148)       0:06:23.629 ********** 

TASK [download : prep_kubeadm_images | Generate list of required images] *******
ok: [master] => {"changed": false, "cmd": "set -o pipefail && /usr/local/bin/kubeadm config images list --config=/etc/kubernetes/kubeadm-images.yaml | grep -Ev 'coredns|pause'", "delta": "0:00:00.094814", "end": "2023-07-20 19:26:39.712406", "msg": "", "rc": 0, "start": "2023-07-20 19:26:39.617592", "stderr": "W0720 19:26:39.694043   11556 initconfiguration.go:305] error unmarshaling configuration schema.GroupVersionKind{Group:\"kubeadm.k8s.io\", Version:\"v1beta3\", Kind:\"ClusterConfiguration\"}: strict decoding error: unknown field \"dns.type\"", "stderr_lines": ["W0720 19:26:39.694043   11556 initconfiguration.go:305] error unmarshaling configuration schema.GroupVersionKind{Group:\"kubeadm.k8s.io\", Version:\"v1beta3\", Kind:\"ClusterConfiguration\"}: strict decoding error: unknown field \"dns.type\""], "stdout": "registry.k8s.io/kube-apiserver:v1.26.5\nregistry.k8s.io/kube-controller-manager:v1.26.5\nregistry.k8s.io/kube-scheduler:v1.26.5\nregistry.k8s.io/kube-proxy:v1.26.5", "stdout_lines": ["registry.k8s.io/kube-apiserver:v1.26.5", "registry.k8s.io/kube-controller-manager:v1.26.5", "registry.k8s.io/kube-scheduler:v1.26.5", "registry.k8s.io/kube-proxy:v1.26.5"]}
Четверг 20 июля 2023  22:26:39 +0300 (0:00:01.786)       0:06:25.416 ********** 

TASK [download : prep_kubeadm_images | Parse list of images] *******************
ok: [master] => (item=registry.k8s.io/kube-apiserver:v1.26.5) => {"ansible_facts": {"kubeadm_image": {"key": "kubeadm_kube-apiserver", "value": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-apiserver", "tag": "v1.26.5"}}}, "ansible_loop_var": "item", "changed": false, "item": "registry.k8s.io/kube-apiserver:v1.26.5"}
ok: [master] => (item=registry.k8s.io/kube-controller-manager:v1.26.5) => {"ansible_facts": {"kubeadm_image": {"key": "kubeadm_kube-controller-manager", "value": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-controller-manager", "tag": "v1.26.5"}}}, "ansible_loop_var": "item", "changed": false, "item": "registry.k8s.io/kube-controller-manager:v1.26.5"}
ok: [master] => (item=registry.k8s.io/kube-scheduler:v1.26.5) => {"ansible_facts": {"kubeadm_image": {"key": "kubeadm_kube-scheduler", "value": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-scheduler", "tag": "v1.26.5"}}}, "ansible_loop_var": "item", "changed": false, "item": "registry.k8s.io/kube-scheduler:v1.26.5"}
ok: [master] => (item=registry.k8s.io/kube-proxy:v1.26.5) => {"ansible_facts": {"kubeadm_image": {"key": "kubeadm_kube-proxy", "value": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-proxy", "tag": "v1.26.5"}}}, "ansible_loop_var": "item", "changed": false, "item": "registry.k8s.io/kube-proxy:v1.26.5"}
Четверг 20 июля 2023  22:26:40 +0300 (0:00:00.181)       0:06:25.598 ********** 

TASK [download : prep_kubeadm_images | Convert list of images to dict for later use] ***
ok: [master] => {"ansible_facts": {"kubeadm_images": {"kubeadm_kube-apiserver": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-apiserver", "tag": "v1.26.5"}, "kubeadm_kube-controller-manager": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-controller-manager", "tag": "v1.26.5"}, "kubeadm_kube-proxy": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-proxy", "tag": "v1.26.5"}, "kubeadm_kube-scheduler": {"container": true, "enabled": true, "groups": "k8s_cluster", "repo": "registry.k8s.io/kube-scheduler", "tag": "v1.26.5"}}}, "changed": false}
Четверг 20 июля 2023  22:26:40 +0300 (0:00:00.070)       0:06:25.669 ********** 

TASK [download : download | Download files / images] ***************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'cni', 'value': {'enabled': True, 'file': True, 'version': 'v1.3.0', 'dest': '/tmp/releases/cni-plugins-linux-amd64-v1.3.0.tgz', 'sha256': '754a71ed60a4bd08726c3af705a7d55ee3df03122b12e389fdba4bea35d7dd7e', 'url': 'https://github.com/containernetworking/plugins/releases/download/v1.3.0/cni-plugins-linux-amd64-v1.3.0.tgz', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'kubeadm', 'value': {'enabled': True, 'file': True, 'version': 'v1.26.5', 'dest': '/tmp/releases/kubeadm-v1.26.5-amd64', 'sha256': '793767419c382bae2dc2c9396baafbf051bfa3214accf40dcd7c5ea405583802', 'url': 'https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'kubelet', 'value': {'enabled': True, 'file': True, 'version': 'v1.26.5', 'dest': '/tmp/releases/kubelet-v1.26.5-amd64', 'sha256': 'ad5e318ff0e81bc2bef874b2038489722cfcc117bd31726d0193056458c18bff', 'url': 'https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubelet', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'crictl', 'value': {'file': True, 'enabled': True, 'version': 'v1.26.0', 'dest': '/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz', 'sha256': 'cda5e2143bf19f6b548110ffba0fe3565e03e8743fadd625fee3d62fc4134eed', 'url': 'https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz', 'unarchive': True, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'runc', 'value': {'file': True, 'enabled': True, 'version': 'v1.1.7', 'dest': '/tmp/releases/runc', 'sha256': 'c3aadb419e5872af49504b6de894055251d2e685fddddb981a79703e7f895cbd', 'url': 'https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'containerd', 'value': {'enabled': True, 'file': True, 'version': '1.7.1', 'dest': '/tmp/releases/containerd-1.7.1-linux-amd64.tar.gz', 'sha256': '9504771bcb816d3b27fab37a6cf76928ee5e95a31eb41510a7d10ae726e01e85', 'url': 'https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'nerdctl', 'value': {'file': True, 'enabled': True, 'version': '1.4.0', 'dest': '/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz', 'sha256': 'd8dcd4e270ae76ab294be3a451a2d8299010e69dce6ae559bc3193535610e4cc', 'url': 'https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz', 'unarchive': True, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for node2, master, node1 => (item={'key': 'calicoctl', 'value': {'enabled': True, 'file': True, 'version': 'v3.25.1', 'dest': '/tmp/releases/calicoctl', 'sha256': '13565e5304209ffaa93df3ba722e6f623b66c76057ca8ff5c5864fa13176fe48', 'url': 'https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64', 'mirrors': ['https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64'], 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'calico_node', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/node', 'tag': 'v3.25.1', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'calico_cni', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/cni', 'tag': 'v3.25.1', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'calico_flexvol', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/pod2daemon-flexvol', 'tag': 'v3.25.1', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'calico_policy', 'value': {'enabled': True, 'container': True, 'repo': 'quay.io/calico/kube-controllers', 'tag': 'v3.25.1', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'pod_infra', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/pause', 'tag': '3.9', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, node1 => (item={'key': 'nginx', 'value': {'enabled': True, 'container': True, 'repo': 'docker.io/library/nginx', 'tag': '1.23.2-alpine', 'sha256': '', 'groups': ['kube_node']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'coredns', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/coredns/coredns', 'tag': 'v1.9.3', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'nodelocaldns', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/dns/k8s-dns-node-cache', 'tag': '1.22.18', 'sha256': '', 'groups': ['k8s_cluster']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'kubeadm_kube-apiserver', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-apiserver', 'tag': 'v1.26.5', 'groups': 'k8s_cluster'}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'kubeadm_kube-controller-manager', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-controller-manager', 'tag': 'v1.26.5', 'groups': 'k8s_cluster'}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'kubeadm_kube-scheduler', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-scheduler', 'tag': 'v1.26.5', 'groups': 'k8s_cluster'}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for node2, master, node1 => (item={'key': 'kubeadm_kube-proxy', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/kube-proxy', 'tag': 'v1.26.5', 'groups': 'k8s_cluster'}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for master => (item={'key': 'etcd', 'value': {'container': False, 'file': True, 'enabled': True, 'version': 'v3.5.6', 'dest': '/tmp/releases/etcd-v3.5.6-linux-amd64.tar.gz', 'repo': 'quay.io/coreos/etcd', 'tag': 'v3.5.6', 'sha256': '4db32e3bc06dd0999e2171f76a87c1cffed8369475ec7aa7abee9023635670fb', 'url': 'https://github.com/etcd-io/etcd/releases/download/v3.5.6/etcd-v3.5.6-linux-amd64.tar.gz', 'unarchive': True, 'owner': 'root', 'mode': '0755', 'groups': ['etcd']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for master => (item={'key': 'kubectl', 'value': {'enabled': True, 'file': True, 'version': 'v1.26.5', 'dest': '/tmp/releases/kubectl-v1.26.5-amd64', 'sha256': '5080bb2e9631fe095139f7e973df9a31eb73e668d1785ffeb524832aed8f87c3', 'url': 'https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubectl', 'unarchive': False, 'owner': 'root', 'mode': '0755', 'groups': ['kube_control_plane']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for master => (item={'key': 'calico_crds', 'value': {'file': True, 'enabled': True, 'version': 'v3.25.1', 'dest': '/tmp/releases/calico-v3.25.1-kdd-crds/v3.25.1.tar.gz', 'sha256': '4d6b6653499f24f80a85a0a7dac28d9571cabfa25356b08f3b438fd97e322e2d', 'url': 'https://github.com/projectcalico/calico/archive/v3.25.1.tar.gz', 'unarchive': True, 'unarchive_extra_opts': ['--strip=3', '--wildcards', '*/libcalico-go/config/crd/'], 'owner': 'root', 'mode': '0755', 'groups': ['kube_control_plane']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for master => (item={'key': 'dnsautoscaler', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/cpa/cluster-proportional-autoscaler', 'tag': 'v1.8.8', 'sha256': '', 'groups': ['kube_control_plane']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_file.yml for master => (item={'key': 'helm', 'value': {'enabled': True, 'file': True, 'version': 'v3.12.0', 'dest': '/tmp/releases/helm-v3.12.0/helm-v3.12.0-linux-amd64.tar.gz', 'sha256': 'da36e117d6dbc57c8ec5bab2283222fbd108db86c83389eebe045ad1ef3e2c3b', 'url': 'https://get.helm.sh/helm-v3.12.0-linux-amd64.tar.gz', 'unarchive': True, 'owner': 'root', 'mode': '0755', 'groups': ['kube_control_plane']}})
included: /home/antigen/diplom/kubespray/roles/download/tasks/download_container.yml for master => (item={'key': 'metrics_server', 'value': {'enabled': True, 'container': True, 'repo': 'registry.k8s.io/metrics-server/metrics-server', 'tag': 'v0.6.3', 'sha256': '', 'groups': ['kube_control_plane']}})
Четверг 20 июля 2023  22:26:44 +0300 (0:00:03.939)       0:06:29.609 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:26:44 +0300 (0:00:00.117)       0:06:29.727 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/containernetworking/plugins/releases/download/v1.3.0/cni-plugins-linux-amd64-v1.3.0.tgz"
}
ok: [node1] => {
    "msg": "https://github.com/containernetworking/plugins/releases/download/v1.3.0/cni-plugins-linux-amd64-v1.3.0.tgz"
}
ok: [node2] => {
    "msg": "https://github.com/containernetworking/plugins/releases/download/v1.3.0/cni-plugins-linux-amd64-v1.3.0.tgz"
}
Четверг 20 июля 2023  22:26:44 +0300 (0:00:00.106)       0:06:29.833 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/cni-plugins-linux-amd64-v1.3.0.tgz"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/cni-plugins-linux-amd64-v1.3.0.tgz"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/cni-plugins-linux-amd64-v1.3.0.tgz"}, "changed": false}
Четверг 20 июля 2023  22:26:44 +0300 (0:00:00.105)       0:06:29.939 ********** 

TASK [download : download_file | Create dest directory on node] ****************
changed: [node1] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:26:46 +0300 (0:00:01.895)       0:06:31.835 ********** 
Четверг 20 июля 2023  22:26:46 +0300 (0:00:00.065)       0:06:31.900 ********** 
Четверг 20 июля 2023  22:26:46 +0300 (0:00:00.073)       0:06:31.974 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:26:48 +0300 (0:00:01.887)       0:06:33.861 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containernetworking/plugins/releases/download/v1.3.0/cni-plugins-linux-amd64-v1.3.0.tgz"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containernetworking/plugins/releases/download/v1.3.0/cni-plugins-linux-amd64-v1.3.0.tgz"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containernetworking/plugins/releases/download/v1.3.0/cni-plugins-linux-amd64-v1.3.0.tgz"]}, "changed": false}
Четверг 20 июля 2023  22:26:48 +0300 (0:00:00.191)       0:06:34.053 ********** 

TASK [download : download_file | Download item] ********************************
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:26:51 +0300 (0:00:02.643)       0:06:36.697 ********** 
Четверг 20 июля 2023  22:26:51 +0300 (0:00:00.103)       0:06:36.800 ********** 
Четверг 20 июля 2023  22:26:51 +0300 (0:00:00.105)       0:06:36.906 ********** 
Четверг 20 июля 2023  22:26:51 +0300 (0:00:00.101)       0:06:37.007 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:26:51 +0300 (0:00:00.175)       0:06:37.182 ********** 
Четверг 20 июля 2023  22:26:51 +0300 (0:00:00.103)       0:06:37.286 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:26:51 +0300 (0:00:00.122)       0:06:37.408 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"
}
ok: [node1] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"
}
ok: [node2] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"
}
Четверг 20 июля 2023  22:26:52 +0300 (0:00:00.149)       0:06:37.558 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubeadm-v1.26.5-amd64"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubeadm-v1.26.5-amd64"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubeadm-v1.26.5-amd64"}, "changed": false}
Четверг 20 июля 2023  22:26:52 +0300 (0:00:00.111)       0:06:37.669 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:26:53 +0300 (0:00:01.760)       0:06:39.430 ********** 
Четверг 20 июля 2023  22:26:53 +0300 (0:00:00.075)       0:06:39.505 ********** 
Четверг 20 июля 2023  22:26:54 +0300 (0:00:00.060)       0:06:39.566 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:26:55 +0300 (0:00:01.571)       0:06:41.138 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubeadm"]}, "changed": false}
Четверг 20 июля 2023  22:26:55 +0300 (0:00:00.165)       0:06:41.304 ********** 

TASK [download : download_file | Download item] ********************************
ok: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:26:59 +0300 (0:00:03.547)       0:06:44.852 ********** 
Четверг 20 июля 2023  22:26:59 +0300 (0:00:00.092)       0:06:44.944 ********** 
Четверг 20 июля 2023  22:26:59 +0300 (0:00:00.086)       0:06:45.031 ********** 
Четверг 20 июля 2023  22:26:59 +0300 (0:00:00.087)       0:06:45.118 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:26:59 +0300 (0:00:00.171)       0:06:45.289 ********** 
Четверг 20 июля 2023  22:26:59 +0300 (0:00:00.096)       0:06:45.386 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:26:59 +0300 (0:00:00.112)       0:06:45.498 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubelet"
}
ok: [node1] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubelet"
}
ok: [node2] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubelet"
}
Четверг 20 июля 2023  22:27:00 +0300 (0:00:00.106)       0:06:45.605 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubelet-v1.26.5-amd64"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubelet-v1.26.5-amd64"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubelet-v1.26.5-amd64"}, "changed": false}
Четверг 20 июля 2023  22:27:00 +0300 (0:00:00.107)       0:06:45.713 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:01 +0300 (0:00:01.193)       0:06:46.907 ********** 
Четверг 20 июля 2023  22:27:01 +0300 (0:00:00.054)       0:06:46.961 ********** 
Четверг 20 июля 2023  22:27:01 +0300 (0:00:00.076)       0:06:47.038 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:03 +0300 (0:00:01.562)       0:06:48.600 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubelet"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubelet"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubelet"]}, "changed": false}
Четверг 20 июля 2023  22:27:03 +0300 (0:00:00.163)       0:06:48.764 ********** 

TASK [download : download_file | Download item] ********************************
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:27:10 +0300 (0:00:07.231)       0:06:55.995 ********** 
Четверг 20 июля 2023  22:27:10 +0300 (0:00:00.092)       0:06:56.087 ********** 
Четверг 20 июля 2023  22:27:10 +0300 (0:00:00.094)       0:06:56.182 ********** 
Четверг 20 июля 2023  22:27:10 +0300 (0:00:00.107)       0:06:56.289 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:27:10 +0300 (0:00:00.179)       0:06:56.469 ********** 
Четверг 20 июля 2023  22:27:11 +0300 (0:00:00.111)       0:06:56.581 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:27:11 +0300 (0:00:00.119)       0:06:56.700 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"
}
ok: [node1] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"
}
ok: [node2] => {
    "msg": "https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:27:11 +0300 (0:00:00.101)       0:06:56.801 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/crictl-v1.26.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/crictl-v1.26.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/crictl-v1.26.0-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:27:11 +0300 (0:00:00.113)       0:06:56.914 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:12 +0300 (0:00:01.197)       0:06:58.111 ********** 
Четверг 20 июля 2023  22:27:12 +0300 (0:00:00.057)       0:06:58.169 ********** 
Четверг 20 июля 2023  22:27:12 +0300 (0:00:00.061)       0:06:58.231 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:14 +0300 (0:00:01.488)       0:06:59.720 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.26.0/crictl-v1.26.0-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:27:14 +0300 (0:00:00.219)       0:06:59.940 ********** 

TASK [download : download_file | Download item] ********************************
ok: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:15 +0300 (0:00:00.794)       0:07:00.734 ********** 
Четверг 20 июля 2023  22:27:15 +0300 (0:00:00.104)       0:07:00.838 ********** 
Четверг 20 июля 2023  22:27:15 +0300 (0:00:00.095)       0:07:00.934 ********** 
Четверг 20 июля 2023  22:27:15 +0300 (0:00:00.082)       0:07:01.017 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:27:15 +0300 (0:00:00.158)       0:07:01.176 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
ok: [node2] => {"changed": false, "dest": "/tmp/releases", "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "dest": "/tmp/releases", "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
ok: [node1] => {"changed": false, "dest": "/tmp/releases", "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/crictl-v1.26.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:20 +0300 (0:00:04.580)       0:07:05.756 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:27:20 +0300 (0:00:00.101)       0:07:05.858 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"
}
ok: [node1] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"
}
ok: [node2] => {
    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"
}
Четверг 20 июля 2023  22:27:20 +0300 (0:00:00.100)       0:07:05.959 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/runc"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/runc"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/runc"}, "changed": false}
Четверг 20 июля 2023  22:27:20 +0300 (0:00:00.112)       0:07:06.071 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:21 +0300 (0:00:01.259)       0:07:07.331 ********** 
Четверг 20 июля 2023  22:27:21 +0300 (0:00:00.062)       0:07:07.394 ********** 
Четверг 20 июля 2023  22:27:21 +0300 (0:00:00.072)       0:07:07.466 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:23 +0300 (0:00:01.717)       0:07:09.184 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/opencontainers/runc/releases/download/v1.1.7/runc.amd64"]}, "changed": false}
Четверг 20 июля 2023  22:27:23 +0300 (0:00:00.201)       0:07:09.385 ********** 

TASK [download : download_file | Download item] ********************************
ok: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:24 +0300 (0:00:00.808)       0:07:10.194 ********** 
Четверг 20 июля 2023  22:27:24 +0300 (0:00:00.101)       0:07:10.296 ********** 
Четверг 20 июля 2023  22:27:24 +0300 (0:00:00.096)       0:07:10.392 ********** 
Четверг 20 июля 2023  22:27:24 +0300 (0:00:00.087)       0:07:10.479 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:27:25 +0300 (0:00:00.177)       0:07:10.657 ********** 
Четверг 20 июля 2023  22:27:25 +0300 (0:00:00.105)       0:07:10.762 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:27:25 +0300 (0:00:00.157)       0:07:10.920 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"
}
ok: [node1] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"
}
ok: [node2] => {
    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:27:25 +0300 (0:00:00.132)       0:07:11.053 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/containerd-1.7.1-linux-amd64.tar.gz"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/containerd-1.7.1-linux-amd64.tar.gz"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/containerd-1.7.1-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:27:25 +0300 (0:00:00.139)       0:07:11.192 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:26 +0300 (0:00:01.215)       0:07:12.408 ********** 
Четверг 20 июля 2023  22:27:26 +0300 (0:00:00.067)       0:07:12.476 ********** 
Четверг 20 июля 2023  22:27:26 +0300 (0:00:00.057)       0:07:12.533 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:28 +0300 (0:00:01.469)       0:07:14.003 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/containerd/releases/download/v1.7.1/containerd-1.7.1-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:27:28 +0300 (0:00:00.190)       0:07:14.193 ********** 

TASK [download : download_file | Download item] ********************************
ok: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:29 +0300 (0:00:00.878)       0:07:15.071 ********** 
Четверг 20 июля 2023  22:27:29 +0300 (0:00:00.098)       0:07:15.169 ********** 
Четверг 20 июля 2023  22:27:29 +0300 (0:00:00.096)       0:07:15.266 ********** 
Четверг 20 июля 2023  22:27:29 +0300 (0:00:00.089)       0:07:15.355 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:27:30 +0300 (0:00:00.187)       0:07:15.543 ********** 
Четверг 20 июля 2023  22:27:30 +0300 (0:00:00.098)       0:07:15.641 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:27:30 +0300 (0:00:00.119)       0:07:15.761 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"
}
ok: [node1] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"
}
ok: [node2] => {
    "msg": "https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:27:30 +0300 (0:00:00.120)       0:07:15.882 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/nerdctl-1.4.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/nerdctl-1.4.0-linux-amd64.tar.gz"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/nerdctl-1.4.0-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:27:30 +0300 (0:00:00.121)       0:07:16.004 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:31 +0300 (0:00:01.196)       0:07:17.200 ********** 
Четверг 20 июля 2023  22:27:31 +0300 (0:00:00.059)       0:07:17.260 ********** 
Четверг 20 июля 2023  22:27:31 +0300 (0:00:00.072)       0:07:17.332 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:33 +0300 (0:00:01.503)       0:07:18.836 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/containerd/nerdctl/releases/download/v1.4.0/nerdctl-1.4.0-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:27:33 +0300 (0:00:00.178)       0:07:19.015 ********** 

TASK [download : download_file | Download item] ********************************
ok: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:34 +0300 (0:00:00.736)       0:07:19.751 ********** 
Четверг 20 июля 2023  22:27:34 +0300 (0:00:00.090)       0:07:19.842 ********** 
Четверг 20 июля 2023  22:27:34 +0300 (0:00:00.091)       0:07:19.933 ********** 
Четверг 20 июля 2023  22:27:34 +0300 (0:00:00.085)       0:07:20.019 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:27:34 +0300 (0:00:00.167)       0:07:20.186 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
ok: [node1] => {"changed": false, "dest": "/tmp/releases", "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "dest": "/tmp/releases", "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "dest": "/tmp/releases", "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/nerdctl-1.4.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:37 +0300 (0:00:02.970)       0:07:23.157 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:27:37 +0300 (0:00:00.101)       0:07:23.258 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64"
}
ok: [node1] => {
    "msg": "https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64"
}
ok: [node2] => {
    "msg": "https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64"
}
Четверг 20 июля 2023  22:27:37 +0300 (0:00:00.114)       0:07:23.373 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/calicoctl"}, "changed": false}
ok: [node1] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/calicoctl"}, "changed": false}
ok: [node2] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/calicoctl"}, "changed": false}
Четверг 20 июля 2023  22:27:37 +0300 (0:00:00.114)       0:07:23.488 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:27:39 +0300 (0:00:01.208)       0:07:24.696 ********** 
Четверг 20 июля 2023  22:27:39 +0300 (0:00:00.069)       0:07:24.766 ********** 
Четверг 20 июля 2023  22:27:39 +0300 (0:00:00.059)       0:07:24.826 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [node1] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node1 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [node2 -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:27:40 +0300 (0:00:01.510)       0:07:26.336 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/projectcalico/calico/releases/download/v3.25.1/calicoctl-linux-amd64"]}, "changed": false}
Четверг 20 июля 2023  22:27:41 +0300 (0:00:00.206)       0:07:26.543 ********** 

TASK [download : download_file | Download item] ********************************
changed: [node1] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
changed: [node2] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:27:46 +0300 (0:00:05.344)       0:07:31.888 ********** 
Четверг 20 июля 2023  22:27:46 +0300 (0:00:00.090)       0:07:31.978 ********** 
Четверг 20 июля 2023  22:27:46 +0300 (0:00:00.098)       0:07:32.076 ********** 
Четверг 20 июля 2023  22:27:46 +0300 (0:00:00.093)       0:07:32.170 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master, node1, node2
Четверг 20 июля 2023  22:27:46 +0300 (0:00:00.203)       0:07:32.374 ********** 
Четверг 20 июля 2023  22:27:46 +0300 (0:00:00.105)       0:07:32.479 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.111)       0:07:32.591 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "quay.io/calico/node"
}
ok: [node1] => {
    "msg": "quay.io/calico/node"
}
ok: [node2] => {
    "msg": "quay.io/calico/node"
}
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.116)       0:07:32.708 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.115)       0:07:32.823 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "quay.io/calico/node:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "quay.io/calico/node:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "quay.io/calico/node:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.112)       0:07:32.935 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "quay.io_calico_node_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "quay.io_calico_node_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "quay.io_calico_node_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.125)       0:07:33.061 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_node_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_node_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_node_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_node_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_node_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_node_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.103)       0:07:33.165 ********** 
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.079)       0:07:33.244 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_node_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_node_v3.25.1.tar quay.io/calico/node:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_node_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_node_v3.25.1.tar quay.io/calico/node:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_node_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_node_v3.25.1.tar quay.io/calico/node:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.105)       0:07:33.350 ********** 
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.083)       0:07:33.434 ********** 
Четверг 20 июля 2023  22:27:47 +0300 (0:00:00.088)       0:07:33.523 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_node_v3.25.1.tar quay.io/calico/node:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_node_v3.25.1.tar quay.io/calico/node:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_node_v3.25.1.tar quay.io/calico/node:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:27:48 +0300 (0:00:00.119)       0:07:33.642 ********** 
Четверг 20 июля 2023  22:27:48 +0300 (0:00:00.085)       0:07:33.728 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:27:48 +0300 (0:00:00.206)       0:07:33.934 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.051373", "end": "2023-07-20 19:27:49.379711", "msg": "", "rc": 0, "start": "2023-07-20 19:27:49.328338", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.051368", "end": "2023-07-20 19:27:49.475431", "msg": "", "rc": 0, "start": "2023-07-20 19:27:49.424063", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.052661", "end": "2023-07-20 19:27:49.531629", "msg": "", "rc": 0, "start": "2023-07-20 19:27:49.478968", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:27:49 +0300 (0:00:01.293)       0:07:35.228 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:27:49 +0300 (0:00:00.111)       0:07:35.339 ********** 
Четверг 20 июля 2023  22:27:49 +0300 (0:00:00.090)       0:07:35.429 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull quay.io/calico/node:v3.25.1 required is: True"
}
ok: [node1] => {
    "msg": "Pull quay.io/calico/node:v3.25.1 required is: True"
}
ok: [node2] => {
    "msg": "Pull quay.io/calico/node:v3.25.1 required is: True"
}
Четверг 20 июля 2023  22:27:50 +0300 (0:00:00.106)       0:07:35.536 ********** 
Четверг 20 июля 2023  22:27:50 +0300 (0:00:00.095)       0:07:35.632 ********** 
Четверг 20 июля 2023  22:27:50 +0300 (0:00:00.097)       0:07:35.729 ********** 
Четверг 20 июля 2023  22:27:50 +0300 (0:00:00.101)       0:07:35.831 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/node:v3.25.1"], "delta": "0:00:19.384623", "end": "2023-07-20 19:28:10.111353", "msg": "", "rc": 0, "start": "2023-07-20 19:27:50.726730", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/node:v3.25.1"], "delta": "0:00:20.663828", "end": "2023-07-20 19:28:11.379339", "msg": "", "rc": 0, "start": "2023-07-20 19:27:50.715511", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/node:v3.25.1"], "delta": "0:00:21.566418", "end": "2023-07-20 19:28:12.350922", "msg": "", "rc": 0, "start": "2023-07-20 19:27:50.784504", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:28:12 +0300 (0:00:22.187)       0:07:58.018 ********** 
Четверг 20 июля 2023  22:28:12 +0300 (0:00:00.062)       0:07:58.081 ********** 
Четверг 20 июля 2023  22:28:12 +0300 (0:00:00.106)       0:07:58.188 ********** 
Четверг 20 июля 2023  22:28:12 +0300 (0:00:00.085)       0:07:58.274 ********** 
Четверг 20 июля 2023  22:28:12 +0300 (0:00:00.084)       0:07:58.358 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_node_v3.25.1.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_node_v3.25.1.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_node_v3.25.1.tar", "state": "absent"}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:01.311)       0:07:59.669 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.115)       0:07:59.785 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "quay.io/calico/cni"
}
ok: [node1] => {
    "msg": "quay.io/calico/cni"
}
ok: [node2] => {
    "msg": "quay.io/calico/cni"
}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.101)       0:07:59.887 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.100)       0:07:59.988 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "quay.io/calico/cni:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "quay.io/calico/cni:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "quay.io/calico/cni:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.109)       0:08:00.097 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "quay.io_calico_cni_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "quay.io_calico_cni_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "quay.io_calico_cni_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.105)       0:08:00.202 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_cni_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_cni_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_cni_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_cni_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_cni_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_cni_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.130)       0:08:00.333 ********** 
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.086)       0:08:00.419 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_cni_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_cni_v3.25.1.tar quay.io/calico/cni:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_cni_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_cni_v3.25.1.tar quay.io/calico/cni:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_cni_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_cni_v3.25.1.tar quay.io/calico/cni:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:28:14 +0300 (0:00:00.111)       0:08:00.530 ********** 
Четверг 20 июля 2023  22:28:15 +0300 (0:00:00.245)       0:08:00.776 ********** 
Четверг 20 июля 2023  22:28:15 +0300 (0:00:00.089)       0:08:00.865 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_cni_v3.25.1.tar quay.io/calico/cni:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_cni_v3.25.1.tar quay.io/calico/cni:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_cni_v3.25.1.tar quay.io/calico/cni:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:28:15 +0300 (0:00:00.139)       0:08:01.005 ********** 
Четверг 20 июля 2023  22:28:15 +0300 (0:00:00.114)       0:08:01.120 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:28:15 +0300 (0:00:00.209)       0:08:01.329 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.093937", "end": "2023-07-20 19:28:16.881076", "msg": "", "rc": 0, "start": "2023-07-20 19:28:16.787139", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/node:v3.25.1,<none>:<none>,", "stdout_lines": ["quay.io/calico/node:v3.25.1,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.088471", "end": "2023-07-20 19:28:16.959052", "msg": "", "rc": 0, "start": "2023-07-20 19:28:16.870581", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/node:v3.25.1,<none>:<none>,", "stdout_lines": ["quay.io/calico/node:v3.25.1,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.737947", "end": "2023-07-20 19:28:17.957306", "msg": "", "rc": 0, "start": "2023-07-20 19:28:17.219359", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/node:v3.25.1,<none>:<none>,", "stdout_lines": ["quay.io/calico/node:v3.25.1,<none>:<none>,"]}
Четверг 20 июля 2023  22:28:18 +0300 (0:00:02.327)       0:08:03.656 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:28:18 +0300 (0:00:00.146)       0:08:03.803 ********** 
Четверг 20 июля 2023  22:28:18 +0300 (0:00:00.096)       0:08:03.900 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull quay.io/calico/cni:v3.25.1 required is: True"
}
ok: [node1] => {
    "msg": "Pull quay.io/calico/cni:v3.25.1 required is: True"
}
ok: [node2] => {
    "msg": "Pull quay.io/calico/cni:v3.25.1 required is: True"
}
Четверг 20 июля 2023  22:28:18 +0300 (0:00:00.123)       0:08:04.023 ********** 
Четверг 20 июля 2023  22:28:18 +0300 (0:00:00.114)       0:08:04.137 ********** 
Четверг 20 июля 2023  22:28:18 +0300 (0:00:00.088)       0:08:04.226 ********** 
Четверг 20 июля 2023  22:28:18 +0300 (0:00:00.095)       0:08:04.322 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/cni:v3.25.1"], "delta": "0:00:16.151170", "end": "2023-07-20 19:28:35.670804", "msg": "", "rc": 0, "start": "2023-07-20 19:28:19.519634", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/cni:v3.25.1"], "delta": "0:00:17.795669", "end": "2023-07-20 19:28:37.247010", "msg": "", "rc": 0, "start": "2023-07-20 19:28:19.451341", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/cni:v3.25.1"], "delta": "0:00:19.290959", "end": "2023-07-20 19:28:38.803545", "msg": "", "rc": 0, "start": "2023-07-20 19:28:19.512586", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:28:39 +0300 (0:00:20.271)       0:08:24.594 ********** 
Четверг 20 июля 2023  22:28:39 +0300 (0:00:00.050)       0:08:24.644 ********** 
Четверг 20 июля 2023  22:28:39 +0300 (0:00:00.100)       0:08:24.744 ********** 
Четверг 20 июля 2023  22:28:39 +0300 (0:00:00.106)       0:08:24.851 ********** 
Четверг 20 июля 2023  22:28:39 +0300 (0:00:00.089)       0:08:24.941 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_cni_v3.25.1.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_cni_v3.25.1.tar", "state": "absent"}
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_cni_v3.25.1.tar", "state": "absent"}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:08.623)       0:08:33.565 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.121)       0:08:33.686 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "quay.io/calico/pod2daemon-flexvol"
}
ok: [node1] => {
    "msg": "quay.io/calico/pod2daemon-flexvol"
}
ok: [node2] => {
    "msg": "quay.io/calico/pod2daemon-flexvol"
}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.105)       0:08:33.791 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.118)       0:08:33.909 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.109)       0:08:34.019 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "quay.io_calico_pod2daemon-flexvol_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "quay.io_calico_pod2daemon-flexvol_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "quay.io_calico_pod2daemon-flexvol_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.114)       0:08:34.134 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.141)       0:08:34.275 ********** 
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.087)       0:08:34.362 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:28:48 +0300 (0:00:00.111)       0:08:34.474 ********** 
Четверг 20 июля 2023  22:28:49 +0300 (0:00:00.094)       0:08:34.569 ********** 
Четверг 20 июля 2023  22:28:49 +0300 (0:00:00.093)       0:08:34.662 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar quay.io/calico/pod2daemon-flexvol:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:28:49 +0300 (0:00:00.112)       0:08:34.774 ********** 
Четверг 20 июля 2023  22:28:49 +0300 (0:00:00.090)       0:08:34.865 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:28:49 +0300 (0:00:00.186)       0:08:35.052 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.156673", "end": "2023-07-20 19:28:51.714161", "msg": "", "rc": 0, "start": "2023-07-20 19:28:51.557488", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,<none>:<none>,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.163100", "end": "2023-07-20 19:28:51.776500", "msg": "", "rc": 0, "start": "2023-07-20 19:28:51.613400", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.155219", "end": "2023-07-20 19:28:51.773880", "msg": "", "rc": 0, "start": "2023-07-20 19:28:51.618661", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:28:51 +0300 (0:00:02.452)       0:08:37.504 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:28:52 +0300 (0:00:00.126)       0:08:37.631 ********** 
Четверг 20 июля 2023  22:28:52 +0300 (0:00:00.092)       0:08:37.724 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull quay.io/calico/pod2daemon-flexvol:v3.25.1 required is: True"
}
ok: [node1] => {
    "msg": "Pull quay.io/calico/pod2daemon-flexvol:v3.25.1 required is: True"
}
ok: [node2] => {
    "msg": "Pull quay.io/calico/pod2daemon-flexvol:v3.25.1 required is: True"
}
Четверг 20 июля 2023  22:28:52 +0300 (0:00:00.125)       0:08:37.849 ********** 
Четверг 20 июля 2023  22:28:52 +0300 (0:00:00.095)       0:08:37.944 ********** 
Четверг 20 июля 2023  22:28:52 +0300 (0:00:00.081)       0:08:38.026 ********** 
Четверг 20 июля 2023  22:28:52 +0300 (0:00:00.139)       0:08:38.165 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/pod2daemon-flexvol:v3.25.1"], "delta": "0:00:03.758598", "end": "2023-07-20 19:28:56.885162", "msg": "", "rc": 0, "start": "2023-07-20 19:28:53.126564", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/pod2daemon-flexvol:v3.25.1"], "delta": "0:00:03.995492", "end": "2023-07-20 19:28:57.138856", "msg": "", "rc": 0, "start": "2023-07-20 19:28:53.143364", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/pod2daemon-flexvol:v3.25.1"], "delta": "0:00:11.925469", "end": "2023-07-20 19:29:05.055642", "msg": "", "rc": 0, "start": "2023-07-20 19:28:53.130173", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:29:05 +0300 (0:00:12.508)       0:08:50.674 ********** 
Четверг 20 июля 2023  22:29:05 +0300 (0:00:00.054)       0:08:50.729 ********** 
Четверг 20 июля 2023  22:29:05 +0300 (0:00:00.116)       0:08:50.846 ********** 
Четверг 20 июля 2023  22:29:05 +0300 (0:00:00.087)       0:08:50.933 ********** 
Четверг 20 июля 2023  22:29:05 +0300 (0:00:00.104)       0:08:51.038 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_pod2daemon-flexvol_v3.25.1.tar", "state": "absent"}
Четверг 20 июля 2023  22:29:09 +0300 (0:00:03.790)       0:08:54.828 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:29:09 +0300 (0:00:00.108)       0:08:54.936 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "quay.io/calico/kube-controllers"
}
ok: [node1] => {
    "msg": "quay.io/calico/kube-controllers"
}
ok: [node2] => {
    "msg": "quay.io/calico/kube-controllers"
}
Четверг 20 июля 2023  22:29:09 +0300 (0:00:00.118)       0:08:55.055 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:29:09 +0300 (0:00:00.109)       0:08:55.165 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:29:09 +0300 (0:00:00.107)       0:08:55.272 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "quay.io_calico_kube-controllers_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "quay.io_calico_kube-controllers_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "quay.io_calico_kube-controllers_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:09 +0300 (0:00:00.103)       0:08:55.376 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_kube-controllers_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_kube-controllers_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/quay.io_calico_kube-controllers_v3.25.1.tar", "image_path_final": "/tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:09 +0300 (0:00:00.105)       0:08:55.481 ********** 
Четверг 20 июля 2023  22:29:10 +0300 (0:00:00.220)       0:08:55.702 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:29:10 +0300 (0:00:00.119)       0:08:55.821 ********** 
Четверг 20 июля 2023  22:29:10 +0300 (0:00:00.093)       0:08:55.914 ********** 
Четверг 20 июля 2023  22:29:10 +0300 (0:00:00.090)       0:08:56.005 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_kube-controllers_v3.25.1.tar quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_kube-controllers_v3.25.1.tar quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/quay.io_calico_kube-controllers_v3.25.1.tar quay.io/calico/kube-controllers:v3.25.1"}, "changed": false}
Четверг 20 июля 2023  22:29:10 +0300 (0:00:00.140)       0:08:56.146 ********** 
Четверг 20 июля 2023  22:29:10 +0300 (0:00:00.082)       0:08:56.229 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:29:10 +0300 (0:00:00.194)       0:08:56.424 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.242599", "end": "2023-07-20 19:29:14.334923", "msg": "", "rc": 0, "start": "2023-07-20 19:29:14.092324", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.232423", "end": "2023-07-20 19:29:14.336474", "msg": "", "rc": 0, "start": "2023-07-20 19:29:14.104051", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.241860", "end": "2023-07-20 19:29:14.395603", "msg": "", "rc": 0, "start": "2023-07-20 19:29:14.153743", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:29:14 +0300 (0:00:03.679)       0:09:00.104 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:29:14 +0300 (0:00:00.111)       0:09:00.215 ********** 
Четверг 20 июля 2023  22:29:14 +0300 (0:00:00.090)       0:09:00.305 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull quay.io/calico/kube-controllers:v3.25.1 required is: True"
}
ok: [node1] => {
    "msg": "Pull quay.io/calico/kube-controllers:v3.25.1 required is: True"
}
ok: [node2] => {
    "msg": "Pull quay.io/calico/kube-controllers:v3.25.1 required is: True"
}
Четверг 20 июля 2023  22:29:14 +0300 (0:00:00.107)       0:09:00.412 ********** 
Четверг 20 июля 2023  22:29:14 +0300 (0:00:00.101)       0:09:00.513 ********** 
Четверг 20 июля 2023  22:29:15 +0300 (0:00:00.092)       0:09:00.606 ********** 
Четверг 20 июля 2023  22:29:15 +0300 (0:00:00.105)       0:09:00.712 ********** 

TASK [download : download_container | Download image if required] **************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/kube-controllers:v3.25.1"], "delta": "0:00:06.659568", "end": "2023-07-20 19:29:23.265266", "msg": "", "rc": 0, "start": "2023-07-20 19:29:16.605698", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/kube-controllers:v3.25.1"], "delta": "0:00:07.181461", "end": "2023-07-20 19:29:23.641217", "msg": "", "rc": 0, "start": "2023-07-20 19:29:16.459756", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "quay.io/calico/kube-controllers:v3.25.1"], "delta": "0:00:07.078005", "end": "2023-07-20 19:29:23.686399", "msg": "", "rc": 0, "start": "2023-07-20 19:29:16.608394", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:29:23 +0300 (0:00:08.593)       0:09:09.305 ********** 
Четверг 20 июля 2023  22:29:23 +0300 (0:00:00.059)       0:09:09.365 ********** 
Четверг 20 июля 2023  22:29:23 +0300 (0:00:00.123)       0:09:09.489 ********** 
Четверг 20 июля 2023  22:29:24 +0300 (0:00:00.101)       0:09:09.590 ********** 
Четверг 20 июля 2023  22:29:24 +0300 (0:00:00.084)       0:09:09.675 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar", "state": "absent"}
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/quay.io_calico_kube-controllers_v3.25.1.tar", "state": "absent"}
Четверг 20 июля 2023  22:29:26 +0300 (0:00:02.409)       0:09:12.084 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:29:26 +0300 (0:00:00.127)       0:09:12.212 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/pause"
}
ok: [node1] => {
    "msg": "registry.k8s.io/pause"
}
ok: [node2] => {
    "msg": "registry.k8s.io/pause"
}
Четверг 20 июля 2023  22:29:26 +0300 (0:00:00.128)       0:09:12.340 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:29:26 +0300 (0:00:00.145)       0:09:12.486 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/pause:3.9"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "registry.k8s.io/pause:3.9"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "registry.k8s.io/pause:3.9"}, "changed": false}
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.130)       0:09:12.616 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_pause_3.9.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "registry.k8s.io_pause_3.9.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "registry.k8s.io_pause_3.9.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.097)       0:09:12.713 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_pause_3.9.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_pause_3.9.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_pause_3.9.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_pause_3.9.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_pause_3.9.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_pause_3.9.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.102)       0:09:12.816 ********** 
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.098)       0:09:12.915 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_pause_3.9.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_pause_3.9.tar registry.k8s.io/pause:3.9"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_pause_3.9.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_pause_3.9.tar registry.k8s.io/pause:3.9"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_pause_3.9.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_pause_3.9.tar registry.k8s.io/pause:3.9"}, "changed": false}
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.132)       0:09:13.048 ********** 
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.095)       0:09:13.143 ********** 
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.139)       0:09:13.283 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_pause_3.9.tar registry.k8s.io/pause:3.9"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_pause_3.9.tar registry.k8s.io/pause:3.9"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_pause_3.9.tar registry.k8s.io/pause:3.9"}, "changed": false}
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.110)       0:09:13.393 ********** 
Четверг 20 июля 2023  22:29:27 +0300 (0:00:00.090)       0:09:13.484 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:29:28 +0300 (0:00:00.202)       0:09:13.687 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.302359", "end": "2023-07-20 19:29:30.486653", "msg": "", "rc": 0, "start": "2023-07-20 19:29:30.184294", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.303721", "end": "2023-07-20 19:29:30.496761", "msg": "", "rc": 0, "start": "2023-07-20 19:29:30.193040", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.320439", "end": "2023-07-20 19:29:30.715586", "msg": "", "rc": 0, "start": "2023-07-20 19:29:30.395147", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:29:31 +0300 (0:00:02.895)       0:09:16.582 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:29:31 +0300 (0:00:00.121)       0:09:16.703 ********** 
Четверг 20 июля 2023  22:29:31 +0300 (0:00:00.085)       0:09:16.789 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/pause:3.9 required is: True"
}
ok: [node1] => {
    "msg": "Pull registry.k8s.io/pause:3.9 required is: True"
}
ok: [node2] => {
    "msg": "Pull registry.k8s.io/pause:3.9 required is: True"
}
Четверг 20 июля 2023  22:29:31 +0300 (0:00:00.118)       0:09:16.908 ********** 
Четверг 20 июля 2023  22:29:31 +0300 (0:00:00.098)       0:09:17.006 ********** 
Четверг 20 июля 2023  22:29:31 +0300 (0:00:00.081)       0:09:17.087 ********** 
Четверг 20 июля 2023  22:29:31 +0300 (0:00:00.101)       0:09:17.189 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/pause:3.9"], "delta": "0:00:01.205082", "end": "2023-07-20 19:29:35.128587", "msg": "", "rc": 0, "start": "2023-07-20 19:29:33.923505", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/pause:3.9"], "delta": "0:00:01.322227", "end": "2023-07-20 19:29:35.376807", "msg": "", "rc": 0, "start": "2023-07-20 19:29:34.054580", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/pause:3.9"], "delta": "0:00:01.625017", "end": "2023-07-20 19:29:35.552477", "msg": "", "rc": 0, "start": "2023-07-20 19:29:33.927460", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:29:35 +0300 (0:00:03.987)       0:09:21.176 ********** 
Четверг 20 июля 2023  22:29:35 +0300 (0:00:00.054)       0:09:21.230 ********** 
Четверг 20 июля 2023  22:29:35 +0300 (0:00:00.092)       0:09:21.323 ********** 
Четверг 20 июля 2023  22:29:35 +0300 (0:00:00.101)       0:09:21.424 ********** 
Четверг 20 июля 2023  22:29:35 +0300 (0:00:00.103)       0:09:21.527 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_pause_3.9.tar", "state": "absent"}
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_pause_3.9.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_pause_3.9.tar", "state": "absent"}
Четверг 20 июля 2023  22:29:39 +0300 (0:00:03.729)       0:09:25.257 ********** 

TASK [download : set default values for flag variables] ************************
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:29:39 +0300 (0:00:00.111)       0:09:25.369 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [node1] => {
    "msg": "docker.io/library/nginx"
}
ok: [node2] => {
    "msg": "docker.io/library/nginx"
}
Четверг 20 июля 2023  22:29:39 +0300 (0:00:00.108)       0:09:25.477 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.113)       0:09:25.590 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [node1] => {"ansible_facts": {"image_reponame": "docker.io/library/nginx:1.23.2-alpine"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "docker.io/library/nginx:1.23.2-alpine"}, "changed": false}
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.102)       0:09:25.693 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [node1] => {"ansible_facts": {"image_filename": "docker.io_library_nginx_1.23.2-alpine.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "docker.io_library_nginx_1.23.2-alpine.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.109)       0:09:25.802 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/docker.io_library_nginx_1.23.2-alpine.tar", "image_path_final": "/tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/docker.io_library_nginx_1.23.2-alpine.tar", "image_path_final": "/tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.097)       0:09:25.900 ********** 
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.093)       0:09:25.993 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar docker.io/library/nginx:1.23.2-alpine"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar docker.io/library/nginx:1.23.2-alpine"}, "changed": false}
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.109)       0:09:26.103 ********** 
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.090)       0:09:26.193 ********** 
Четверг 20 июля 2023  22:29:40 +0300 (0:00:00.123)       0:09:26.317 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/docker.io_library_nginx_1.23.2-alpine.tar docker.io/library/nginx:1.23.2-alpine"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/docker.io_library_nginx_1.23.2-alpine.tar docker.io/library/nginx:1.23.2-alpine"}, "changed": false}
Четверг 20 июля 2023  22:29:41 +0300 (0:00:00.327)       0:09:26.644 ********** 
Четверг 20 июля 2023  22:29:41 +0300 (0:00:00.083)       0:09:26.728 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for node1, node2
Четверг 20 июля 2023  22:29:41 +0300 (0:00:00.161)       0:09:26.889 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.343574", "end": "2023-07-20 19:29:44.388152", "msg": "", "rc": 0, "start": "2023-07-20 19:29:44.044578", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.358493", "end": "2023-07-20 19:29:44.447780", "msg": "", "rc": 0, "start": "2023-07-20 19:29:44.089287", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:29:44 +0300 (0:00:03.267)       0:09:30.157 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:29:44 +0300 (0:00:00.113)       0:09:30.270 ********** 
Четверг 20 июля 2023  22:29:44 +0300 (0:00:00.076)       0:09:30.347 ********** 

TASK [download : debug] ********************************************************
ok: [node1] => {
    "msg": "Pull docker.io/library/nginx:1.23.2-alpine required is: True"
}
ok: [node2] => {
    "msg": "Pull docker.io/library/nginx:1.23.2-alpine required is: True"
}
Четверг 20 июля 2023  22:29:44 +0300 (0:00:00.099)       0:09:30.446 ********** 
Четверг 20 июля 2023  22:29:45 +0300 (0:00:00.090)       0:09:30.537 ********** 
Четверг 20 июля 2023  22:29:45 +0300 (0:00:00.077)       0:09:30.615 ********** 
Четверг 20 июля 2023  22:29:45 +0300 (0:00:00.089)       0:09:30.704 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "docker.io/library/nginx:1.23.2-alpine"], "delta": "0:00:04.343353", "end": "2023-07-20 19:29:50.159093", "msg": "", "rc": 0, "start": "2023-07-20 19:29:45.815740", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "docker.io/library/nginx:1.23.2-alpine"], "delta": "0:00:07.409832", "end": "2023-07-20 19:29:53.222357", "msg": "", "rc": 0, "start": "2023-07-20 19:29:45.812525", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:29:53 +0300 (0:00:08.165)       0:09:38.869 ********** 
Четверг 20 июля 2023  22:29:53 +0300 (0:00:00.059)       0:09:38.929 ********** 
Четверг 20 июля 2023  22:29:53 +0300 (0:00:00.093)       0:09:39.022 ********** 
Четверг 20 июля 2023  22:29:53 +0300 (0:00:00.079)       0:09:39.102 ********** 
Четверг 20 июля 2023  22:29:53 +0300 (0:00:00.106)       0:09:39.209 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/docker.io_library_nginx_1.23.2-alpine.tar", "state": "absent"}
Четверг 20 июля 2023  22:29:55 +0300 (0:00:01.712)       0:09:40.921 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:29:55 +0300 (0:00:00.102)       0:09:41.024 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/coredns/coredns"
}
ok: [node1] => {
    "msg": "registry.k8s.io/coredns/coredns"
}
ok: [node2] => {
    "msg": "registry.k8s.io/coredns/coredns"
}
Четверг 20 июля 2023  22:29:55 +0300 (0:00:00.107)       0:09:41.131 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:29:55 +0300 (0:00:00.140)       0:09:41.271 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
Четверг 20 июля 2023  22:29:55 +0300 (0:00:00.117)       0:09:41.389 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_coredns_coredns_v1.9.3.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "registry.k8s.io_coredns_coredns_v1.9.3.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "registry.k8s.io_coredns_coredns_v1.9.3.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:55 +0300 (0:00:00.110)       0:09:41.499 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar"}, "changed": false}
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.122)       0:09:41.622 ********** 
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.104)       0:09:41.726 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.139)       0:09:41.866 ********** 
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.102)       0:09:41.968 ********** 
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.081)       0:09:42.050 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_coredns_coredns_v1.9.3.tar registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_coredns_coredns_v1.9.3.tar registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_coredns_coredns_v1.9.3.tar registry.k8s.io/coredns/coredns:v1.9.3"}, "changed": false}
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.125)       0:09:42.175 ********** 
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.086)       0:09:42.261 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:29:56 +0300 (0:00:00.206)       0:09:42.468 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.426378", "end": "2023-07-20 19:29:59.418369", "msg": "", "rc": 0, "start": "2023-07-20 19:29:58.991991", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.410199", "end": "2023-07-20 19:29:59.428214", "msg": "", "rc": 0, "start": "2023-07-20 19:29:59.018015", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.349333", "end": "2023-07-20 19:29:59.563367", "msg": "", "rc": 0, "start": "2023-07-20 19:29:59.214034", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:29:59 +0300 (0:00:02.835)       0:09:45.303 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:29:59 +0300 (0:00:00.114)       0:09:45.418 ********** 
Четверг 20 июля 2023  22:29:59 +0300 (0:00:00.088)       0:09:45.507 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/coredns/coredns:v1.9.3 required is: True"
}
ok: [node1] => {
    "msg": "Pull registry.k8s.io/coredns/coredns:v1.9.3 required is: True"
}
ok: [node2] => {
    "msg": "Pull registry.k8s.io/coredns/coredns:v1.9.3 required is: True"
}
Четверг 20 июля 2023  22:30:00 +0300 (0:00:00.118)       0:09:45.625 ********** 
Четверг 20 июля 2023  22:30:00 +0300 (0:00:00.099)       0:09:45.725 ********** 
Четверг 20 июля 2023  22:30:00 +0300 (0:00:00.083)       0:09:45.808 ********** 
Четверг 20 июля 2023  22:30:00 +0300 (0:00:00.123)       0:09:45.932 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/coredns/coredns:v1.9.3"], "delta": "0:00:03.253485", "end": "2023-07-20 19:30:04.220445", "msg": "", "rc": 0, "start": "2023-07-20 19:30:00.966960", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/coredns/coredns:v1.9.3"], "delta": "0:00:05.988214", "end": "2023-07-20 19:30:06.992619", "msg": "", "rc": 0, "start": "2023-07-20 19:30:01.004405", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/coredns/coredns:v1.9.3"], "delta": "0:00:07.981524", "end": "2023-07-20 19:30:09.083201", "msg": "", "rc": 0, "start": "2023-07-20 19:30:01.101677", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:30:09 +0300 (0:00:08.785)       0:09:54.718 ********** 
Четверг 20 июля 2023  22:30:09 +0300 (0:00:00.059)       0:09:54.778 ********** 
Четверг 20 июля 2023  22:30:09 +0300 (0:00:00.095)       0:09:54.873 ********** 
Четверг 20 июля 2023  22:30:09 +0300 (0:00:00.083)       0:09:54.957 ********** 
Четверг 20 июля 2023  22:30:09 +0300 (0:00:00.087)       0:09:55.044 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_coredns_coredns_v1.9.3.tar", "state": "absent"}
Четверг 20 июля 2023  22:30:10 +0300 (0:00:01.452)       0:09:56.498 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.116)       0:09:56.614 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/dns/k8s-dns-node-cache"
}
ok: [node1] => {
    "msg": "registry.k8s.io/dns/k8s-dns-node-cache"
}
ok: [node2] => {
    "msg": "registry.k8s.io/dns/k8s-dns-node-cache"
}
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.109)       0:09:56.724 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.107)       0:09:56.831 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.123)       0:09:56.954 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar"}, "changed": false}
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.106)       0:09:57.061 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar"}, "changed": false}
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.101)       0:09:57.162 ********** 
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.083)       0:09:57.245 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.116)       0:09:57.362 ********** 
Четверг 20 июля 2023  22:30:11 +0300 (0:00:00.082)       0:09:57.445 ********** 
Четверг 20 июля 2023  22:30:12 +0300 (0:00:00.094)       0:09:57.539 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"}, "changed": false}
Четверг 20 июля 2023  22:30:12 +0300 (0:00:00.125)       0:09:57.665 ********** 
Четверг 20 июля 2023  22:30:12 +0300 (0:00:00.084)       0:09:57.750 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:30:12 +0300 (0:00:00.302)       0:09:58.053 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.451931", "end": "2023-07-20 19:30:16.529719", "msg": "", "rc": 0, "start": "2023-07-20 19:30:16.077788", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.461199", "end": "2023-07-20 19:30:17.997786", "msg": "", "rc": 0, "start": "2023-07-20 19:30:17.536587", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.393112", "end": "2023-07-20 19:30:18.605301", "msg": "", "rc": 0, "start": "2023-07-20 19:30:18.212189", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:30:18 +0300 (0:00:06.252)       0:10:04.305 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:30:18 +0300 (0:00:00.126)       0:10:04.431 ********** 
Четверг 20 июля 2023  22:30:18 +0300 (0:00:00.084)       0:10:04.516 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/dns/k8s-dns-node-cache:1.22.18 required is: True"
}
ok: [node1] => {
    "msg": "Pull registry.k8s.io/dns/k8s-dns-node-cache:1.22.18 required is: True"
}
ok: [node2] => {
    "msg": "Pull registry.k8s.io/dns/k8s-dns-node-cache:1.22.18 required is: True"
}
Четверг 20 июля 2023  22:30:19 +0300 (0:00:00.114)       0:10:04.630 ********** 
Четверг 20 июля 2023  22:30:19 +0300 (0:00:00.098)       0:10:04.729 ********** 
Четверг 20 июля 2023  22:30:19 +0300 (0:00:00.089)       0:10:04.818 ********** 
Четверг 20 июля 2023  22:30:19 +0300 (0:00:00.102)       0:10:04.921 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"], "delta": "0:00:03.704854", "end": "2023-07-20 19:30:23.617548", "msg": "", "rc": 0, "start": "2023-07-20 19:30:19.912694", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"], "delta": "0:00:07.039643", "end": "2023-07-20 19:30:27.024547", "msg": "", "rc": 0, "start": "2023-07-20 19:30:19.984904", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/dns/k8s-dns-node-cache:1.22.18"], "delta": "0:00:19.270458", "end": "2023-07-20 19:30:39.135440", "msg": "", "rc": 0, "start": "2023-07-20 19:30:19.864982", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:30:39 +0300 (0:00:20.031)       0:10:24.952 ********** 
Четверг 20 июля 2023  22:30:39 +0300 (0:00:00.046)       0:10:24.999 ********** 
Четверг 20 июля 2023  22:30:39 +0300 (0:00:00.092)       0:10:25.091 ********** 
Четверг 20 июля 2023  22:30:39 +0300 (0:00:00.101)       0:10:25.192 ********** 
Четверг 20 июля 2023  22:30:39 +0300 (0:00:00.093)       0:10:25.286 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_dns_k8s-dns-node-cache_1.22.18.tar", "state": "absent"}
Четверг 20 июля 2023  22:30:41 +0300 (0:00:01.889)       0:10:27.175 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:30:41 +0300 (0:00:00.127)       0:10:27.302 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/kube-apiserver"
}
ok: [node1] => {
    "msg": "registry.k8s.io/kube-apiserver"
}
ok: [node2] => {
    "msg": "registry.k8s.io/kube-apiserver"
}
Четверг 20 июля 2023  22:30:41 +0300 (0:00:00.118)       0:10:27.421 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.116)       0:10:27.537 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.106)       0:10:27.644 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-apiserver_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-apiserver_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-apiserver_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.105)       0:10:27.750 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.106)       0:10:27.856 ********** 
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.092)       0:10:27.948 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.156)       0:10:28.105 ********** 
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.106)       0:10:28.211 ********** 
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.084)       0:10:28.295 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-apiserver_v1.26.5.tar registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-apiserver_v1.26.5.tar registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-apiserver_v1.26.5.tar registry.k8s.io/kube-apiserver:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.122)       0:10:28.418 ********** 
Четверг 20 июля 2023  22:30:42 +0300 (0:00:00.115)       0:10:28.534 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:30:43 +0300 (0:00:00.182)       0:10:28.717 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.512375", "end": "2023-07-20 19:30:45.379788", "msg": "", "rc": 0, "start": "2023-07-20 19:30:44.867413", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.456407", "end": "2023-07-20 19:30:45.378204", "msg": "", "rc": 0, "start": "2023-07-20 19:30:44.921797", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.493655", "end": "2023-07-20 19:30:45.399755", "msg": "", "rc": 0, "start": "2023-07-20 19:30:44.906100", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:30:45 +0300 (0:00:02.359)       0:10:31.076 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:30:45 +0300 (0:00:00.105)       0:10:31.181 ********** 
Четверг 20 июля 2023  22:30:45 +0300 (0:00:00.083)       0:10:31.265 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/kube-apiserver:v1.26.5 required is: True"
}
ok: [node1] => {
    "msg": "Pull registry.k8s.io/kube-apiserver:v1.26.5 required is: True"
}
ok: [node2] => {
    "msg": "Pull registry.k8s.io/kube-apiserver:v1.26.5 required is: True"
}
Четверг 20 июля 2023  22:30:45 +0300 (0:00:00.119)       0:10:31.384 ********** 
Четверг 20 июля 2023  22:30:45 +0300 (0:00:00.091)       0:10:31.475 ********** 
Четверг 20 июля 2023  22:30:46 +0300 (0:00:00.079)       0:10:31.555 ********** 
Четверг 20 июля 2023  22:30:46 +0300 (0:00:00.099)       0:10:31.655 ********** 

TASK [download : download_container | Download image if required] **************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-apiserver:v1.26.5"], "delta": "0:00:05.726075", "end": "2023-07-20 19:30:52.420481", "msg": "", "rc": 0, "start": "2023-07-20 19:30:46.694406", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-apiserver:v1.26.5"], "delta": "0:00:07.693722", "end": "2023-07-20 19:30:54.398033", "msg": "", "rc": 0, "start": "2023-07-20 19:30:46.704311", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-apiserver:v1.26.5"], "delta": "0:00:10.713929", "end": "2023-07-20 19:30:57.429060", "msg": "", "rc": 0, "start": "2023-07-20 19:30:46.715131", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:30:57 +0300 (0:00:11.428)       0:10:43.084 ********** 
Четверг 20 июля 2023  22:30:57 +0300 (0:00:00.044)       0:10:43.128 ********** 
Четверг 20 июля 2023  22:30:57 +0300 (0:00:00.105)       0:10:43.234 ********** 
Четверг 20 июля 2023  22:30:57 +0300 (0:00:00.102)       0:10:43.336 ********** 
Четверг 20 июля 2023  22:30:57 +0300 (0:00:00.088)       0:10:43.424 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "state": "absent"}
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-apiserver_v1.26.5.tar", "state": "absent"}
Четверг 20 июля 2023  22:31:02 +0300 (0:00:04.656)       0:10:48.081 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:31:02 +0300 (0:00:00.138)       0:10:48.219 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/kube-controller-manager"
}
ok: [node1] => {
    "msg": "registry.k8s.io/kube-controller-manager"
}
ok: [node2] => {
    "msg": "registry.k8s.io/kube-controller-manager"
}
Четверг 20 июля 2023  22:31:02 +0300 (0:00:00.108)       0:10:48.328 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
Четверг 20 июля 2023  22:31:02 +0300 (0:00:00.144)       0:10:48.472 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.127)       0:10:48.600 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-controller-manager_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-controller-manager_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-controller-manager_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.101)       0:10:48.702 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.124)       0:10:48.827 ********** 
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.094)       0:10:48.921 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.118)       0:10:49.039 ********** 
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.096)       0:10:49.136 ********** 
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.087)       0:10:49.223 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar registry.k8s.io/kube-controller-manager:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.110)       0:10:49.333 ********** 
Четверг 20 июля 2023  22:31:03 +0300 (0:00:00.088)       0:10:49.421 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:31:04 +0300 (0:00:00.187)       0:10:49.609 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.567473", "end": "2023-07-20 19:31:05.650018", "msg": "", "rc": 0, "start": "2023-07-20 19:31:05.082545", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.542830", "end": "2023-07-20 19:31:05.655023", "msg": "", "rc": 0, "start": "2023-07-20 19:31:05.112193", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:02.912340", "end": "2023-07-20 19:31:07.942504", "msg": "", "rc": 0, "start": "2023-07-20 19:31:05.030164", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:31:08 +0300 (0:00:04.075)       0:10:53.685 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:31:08 +0300 (0:00:00.122)       0:10:53.808 ********** 
Четверг 20 июля 2023  22:31:08 +0300 (0:00:00.087)       0:10:53.895 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/kube-controller-manager:v1.26.5 required is: True"
}
ok: [node1] => {
    "msg": "Pull registry.k8s.io/kube-controller-manager:v1.26.5 required is: True"
}
ok: [node2] => {
    "msg": "Pull registry.k8s.io/kube-controller-manager:v1.26.5 required is: True"
}
Четверг 20 июля 2023  22:31:08 +0300 (0:00:00.105)       0:10:54.001 ********** 
Четверг 20 июля 2023  22:31:08 +0300 (0:00:00.096)       0:10:54.098 ********** 
Четверг 20 июля 2023  22:31:08 +0300 (0:00:00.106)       0:10:54.205 ********** 
Четверг 20 июля 2023  22:31:08 +0300 (0:00:00.110)       0:10:54.315 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-controller-manager:v1.26.5"], "delta": "0:00:04.846673", "end": "2023-07-20 19:31:14.082529", "msg": "", "rc": 0, "start": "2023-07-20 19:31:09.235856", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-controller-manager:v1.26.5"], "delta": "0:00:10.479551", "end": "2023-07-20 19:31:19.764168", "msg": "", "rc": 0, "start": "2023-07-20 19:31:09.284617", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-controller-manager:v1.26.5"], "delta": "0:00:25.705628", "end": "2023-07-20 19:31:34.947826", "msg": "", "rc": 0, "start": "2023-07-20 19:31:09.242198", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:31:35 +0300 (0:00:26.346)       0:11:20.662 ********** 
Четверг 20 июля 2023  22:31:35 +0300 (0:00:00.050)       0:11:20.712 ********** 
Четверг 20 июля 2023  22:31:35 +0300 (0:00:00.100)       0:11:20.813 ********** 
Четверг 20 июля 2023  22:31:35 +0300 (0:00:00.089)       0:11:20.903 ********** 
Четверг 20 июля 2023  22:31:35 +0300 (0:00:00.082)       0:11:20.985 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-controller-manager_v1.26.5.tar", "state": "absent"}
Четверг 20 июля 2023  22:31:37 +0300 (0:00:01.797)       0:11:22.783 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:31:37 +0300 (0:00:00.105)       0:11:22.889 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/kube-scheduler"
}
ok: [node1] => {
    "msg": "registry.k8s.io/kube-scheduler"
}
ok: [node2] => {
    "msg": "registry.k8s.io/kube-scheduler"
}
Четверг 20 июля 2023  22:31:37 +0300 (0:00:00.105)       0:11:22.995 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
Четверг 20 июля 2023  22:31:37 +0300 (0:00:00.112)       0:11:23.108 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:37 +0300 (0:00:00.120)       0:11:23.228 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-scheduler_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-scheduler_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-scheduler_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:31:37 +0300 (0:00:00.106)       0:11:23.334 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:31:37 +0300 (0:00:00.110)       0:11:23.444 ********** 
Четверг 20 июля 2023  22:31:37 +0300 (0:00:00.086)       0:11:23.530 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:38 +0300 (0:00:00.108)       0:11:23.639 ********** 
Четверг 20 июля 2023  22:31:38 +0300 (0:00:00.081)       0:11:23.720 ********** 
Четверг 20 июля 2023  22:31:38 +0300 (0:00:00.106)       0:11:23.827 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-scheduler_v1.26.5.tar registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-scheduler_v1.26.5.tar registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-scheduler_v1.26.5.tar registry.k8s.io/kube-scheduler:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:38 +0300 (0:00:00.111)       0:11:23.939 ********** 
Четверг 20 июля 2023  22:31:38 +0300 (0:00:00.082)       0:11:24.021 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:31:38 +0300 (0:00:00.196)       0:11:24.218 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.671274", "end": "2023-07-20 19:31:40.277767", "msg": "", "rc": 0, "start": "2023-07-20 19:31:39.606493", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.635720", "end": "2023-07-20 19:31:40.283883", "msg": "", "rc": 0, "start": "2023-07-20 19:31:39.648163", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.589683", "end": "2023-07-20 19:31:40.307744", "msg": "", "rc": 0, "start": "2023-07-20 19:31:39.718061", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:31:40 +0300 (0:00:01.853)       0:11:26.071 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:31:40 +0300 (0:00:00.122)       0:11:26.193 ********** 
Четверг 20 июля 2023  22:31:40 +0300 (0:00:00.085)       0:11:26.279 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/kube-scheduler:v1.26.5 required is: True"
}
ok: [node1] => {
    "msg": "Pull registry.k8s.io/kube-scheduler:v1.26.5 required is: True"
}
ok: [node2] => {
    "msg": "Pull registry.k8s.io/kube-scheduler:v1.26.5 required is: True"
}
Четверг 20 июля 2023  22:31:40 +0300 (0:00:00.142)       0:11:26.421 ********** 
Четверг 20 июля 2023  22:31:41 +0300 (0:00:00.110)       0:11:26.531 ********** 
Четверг 20 июля 2023  22:31:41 +0300 (0:00:00.081)       0:11:26.613 ********** 
Четверг 20 июля 2023  22:31:41 +0300 (0:00:00.100)       0:11:26.714 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-scheduler:v1.26.5"], "delta": "0:00:02.604723", "end": "2023-07-20 19:31:44.370426", "msg": "", "rc": 0, "start": "2023-07-20 19:31:41.765703", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-scheduler:v1.26.5"], "delta": "0:00:04.238355", "end": "2023-07-20 19:31:46.043980", "msg": "", "rc": 0, "start": "2023-07-20 19:31:41.805625", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-scheduler:v1.26.5"], "delta": "0:00:12.336837", "end": "2023-07-20 19:31:54.086097", "msg": "", "rc": 0, "start": "2023-07-20 19:31:41.749260", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:31:54 +0300 (0:00:12.998)       0:11:39.712 ********** 
Четверг 20 июля 2023  22:31:54 +0300 (0:00:00.049)       0:11:39.761 ********** 
Четверг 20 июля 2023  22:31:54 +0300 (0:00:00.098)       0:11:39.860 ********** 
Четверг 20 июля 2023  22:31:54 +0300 (0:00:00.088)       0:11:39.948 ********** 
Четверг 20 июля 2023  22:31:54 +0300 (0:00:00.080)       0:11:40.029 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-scheduler_v1.26.5.tar", "state": "absent"}
Четверг 20 июля 2023  22:31:56 +0300 (0:00:01.774)       0:11:41.803 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:31:56 +0300 (0:00:00.112)       0:11:41.915 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/kube-proxy"
}
ok: [node1] => {
    "msg": "registry.k8s.io/kube-proxy"
}
ok: [node2] => {
    "msg": "registry.k8s.io/kube-proxy"
}
Четверг 20 июля 2023  22:31:56 +0300 (0:00:00.101)       0:11:42.017 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_by_digest": false}, "changed": false}
Четверг 20 июля 2023  22:31:56 +0300 (0:00:00.126)       0:11:42.143 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_reponame": "registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:56 +0300 (0:00:00.109)       0:11:42.252 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-proxy_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-proxy_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_filename": "registry.k8s.io_kube-proxy_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:31:56 +0300 (0:00:00.100)       0:11:42.353 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar"}, "changed": false}
Четверг 20 июля 2023  22:31:56 +0300 (0:00:00.113)       0:11:42.467 ********** 
Четверг 20 июля 2023  22:31:57 +0300 (0:00:00.099)       0:11:42.566 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:57 +0300 (0:00:00.119)       0:11:42.686 ********** 
Четверг 20 июля 2023  22:31:57 +0300 (0:00:00.088)       0:11:42.775 ********** 
Четверг 20 июля 2023  22:31:57 +0300 (0:00:00.081)       0:11:42.856 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-proxy_v1.26.5.tar registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
ok: [node1] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-proxy_v1.26.5.tar registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
ok: [node2] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_kube-proxy_v1.26.5.tar registry.k8s.io/kube-proxy:v1.26.5"}, "changed": false}
Четверг 20 июля 2023  22:31:57 +0300 (0:00:00.106)       0:11:42.962 ********** 
Четверг 20 июля 2023  22:31:57 +0300 (0:00:00.084)       0:11:43.047 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master, node1, node2
Четверг 20 июля 2023  22:31:57 +0300 (0:00:00.197)       0:11:43.244 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [node1] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.699410", "end": "2023-07-20 19:31:59.809555", "msg": "", "rc": 0, "start": "2023-07-20 19:31:59.110145", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [node2] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.702043", "end": "2023-07-20 19:31:59.823602", "msg": "", "rc": 0, "start": "2023-07-20 19:31:59.121559", "stderr": "", "stderr_lines": [], "stdout": "nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["nginx:1.23.2-alpine,quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.677439", "end": "2023-07-20 19:31:59.871410", "msg": "", "rc": 0, "start": "2023-07-20 19:31:59.193971", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:32:00 +0300 (0:00:02.403)       0:11:45.647 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node1] => {"ansible_facts": {"pull_required": true}, "changed": false}
ok: [node2] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:32:00 +0300 (0:00:00.116)       0:11:45.764 ********** 
Четверг 20 июля 2023  22:32:00 +0300 (0:00:00.199)       0:11:45.964 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/kube-proxy:v1.26.5 required is: True"
}
ok: [node1] => {
    "msg": "Pull registry.k8s.io/kube-proxy:v1.26.5 required is: True"
}
ok: [node2] => {
    "msg": "Pull registry.k8s.io/kube-proxy:v1.26.5 required is: True"
}
Четверг 20 июля 2023  22:32:00 +0300 (0:00:00.120)       0:11:46.085 ********** 
Четверг 20 июля 2023  22:32:00 +0300 (0:00:00.098)       0:11:46.184 ********** 
Четверг 20 июля 2023  22:32:00 +0300 (0:00:00.084)       0:11:46.268 ********** 
Четверг 20 июля 2023  22:32:00 +0300 (0:00:00.110)       0:11:46.378 ********** 

TASK [download : download_container | Download image if required] **************
changed: [node1] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-proxy:v1.26.5"], "delta": "0:00:02.998429", "end": "2023-07-20 19:32:04.424883", "msg": "", "rc": 0, "start": "2023-07-20 19:32:01.426454", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-proxy:v1.26.5"], "delta": "0:00:10.213407", "end": "2023-07-20 19:32:11.649678", "msg": "", "rc": 0, "start": "2023-07-20 19:32:01.436271", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/kube-proxy:v1.26.5"], "delta": "0:00:10.732829", "end": "2023-07-20 19:32:12.226623", "msg": "", "rc": 0, "start": "2023-07-20 19:32:01.493794", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:32:12 +0300 (0:00:11.563)       0:11:57.942 ********** 
Четверг 20 июля 2023  22:32:12 +0300 (0:00:00.052)       0:11:57.994 ********** 
Четверг 20 июля 2023  22:32:12 +0300 (0:00:00.092)       0:11:58.087 ********** 
Четверг 20 июля 2023  22:32:12 +0300 (0:00:00.105)       0:11:58.193 ********** 
Четверг 20 июля 2023  22:32:12 +0300 (0:00:00.087)       0:11:58.280 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [node1] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "state": "absent"}
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_kube-proxy_v1.26.5.tar", "state": "absent"}
Четверг 20 июля 2023  22:32:13 +0300 (0:00:01.201)       0:11:59.482 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:32:14 +0300 (0:00:00.071)       0:11:59.553 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/etcd-io/etcd/releases/download/v3.5.6/etcd-v3.5.6-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:32:14 +0300 (0:00:00.063)       0:11:59.616 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/etcd-v3.5.6-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:32:14 +0300 (0:00:00.062)       0:11:59.679 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:32:15 +0300 (0:00:01.227)       0:12:00.906 ********** 
Четверг 20 июля 2023  22:32:15 +0300 (0:00:00.051)       0:12:00.957 ********** 
Четверг 20 июля 2023  22:32:15 +0300 (0:00:00.064)       0:12:01.022 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:32:17 +0300 (0:00:02.135)       0:12:03.157 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/etcd-io/etcd/releases/download/v3.5.6/etcd-v3.5.6-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:32:17 +0300 (0:00:00.091)       0:12:03.249 ********** 

TASK [download : download_file | Download item] ********************************
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:32:19 +0300 (0:00:01.746)       0:12:04.996 ********** 
Четверг 20 июля 2023  22:32:19 +0300 (0:00:00.062)       0:12:05.058 ********** 
Четверг 20 июля 2023  22:32:19 +0300 (0:00:00.057)       0:12:05.115 ********** 
Четверг 20 июля 2023  22:32:19 +0300 (0:00:00.064)       0:12:05.180 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master
Четверг 20 июля 2023  22:32:19 +0300 (0:00:00.096)       0:12:05.277 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
changed: [master] => {"changed": true, "dest": "/tmp/releases", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases", "-z", "--owner=root", "-f", "/tmp/releases/etcd-v3.5.6-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/etcd-v3.5.6-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:32:24 +0300 (0:00:04.305)       0:12:09.583 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:32:24 +0300 (0:00:00.054)       0:12:09.637 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubectl"
}
Четверг 20 июля 2023  22:32:24 +0300 (0:00:00.055)       0:12:09.692 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/kubectl-v1.26.5-amd64"}, "changed": false}
Четверг 20 июля 2023  22:32:24 +0300 (0:00:00.056)       0:12:09.749 ********** 

TASK [download : download_file | Create dest directory on node] ****************
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:32:25 +0300 (0:00:01.267)       0:12:11.016 ********** 
Четверг 20 июля 2023  22:32:25 +0300 (0:00:00.052)       0:12:11.068 ********** 
Четверг 20 июля 2023  22:32:25 +0300 (0:00:00.083)       0:12:11.152 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:32:27 +0300 (0:00:01.397)       0:12:12.550 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://dl.k8s.io/release/v1.26.5/bin/linux/amd64/kubectl"]}, "changed": false}
Четверг 20 июля 2023  22:32:27 +0300 (0:00:00.086)       0:12:12.636 ********** 

TASK [download : download_file | Download item] ********************************
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:32:30 +0300 (0:00:03.829)       0:12:16.466 ********** 
Четверг 20 июля 2023  22:32:30 +0300 (0:00:00.053)       0:12:16.519 ********** 
Четверг 20 июля 2023  22:32:31 +0300 (0:00:00.056)       0:12:16.575 ********** 
Четверг 20 июля 2023  22:32:31 +0300 (0:00:00.055)       0:12:16.631 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master
Четверг 20 июля 2023  22:32:31 +0300 (0:00:00.087)       0:12:16.718 ********** 
Четверг 20 июля 2023  22:32:31 +0300 (0:00:00.054)       0:12:16.773 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:32:31 +0300 (0:00:00.060)       0:12:16.834 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://github.com/projectcalico/calico/archive/v3.25.1.tar.gz"
}
Четверг 20 июля 2023  22:32:31 +0300 (0:00:00.063)       0:12:16.897 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/v3.25.1.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:32:31 +0300 (0:00:00.062)       0:12:16.959 ********** 

TASK [download : download_file | Create dest directory on node] ****************
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases/calico-v3.25.1-kdd-crds", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:32:32 +0300 (0:00:01.235)       0:12:18.195 ********** 
Четверг 20 июля 2023  22:32:32 +0300 (0:00:00.050)       0:12:18.245 ********** 
Четверг 20 июля 2023  22:32:32 +0300 (0:00:00.064)       0:12:18.310 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:32:34 +0300 (0:00:01.643)       0:12:19.954 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://github.com/projectcalico/calico/archive/v3.25.1.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:32:34 +0300 (0:00:00.080)       0:12:20.034 ********** 

TASK [download : download_file | Download item] ********************************
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:32:38 +0300 (0:00:04.403)       0:12:24.438 ********** 
Четверг 20 июля 2023  22:32:38 +0300 (0:00:00.052)       0:12:24.490 ********** 
Четверг 20 июля 2023  22:32:39 +0300 (0:00:00.059)       0:12:24.549 ********** 
Четверг 20 июля 2023  22:32:39 +0300 (0:00:00.052)       0:12:24.601 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master
Четверг 20 июля 2023  22:32:39 +0300 (0:00:00.089)       0:12:24.691 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
changed: [master] => {"changed": true, "dest": "/tmp/releases/calico-v3.25.1-kdd-crds", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases/calico-v3.25.1-kdd-crds", "-z", "--show-transformed-names", "--strip=3", "--wildcards", "*/libcalico-go/config/crd/", "--owner=root", "-f", "/tmp/releases/calico-v3.25.1-kdd-crds/v3.25.1.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/calico-v3.25.1-kdd-crds/v3.25.1.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:05.920)       0:12:30.611 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.058)       0:12:30.670 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/cpa/cluster-proportional-autoscaler"
}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.053)       0:12:30.723 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.074)       0:12:30.799 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/cpa/cluster-proportional-autoscaler:v1.8.8"}, "changed": false}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.058)       0:12:30.857 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_cpa_cluster-proportional-autoscaler_v1.8.8.tar"}, "changed": false}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.063)       0:12:30.920 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_cpa_cluster-proportional-autoscaler_v1.8.8.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_cpa_cluster-proportional-autoscaler_v1.8.8.tar"}, "changed": false}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.053)       0:12:30.974 ********** 
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.055)       0:12:31.029 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_cpa_cluster-proportional-autoscaler_v1.8.8.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_cpa_cluster-proportional-autoscaler_v1.8.8.tar registry.k8s.io/cpa/cluster-proportional-autoscaler:v1.8.8"}, "changed": false}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.054)       0:12:31.084 ********** 
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.053)       0:12:31.137 ********** 
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.049)       0:12:31.186 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_cpa_cluster-proportional-autoscaler_v1.8.8.tar registry.k8s.io/cpa/cluster-proportional-autoscaler:v1.8.8"}, "changed": false}
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.065)       0:12:31.251 ********** 
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.049)       0:12:31.301 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master
Четверг 20 июля 2023  22:32:45 +0300 (0:00:00.093)       0:12:31.394 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.728669", "end": "2023-07-20 19:32:48.042342", "msg": "", "rc": 0, "start": "2023-07-20 19:32:47.313673", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-proxy:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-proxy:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:32:48 +0300 (0:00:02.338)       0:12:33.733 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:32:48 +0300 (0:00:00.058)       0:12:33.791 ********** 
Четверг 20 июля 2023  22:32:48 +0300 (0:00:00.055)       0:12:33.848 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/cpa/cluster-proportional-autoscaler:v1.8.8 required is: True"
}
Четверг 20 июля 2023  22:32:48 +0300 (0:00:00.058)       0:12:33.906 ********** 
Четверг 20 июля 2023  22:32:48 +0300 (0:00:00.053)       0:12:33.960 ********** 
Четверг 20 июля 2023  22:32:48 +0300 (0:00:00.056)       0:12:34.016 ********** 
Четверг 20 июля 2023  22:32:48 +0300 (0:00:00.079)       0:12:34.095 ********** 

TASK [download : download_container | Download image if required] **************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/cpa/cluster-proportional-autoscaler:v1.8.8"], "delta": "0:00:05.830731", "end": "2023-07-20 19:32:54.816677", "msg": "", "rc": 0, "start": "2023-07-20 19:32:48.985946", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:32:55 +0300 (0:00:06.442)       0:12:40.538 ********** 
Четверг 20 июля 2023  22:32:55 +0300 (0:00:00.046)       0:12:40.585 ********** 
Четверг 20 июля 2023  22:32:55 +0300 (0:00:00.051)       0:12:40.636 ********** 
Четверг 20 июля 2023  22:32:55 +0300 (0:00:00.052)       0:12:40.688 ********** 
Четверг 20 июля 2023  22:32:55 +0300 (0:00:00.062)       0:12:40.751 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_cpa_cluster-proportional-autoscaler_v1.8.8.tar", "state": "absent"}
Четверг 20 июля 2023  22:32:56 +0300 (0:00:01.285)       0:12:42.037 ********** 

TASK [download : prep_download | Set a few facts] ******************************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:32:56 +0300 (0:00:00.067)       0:12:42.104 ********** 

TASK [download : download_file | Starting download of file] ********************
ok: [master] => {
    "msg": "https://get.helm.sh/helm-v3.12.0-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:32:56 +0300 (0:00:00.074)       0:12:42.179 ********** 

TASK [download : download_file | Set pathname of cached file] ******************
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/helm-v3.12.0-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:32:56 +0300 (0:00:00.055)       0:12:42.235 ********** 

TASK [download : download_file | Create dest directory on node] ****************
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases/helm-v3.12.0", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:32:57 +0300 (0:00:01.185)       0:12:43.420 ********** 
Четверг 20 июля 2023  22:32:57 +0300 (0:00:00.052)       0:12:43.473 ********** 
Четверг 20 июля 2023  22:32:58 +0300 (0:00:00.063)       0:12:43.536 ********** 

TASK [download : download_file | Validate mirrors] *****************************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:32:59 +0300 (0:00:01.804)       0:12:45.341 ********** 

TASK [download : download_file | Get the list of working mirrors] **************
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://get.helm.sh/helm-v3.12.0-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:32:59 +0300 (0:00:00.087)       0:12:45.429 ********** 

TASK [download : download_file | Download item] ********************************
changed: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": true}
Четверг 20 июля 2023  22:33:01 +0300 (0:00:01.340)       0:12:46.769 ********** 
Четверг 20 июля 2023  22:33:01 +0300 (0:00:00.060)       0:12:46.830 ********** 
Четверг 20 июля 2023  22:33:01 +0300 (0:00:00.050)       0:12:46.881 ********** 
Четверг 20 июля 2023  22:33:01 +0300 (0:00:00.052)       0:12:46.933 ********** 

TASK [download : download_file | Extract file archives] ************************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master
Четверг 20 июля 2023  22:33:01 +0300 (0:00:00.086)       0:12:47.020 ********** 

TASK [download : extract_file | Unpacking archive] *****************************
changed: [master] => {"changed": true, "dest": "/tmp/releases/helm-v3.12.0", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/tmp/releases/helm-v3.12.0", "-z", "--owner=root", "-f", "/tmp/releases/helm-v3.12.0/helm-v3.12.0-linux-amd64.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/helm-v3.12.0/helm-v3.12.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:06.852)       0:12:53.872 ********** 

TASK [download : set default values for flag variables] ************************
ok: [master] => {"ansible_facts": {"image_changed": false, "image_is_cached": false, "pull_required": false}, "changed": false}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.053)       0:12:53.925 ********** 

TASK [download : set_container_facts | Display the name of the image being processed] ***
ok: [master] => {
    "msg": "registry.k8s.io/metrics-server/metrics-server"
}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.059)       0:12:53.985 ********** 

TASK [download : set_container_facts | Set if containers should be pulled by digest] ***
ok: [master] => {"ansible_facts": {"pull_by_digest": ""}, "changed": false}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.066)       0:12:54.051 ********** 

TASK [download : set_container_facts | Define by what name to pull the image] ***
ok: [master] => {"ansible_facts": {"image_reponame": "registry.k8s.io/metrics-server/metrics-server:v0.6.3"}, "changed": false}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.070)       0:12:54.122 ********** 

TASK [download : set_container_facts | Define file name of image] **************
ok: [master] => {"ansible_facts": {"image_filename": "registry.k8s.io_metrics-server_metrics-server_v0.6.3.tar"}, "changed": false}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.063)       0:12:54.186 ********** 

TASK [download : set_container_facts | Define path of image] *******************
ok: [master] => {"ansible_facts": {"image_path_cached": "/tmp/kubespray_cache/images/registry.k8s.io_metrics-server_metrics-server_v0.6.3.tar", "image_path_final": "/tmp/releases/images/registry.k8s.io_metrics-server_metrics-server_v0.6.3.tar"}, "changed": false}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.075)       0:12:54.261 ********** 
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.054)       0:12:54.316 ********** 

TASK [download : Set image save/load command for containerd] *******************
ok: [master] => {"ansible_facts": {"image_load_command": "/usr/local/bin/nerdctl -n k8s.io image load < /tmp/releases/images/registry.k8s.io_metrics-server_metrics-server_v0.6.3.tar", "image_save_command": "/usr/local/bin/nerdctl -n k8s.io image save -o /tmp/releases/images/registry.k8s.io_metrics-server_metrics-server_v0.6.3.tar registry.k8s.io/metrics-server/metrics-server:v0.6.3"}, "changed": false}
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.072)       0:12:54.389 ********** 
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.061)       0:12:54.450 ********** 
Четверг 20 июля 2023  22:33:08 +0300 (0:00:00.060)       0:12:54.511 ********** 

TASK [download : Set image save/load command for containerd on localhost] ******
ok: [master] => {"ansible_facts": {"image_save_command_on_localhost": "/usr/local/bin/ctr -n k8s.io image export --platform linux/amd64 /tmp/kubespray_cache/images/registry.k8s.io_metrics-server_metrics-server_v0.6.3.tar registry.k8s.io/metrics-server/metrics-server:v0.6.3"}, "changed": false}
Четверг 20 июля 2023  22:33:09 +0300 (0:00:00.069)       0:12:54.580 ********** 
Четверг 20 июля 2023  22:33:09 +0300 (0:00:00.051)       0:12:54.631 ********** 

TASK [download : download_container | Prepare container download] **************
included: /home/antigen/diplom/kubespray/roles/download/tasks/check_pull_required.yml for master
Четверг 20 июля 2023  22:33:09 +0300 (0:00:00.111)       0:12:54.743 ********** 

TASK [download : check_pull_required |  Generate a list of information about the images on a node] ***
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/nerdctl -n k8s.io images --format '{{ .Repository }}:{{ .Tag }}' 2>/dev/null | grep -v ^:$ | tr '\n' ','", "delta": "0:00:00.751447", "end": "2023-07-20 19:33:11.010345", "msg": "", "rc": 0, "start": "2023-07-20 19:33:10.258898", "stderr": "", "stderr_lines": [], "stdout": "quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/cpa/cluster-proportional-autoscaler:v1.8.8,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-proxy:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,", "stdout_lines": ["quay.io/calico/cni:v3.25.1,quay.io/calico/kube-controllers:v3.25.1,quay.io/calico/node:v3.25.1,quay.io/calico/pod2daemon-flexvol:v3.25.1,registry.k8s.io/coredns/coredns:v1.9.3,registry.k8s.io/cpa/cluster-proportional-autoscaler:v1.8.8,registry.k8s.io/dns/k8s-dns-node-cache:1.22.18,registry.k8s.io/kube-apiserver:v1.26.5,registry.k8s.io/kube-controller-manager:v1.26.5,registry.k8s.io/kube-proxy:v1.26.5,registry.k8s.io/kube-scheduler:v1.26.5,registry.k8s.io/pause:3.9,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,<none>:<none>,"]}
Четверг 20 июля 2023  22:33:11 +0300 (0:00:02.055)       0:12:56.798 ********** 

TASK [download : check_pull_required | Set pull_required if the desired image is not yet loaded] ***
ok: [master] => {"ansible_facts": {"pull_required": true}, "changed": false}
Четверг 20 июля 2023  22:33:11 +0300 (0:00:00.058)       0:12:56.857 ********** 
Четверг 20 июля 2023  22:33:11 +0300 (0:00:00.056)       0:12:56.914 ********** 

TASK [download : debug] ********************************************************
ok: [master] => {
    "msg": "Pull registry.k8s.io/metrics-server/metrics-server:v0.6.3 required is: True"
}
Четверг 20 июля 2023  22:33:11 +0300 (0:00:00.057)       0:12:56.971 ********** 
Четверг 20 июля 2023  22:33:11 +0300 (0:00:00.052)       0:12:57.023 ********** 
Четверг 20 июля 2023  22:33:11 +0300 (0:00:00.047)       0:12:57.071 ********** 
Четверг 20 июля 2023  22:33:11 +0300 (0:00:00.062)       0:12:57.134 ********** 

TASK [download : download_container | Download image if required] **************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/nerdctl", "-n", "k8s.io", "pull", "--quiet", "registry.k8s.io/metrics-server/metrics-server:v0.6.3"], "delta": "0:00:09.705466", "end": "2023-07-20 19:33:21.699291", "msg": "", "rc": 0, "start": "2023-07-20 19:33:11.993825", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:33:21 +0300 (0:00:10.226)       0:13:07.361 ********** 
Четверг 20 июля 2023  22:33:21 +0300 (0:00:00.047)       0:13:07.408 ********** 
Четверг 20 июля 2023  22:33:21 +0300 (0:00:00.059)       0:13:07.468 ********** 
Четверг 20 июля 2023  22:33:21 +0300 (0:00:00.059)       0:13:07.528 ********** 
Четверг 20 июля 2023  22:33:22 +0300 (0:00:00.061)       0:13:07.589 ********** 

TASK [download : download_container | Remove container image from cache] *******
ok: [master] => {"changed": false, "path": "/tmp/releases/images/registry.k8s.io_metrics-server_metrics-server_v0.6.3.tar", "state": "absent"}

PLAY [etcd:kube_control_plane] *************************************************
Четверг 20 июля 2023  22:33:23 +0300 (0:00:01.501)       0:13:09.090 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.043)       0:13:09.134 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.052)       0:13:09.187 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.037)       0:13:09.224 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.037)       0:13:09.262 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.038)       0:13:09.301 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.037)       0:13:09.338 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.040)       0:13:09.378 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.033)       0:13:09.412 ********** 
Четверг 20 июля 2023  22:33:23 +0300 (0:00:00.059)       0:13:09.472 ********** 
Четверг 20 июля 2023  22:33:25 +0300 (0:00:01.225)       0:13:10.698 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:33:25 +0300 (0:00:00.106)       0:13:10.804 ********** 
Четверг 20 июля 2023  22:33:25 +0300 (0:00:00.065)       0:13:10.870 ********** 
Четверг 20 июля 2023  22:33:25 +0300 (0:00:00.037)       0:13:10.907 ********** 
Четверг 20 июля 2023  22:33:25 +0300 (0:00:00.043)       0:13:10.951 ********** 
Четверг 20 июля 2023  22:33:25 +0300 (0:00:00.034)       0:13:10.986 ********** 
Четверг 20 июля 2023  22:33:25 +0300 (0:00:00.036)       0:13:11.022 ********** 
Четверг 20 июля 2023  22:33:25 +0300 (0:00:00.042)       0:13:11.064 ********** 

TASK [adduser : User | Create User Group] **************************************
changed: [master] => {"changed": true, "gid": 997, "name": "etcd", "state": "present", "system": true}
Четверг 20 июля 2023  22:33:27 +0300 (0:00:01.883)       0:13:12.948 ********** 

TASK [adduser : User | Create User] ********************************************
changed: [master] => {"changed": true, "comment": "Etcd user", "create_home": false, "group": 997, "home": "/home/etcd", "name": "etcd", "shell": "/sbin/nologin", "state": "present", "system": true, "uid": 997}
Четверг 20 июля 2023  22:33:29 +0300 (0:00:01.861)       0:13:14.810 ********** 

TASK [adduser : User | Create User Group] **************************************
ok: [master] => {"changed": false, "gid": 998, "name": "kube-cert", "state": "present", "system": true}
Четверг 20 июля 2023  22:33:31 +0300 (0:00:01.757)       0:13:16.568 ********** 

TASK [adduser : User | Create User] ********************************************
ok: [master] => {"append": false, "changed": false, "comment": "Kubernetes user", "group": 998, "home": "/home/kube", "move_home": false, "name": "kube", "shell": "/sbin/nologin", "state": "present", "uid": 998}
Четверг 20 июля 2023  22:33:32 +0300 (0:00:01.578)       0:13:18.146 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/check_certs.yml for master
Четверг 20 июля 2023  22:33:32 +0300 (0:00:00.075)       0:13:18.221 ********** 

TASK [etcd : Check_certs | Register certs that have already been generated on first etcd node] ***
ok: [master] => {"changed": false, "examined": 0, "files": [], "matched": 0, "msg": "Not all paths examined, check warnings for details", "skipped_paths": {"/etc/ssl/etcd/ssl": "'/etc/ssl/etcd/ssl' is not a directory"}}
Четверг 20 июля 2023  22:33:33 +0300 (0:00:00.574)       0:13:18.796 ********** 

TASK [etcd : Check_certs | Set default value for 'sync_certs', 'gen_certs' and 'etcd_secret_changed' to false] ***
ok: [master] => {"ansible_facts": {"etcd_secret_changed": false, "gen_certs": false, "sync_certs": false}, "changed": false}
Четверг 20 июля 2023  22:33:33 +0300 (0:00:00.047)       0:13:18.843 ********** 

TASK [etcd : Check certs | Register ca and etcd admin/member certs on etcd hosts] ***
ok: [master] => (item=ca.pem) => {"ansible_loop_var": "item", "changed": false, "item": "ca.pem", "stat": {"exists": false}}
ok: [master] => (item=member-master.pem) => {"ansible_loop_var": "item", "changed": false, "item": "member-master.pem", "stat": {"exists": false}}
ok: [master] => (item=member-master-key.pem) => {"ansible_loop_var": "item", "changed": false, "item": "member-master-key.pem", "stat": {"exists": false}}
ok: [master] => (item=admin-master.pem) => {"ansible_loop_var": "item", "changed": false, "item": "admin-master.pem", "stat": {"exists": false}}
ok: [master] => (item=admin-master-key.pem) => {"ansible_loop_var": "item", "changed": false, "item": "admin-master-key.pem", "stat": {"exists": false}}
Четверг 20 июля 2023  22:33:39 +0300 (0:00:06.618)       0:13:25.462 ********** 

TASK [etcd : Check certs | Register ca and etcd node certs on kubernetes hosts] ***
ok: [master] => (item=ca.pem) => {"ansible_loop_var": "item", "changed": false, "item": "ca.pem", "stat": {"exists": false}}
ok: [master] => (item=node-master.pem) => {"ansible_loop_var": "item", "changed": false, "item": "node-master.pem", "stat": {"exists": false}}
ok: [master] => (item=node-master-key.pem) => {"ansible_loop_var": "item", "changed": false, "item": "node-master-key.pem", "stat": {"exists": false}}
Четверг 20 июля 2023  22:33:44 +0300 (0:00:04.608)       0:13:30.070 ********** 

TASK [etcd : Check_certs | Set 'gen_certs' to true if expected certificates are not on the first etcd node(1/2)] ***
ok: [master] => (item=/etc/ssl/etcd/ssl/ca.pem) => {"ansible_facts": {"gen_certs": true}, "ansible_loop_var": "item", "changed": false, "item": "/etc/ssl/etcd/ssl/ca.pem"}
ok: [master] => (item=/etc/ssl/etcd/ssl/admin-master.pem) => {"ansible_facts": {"gen_certs": true}, "ansible_loop_var": "item", "changed": false, "item": "/etc/ssl/etcd/ssl/admin-master.pem"}
ok: [master] => (item=/etc/ssl/etcd/ssl/admin-master-key.pem) => {"ansible_facts": {"gen_certs": true}, "ansible_loop_var": "item", "changed": false, "item": "/etc/ssl/etcd/ssl/admin-master-key.pem"}
ok: [master] => (item=/etc/ssl/etcd/ssl/member-master.pem) => {"ansible_facts": {"gen_certs": true}, "ansible_loop_var": "item", "changed": false, "item": "/etc/ssl/etcd/ssl/member-master.pem"}
ok: [master] => (item=/etc/ssl/etcd/ssl/member-master-key.pem) => {"ansible_facts": {"gen_certs": true}, "ansible_loop_var": "item", "changed": false, "item": "/etc/ssl/etcd/ssl/member-master-key.pem"}
ok: [master] => (item=/etc/ssl/etcd/ssl/node-master.pem) => {"ansible_facts": {"gen_certs": true}, "ansible_loop_var": "item", "changed": false, "item": "/etc/ssl/etcd/ssl/node-master.pem"}
ok: [master] => (item=/etc/ssl/etcd/ssl/node-master-key.pem) => {"ansible_facts": {"gen_certs": true}, "ansible_loop_var": "item", "changed": false, "item": "/etc/ssl/etcd/ssl/node-master-key.pem"}
Четверг 20 июля 2023  22:33:44 +0300 (0:00:00.209)       0:13:30.280 ********** 
Четверг 20 июля 2023  22:33:44 +0300 (0:00:00.198)       0:13:30.479 ********** 

TASK [etcd : Check_certs | Set 'gen_master_certs' object to track whether member and admin certs exist on first etcd node] ***
ok: [master] => {"ansible_facts": {"gen_master_certs": {"master": true}}, "changed": false}
Четверг 20 июля 2023  22:33:45 +0300 (0:00:00.064)       0:13:30.544 ********** 

TASK [etcd : Check_certs | Set 'gen_node_certs' object to track whether node certs exist on first etcd node] ***
ok: [master] => {"ansible_facts": {"gen_node_certs": {"master": true, "node1": true, "node2": true}}, "changed": false}
Четверг 20 июля 2023  22:33:45 +0300 (0:00:00.063)       0:13:30.608 ********** 

TASK [etcd : Check_certs | Set 'etcd_member_requires_sync' to true if ca or member/admin cert and key don't exist on etcd member or checksum doesn't match] ***
ok: [master] => {"ansible_facts": {"etcd_member_requires_sync": true}, "changed": false}
Четверг 20 июля 2023  22:33:45 +0300 (0:00:00.099)       0:13:30.707 ********** 
Четверг 20 июля 2023  22:33:45 +0300 (0:00:00.041)       0:13:30.749 ********** 

TASK [etcd : Check_certs | Set 'sync_certs' to true] ***************************
ok: [master] => {"ansible_facts": {"sync_certs": true}, "changed": false}
Четверг 20 июля 2023  22:33:45 +0300 (0:00:00.064)       0:13:30.814 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/gen_certs_script.yml for master
Четверг 20 июля 2023  22:33:45 +0300 (0:00:00.086)       0:13:30.901 ********** 

TASK [etcd : Gen_certs | create etcd cert dir] *********************************
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "etcd", "path": "/etc/ssl/etcd/ssl", "size": 4096, "state": "directory", "uid": 997}
Четверг 20 июля 2023  22:33:47 +0300 (0:00:01.765)       0:13:32.666 ********** 

TASK [etcd : Gen_certs | create etcd script dir (on master)] *******************
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/usr/local/bin/etcd-scripts", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:33:48 +0300 (0:00:01.758)       0:13:34.425 ********** 

TASK [etcd : Gen_certs | write openssl config] *********************************
changed: [master] => {"changed": true, "checksum": "1704e9cafc1bb885d38c8645c6a7b7197ee5e02a", "dest": "/etc/ssl/etcd/openssl.conf", "gid": 0, "group": "root", "md5sum": "5bdbe81d0f5831dd91306cda50f9c7a6", "mode": "0640", "owner": "root", "size": 807, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881629.0260959-673672-61582174879246/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:33:50 +0300 (0:00:01.886)       0:13:36.311 ********** 

TASK [etcd : Gen_certs | copy certs generation script] *************************
changed: [master] => {"changed": true, "checksum": "5cc9031b5c0e0c69783d3d5b93d5f5a36152936c", "dest": "/usr/local/bin/etcd-scripts/make-ssl-etcd.sh", "gid": 0, "group": "root", "md5sum": "7c4f6cb299bbe15e7703f1747804f004", "mode": "0700", "owner": "root", "size": 3451, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881630.9748764-673703-136074255103818/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:33:54 +0300 (0:00:03.468)       0:13:39.780 ********** 

TASK [etcd : Gen_certs | run cert generation script for etcd and kube control plane nodes] ***
changed: [master] => {"changed": true, "cmd": ["bash", "-x", "/usr/local/bin/etcd-scripts/make-ssl-etcd.sh", "-f", "/etc/ssl/etcd/openssl.conf", "-d", "/etc/ssl/etcd/ssl"], "delta": "0:00:00.692370", "end": "2023-07-20 19:33:58.234606", "msg": "", "rc": 0, "start": "2023-07-20 19:33:57.542236", "stderr": "+ set -o errexit\n+ set -o pipefail\n+ (( 4 ))\n+ case \"$1\" in\n+ CONFIG=/etc/ssl/etcd/openssl.conf\n+ shift 2\n+ (( 2 ))\n+ case \"$1\" in\n+ SSLDIR=/etc/ssl/etcd/ssl\n+ shift 2\n+ (( 0 ))\n+ '[' -z /etc/ssl/etcd/openssl.conf ']'\n+ '[' -z /etc/ssl/etcd/ssl ']'\n++ mktemp -d /tmp/etcd_cacert.XXXXXX\n+ tmpdir=/tmp/etcd_cacert.laBiHJ\n+ trap 'rm -rf \"${tmpdir}\"' EXIT\n+ cd /tmp/etcd_cacert.laBiHJ\n+ mkdir -p /etc/ssl/etcd/ssl\n+ '[' -e /etc/ssl/etcd/ssl/ca-key.pem ']'\n+ openssl genrsa -out ca-key.pem 2048\n+ openssl req -x509 -new -nodes -key ca-key.pem -days 36500 -out ca.pem -subj /CN=etcd-ca\n+ '[' -n '  master  ' ']'\n+ for host in $MASTERS\n+ cn=master\n+ openssl genrsa -out member-master-key.pem 2048\n+ openssl req -new -key member-master-key.pem -out member-master.csr -subj /CN=etcd-member-master -config /etc/ssl/etcd/openssl.conf\n+ openssl x509 -req -in member-master.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out member-master.pem -days 36500 -extensions ssl_client -extfile /etc/ssl/etcd/openssl.conf\n+ openssl genrsa -out admin-master-key.pem 2048\n+ openssl req -new -key admin-master-key.pem -out admin-master.csr -subj /CN=etcd-admin-master\n+ openssl x509 -req -in admin-master.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out admin-master.pem -days 36500 -extensions ssl_client -extfile /etc/ssl/etcd/openssl.conf\n+ '[' -n '  master  ' ']'\n+ for host in $HOSTS\n+ cn=master\n+ openssl genrsa -out node-master-key.pem 2048\n+ openssl req -new -key node-master-key.pem -out node-master.csr -subj /CN=etcd-node-master\n+ openssl x509 -req -in node-master.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out node-master.pem -days 36500 -extensions ssl_client -extfile /etc/ssl/etcd/openssl.conf\n+ '[' -e /etc/ssl/etcd/ssl/ca-key.pem ']'\n++ ls -A admin-master-key.pem admin-master.pem ca-key.pem ca.pem member-master-key.pem member-master.pem node-master-key.pem node-master.pem\n+ '[' -n 'admin-master-key.pem\nadmin-master.pem\nca-key.pem\nca.pem\nmember-master-key.pem\nmember-master.pem\nnode-master-key.pem\nnode-master.pem' ']'\n+ mv admin-master-key.pem admin-master.pem ca-key.pem ca.pem member-master-key.pem member-master.pem node-master-key.pem node-master.pem /etc/ssl/etcd/ssl/\n+ rm -rf /tmp/etcd_cacert.laBiHJ", "stderr_lines": ["+ set -o errexit", "+ set -o pipefail", "+ (( 4 ))", "+ case \"$1\" in", "+ CONFIG=/etc/ssl/etcd/openssl.conf", "+ shift 2", "+ (( 2 ))", "+ case \"$1\" in", "+ SSLDIR=/etc/ssl/etcd/ssl", "+ shift 2", "+ (( 0 ))", "+ '[' -z /etc/ssl/etcd/openssl.conf ']'", "+ '[' -z /etc/ssl/etcd/ssl ']'", "++ mktemp -d /tmp/etcd_cacert.XXXXXX", "+ tmpdir=/tmp/etcd_cacert.laBiHJ", "+ trap 'rm -rf \"${tmpdir}\"' EXIT", "+ cd /tmp/etcd_cacert.laBiHJ", "+ mkdir -p /etc/ssl/etcd/ssl", "+ '[' -e /etc/ssl/etcd/ssl/ca-key.pem ']'", "+ openssl genrsa -out ca-key.pem 2048", "+ openssl req -x509 -new -nodes -key ca-key.pem -days 36500 -out ca.pem -subj /CN=etcd-ca", "+ '[' -n '  master  ' ']'", "+ for host in $MASTERS", "+ cn=master", "+ openssl genrsa -out member-master-key.pem 2048", "+ openssl req -new -key member-master-key.pem -out member-master.csr -subj /CN=etcd-member-master -config /etc/ssl/etcd/openssl.conf", "+ openssl x509 -req -in member-master.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out member-master.pem -days 36500 -extensions ssl_client -extfile /etc/ssl/etcd/openssl.conf", "+ openssl genrsa -out admin-master-key.pem 2048", "+ openssl req -new -key admin-master-key.pem -out admin-master.csr -subj /CN=etcd-admin-master", "+ openssl x509 -req -in admin-master.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out admin-master.pem -days 36500 -extensions ssl_client -extfile /etc/ssl/etcd/openssl.conf", "+ '[' -n '  master  ' ']'", "+ for host in $HOSTS", "+ cn=master", "+ openssl genrsa -out node-master-key.pem 2048", "+ openssl req -new -key node-master-key.pem -out node-master.csr -subj /CN=etcd-node-master", "+ openssl x509 -req -in node-master.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out node-master.pem -days 36500 -extensions ssl_client -extfile /etc/ssl/etcd/openssl.conf", "+ '[' -e /etc/ssl/etcd/ssl/ca-key.pem ']'", "++ ls -A admin-master-key.pem admin-master.pem ca-key.pem ca.pem member-master-key.pem member-master.pem node-master-key.pem node-master.pem", "+ '[' -n 'admin-master-key.pem", "admin-master.pem", "ca-key.pem", "ca.pem", "member-master-key.pem", "member-master.pem", "node-master-key.pem", "node-master.pem' ']'", "+ mv admin-master-key.pem admin-master.pem ca-key.pem ca.pem member-master-key.pem member-master.pem node-master-key.pem node-master.pem /etc/ssl/etcd/ssl/", "+ rm -rf /tmp/etcd_cacert.laBiHJ"], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:33:58 +0300 (0:00:04.139)       0:13:43.920 ********** 
Четверг 20 июля 2023  22:33:58 +0300 (0:00:00.077)       0:13:43.997 ********** 
Четверг 20 июля 2023  22:33:58 +0300 (0:00:00.155)       0:13:44.153 ********** 
Четверг 20 июля 2023  22:33:58 +0300 (0:00:00.178)       0:13:44.332 ********** 
Четверг 20 июля 2023  22:33:58 +0300 (0:00:00.100)       0:13:44.433 ********** 
Четверг 20 июля 2023  22:33:59 +0300 (0:00:00.104)       0:13:44.537 ********** 
Четверг 20 июля 2023  22:33:59 +0300 (0:00:00.040)       0:13:44.577 ********** 
Четверг 20 июля 2023  22:33:59 +0300 (0:00:00.040)       0:13:44.618 ********** 

TASK [etcd : Gen_certs | check certificate permissions] ************************
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "etcd", "path": "/etc/ssl/etcd/ssl", "size": 4096, "state": "directory", "uid": 997}
Четверг 20 июля 2023  22:34:00 +0300 (0:00:01.518)       0:13:46.137 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/upd_ca_trust.yml for master
Четверг 20 июля 2023  22:34:00 +0300 (0:00:00.074)       0:13:46.211 ********** 

TASK [etcd : Gen_certs | target ca-certificate store file] *********************
ok: [master] => {"ansible_facts": {"ca_cert_path": "/usr/local/share/ca-certificates/etcd-ca.crt"}, "changed": false}
Четверг 20 июля 2023  22:34:00 +0300 (0:00:00.052)       0:13:46.264 ********** 

TASK [etcd : Gen_certs | add CA to trusted CA dir] *****************************
changed: [master] => {"changed": true, "checksum": "57534ba9a5b4511ed108503b3f69e5da4849a450", "dest": "/usr/local/share/ca-certificates/etcd-ca.crt", "gid": 0, "group": "root", "md5sum": "a12eb5c2b97b1220e88c1fde607114d9", "mode": "0640", "owner": "root", "size": 1111, "src": "/etc/ssl/etcd/ssl/ca.pem", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:34:02 +0300 (0:00:02.233)       0:13:48.497 ********** 

TASK [etcd : Gen_certs | update ca-certificates (Debian/Ubuntu/SUSE/Flatcar)] ***
changed: [master] => {"changed": true, "cmd": ["update-ca-certificates"], "delta": "0:00:01.080969", "end": "2023-07-20 19:34:05.585051", "msg": "", "rc": 0, "start": "2023-07-20 19:34:04.504082", "stderr": "rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL", "stderr_lines": ["rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL"], "stdout": "Updating certificates in /etc/ssl/certs...\n1 added, 0 removed; done.\nRunning hooks in /etc/ca-certificates/update.d...\ndone.", "stdout_lines": ["Updating certificates in /etc/ssl/certs...", "1 added, 0 removed; done.", "Running hooks in /etc/ca-certificates/update.d...", "done."]}
Четверг 20 июля 2023  22:34:05 +0300 (0:00:02.951)       0:13:51.449 ********** 
Четверг 20 июля 2023  22:34:05 +0300 (0:00:00.031)       0:13:51.481 ********** 
Четверг 20 июля 2023  22:34:05 +0300 (0:00:00.032)       0:13:51.514 ********** 
Четверг 20 июля 2023  22:34:06 +0300 (0:00:00.039)       0:13:51.553 ********** 
Четверг 20 июля 2023  22:34:06 +0300 (0:00:00.038)       0:13:51.591 ********** 
Четверг 20 июля 2023  22:34:06 +0300 (0:00:00.043)       0:13:51.635 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/install_host.yml for master
Четверг 20 июля 2023  22:34:06 +0300 (0:00:00.069)       0:13:51.705 ********** 

TASK [etcd : Get currently-deployed etcd version] ******************************
fatal: [master]: FAILED! => {"changed": false, "cmd": "/usr/local/bin/etcd --version", "msg": "[Errno 2] No such file or directory: b'/usr/local/bin/etcd'", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
...ignoring
Четверг 20 июля 2023  22:34:07 +0300 (0:00:01.636)       0:13:53.341 ********** 

TASK [etcd : Restart etcd if necessary] ****************************************
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.005878", "end": "2023-07-20 19:34:09.179564", "msg": "", "rc": 0, "start": "2023-07-20 19:34:09.173686", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:34:09 +0300 (0:00:01.647)       0:13:54.988 ********** 
Четверг 20 июля 2023  22:34:09 +0300 (0:00:00.034)       0:13:55.023 ********** 

TASK [etcd : install | Copy etcd and etcdctl binary from download dir] *********
changed: [master] => (item=etcd) => {"ansible_loop_var": "item", "changed": true, "checksum": "e45541850ab48d1a671ed0777069192363200848", "dest": "/usr/local/bin/etcd", "gid": 0, "group": "root", "item": "etcd", "md5sum": "3c560415fad20c544e0c7a582f2ed803", "mode": "0755", "owner": "root", "size": 23691264, "src": "/tmp/releases/etcd-v3.5.6-linux-amd64/etcd", "state": "file", "uid": 0}
changed: [master] => (item=etcdctl) => {"ansible_loop_var": "item", "changed": true, "checksum": "7567314d685f42882defece640d19b4ebf537723", "dest": "/usr/local/bin/etcdctl", "gid": 0, "group": "root", "item": "etcdctl", "md5sum": "f8005b54ef9149377112661d00cba672", "mode": "0755", "owner": "root", "size": 17891328, "src": "/tmp/releases/etcd-v3.5.6-linux-amd64/etcdctl", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:34:12 +0300 (0:00:02.595)       0:13:57.620 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/configure.yml for master
Четверг 20 июля 2023  22:34:12 +0300 (0:00:00.082)       0:13:57.702 ********** 

TASK [etcd : Configure | Check if etcd cluster is healthy] *********************
ok: [master] => {"changed": false, "cmd": "set -o pipefail && /usr/local/bin/etcdctl endpoint --cluster status && /usr/local/bin/etcdctl endpoint --cluster health  2>&1 | grep -v 'Error: unhealthy cluster' >/dev/null", "delta": "0:00:05.031161", "end": "2023-07-20 19:34:18.250595", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:34:13.219434", "stderr": "{\"level\":\"warn\",\"ts\":\"2023-07-20T19:34:18.248Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.6/retry_interceptor.go:62\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc00035cc40/192.168.20.29:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = latest balancer error: last connection error: connection error: desc = \\\"transport: Error while dialing dial tcp 192.168.20.29:2379: connect: connection refused\\\"\"}\nError: failed to fetch endpoints from etcd cluster member list: context deadline exceeded", "stderr_lines": ["{\"level\":\"warn\",\"ts\":\"2023-07-20T19:34:18.248Z\",\"logger\":\"etcd-client\",\"caller\":\"v3@v3.5.6/retry_interceptor.go:62\",\"msg\":\"retrying of unary invoker failed\",\"target\":\"etcd-endpoints://0xc00035cc40/192.168.20.29:2379\",\"attempt\":0,\"error\":\"rpc error: code = DeadlineExceeded desc = latest balancer error: last connection error: connection error: desc = \\\"transport: Error while dialing dial tcp 192.168.20.29:2379: connect: connection refused\\\"\"}", "Error: failed to fetch endpoints from etcd cluster member list: context deadline exceeded"], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:34:18 +0300 (0:00:06.313)       0:14:04.016 ********** 
Четверг 20 июля 2023  22:34:18 +0300 (0:00:00.039)       0:14:04.055 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/refresh_config.yml for master
Четверг 20 июля 2023  22:34:18 +0300 (0:00:00.063)       0:14:04.119 ********** 

TASK [etcd : Refresh config | Create etcd config file] *************************
changed: [master] => {"changed": true, "checksum": "9c63f217196e065ac61aef65213d67992b3544f7", "dest": "/etc/etcd.env", "gid": 0, "group": "root", "md5sum": "7bfba555a2e49c03bf17a53ab1c7d46b", "mode": "0640", "owner": "root", "size": 1402, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881658.8307602-674410-197972996791320/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:34:22 +0300 (0:00:03.669)       0:14:07.788 ********** 
Четверг 20 июля 2023  22:34:22 +0300 (0:00:00.039)       0:14:07.827 ********** 

TASK [etcd : Configure | Copy etcd.service systemd file] ***********************
changed: [master] => {"changed": true, "checksum": "78add367e36c0813fb5975903c6cd7e211e369cc", "dest": "/etc/systemd/system/etcd.service", "gid": 0, "group": "root", "md5sum": "c68c2e2b67ef4530e84563f2154f5f47", "mode": "0644", "owner": "root", "size": 241, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881662.5509896-674522-46660709635945/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:34:25 +0300 (0:00:03.444)       0:14:11.272 ********** 
Четверг 20 июля 2023  22:34:25 +0300 (0:00:00.038)       0:14:11.310 ********** 

TASK [etcd : Configure | reload systemd] ***************************************
ok: [master] => {"changed": false, "name": null, "status": {}}
Четверг 20 июля 2023  22:34:27 +0300 (0:00:01.727)       0:14:13.038 ********** 

TASK [etcd : Configure | Ensure etcd is running] *******************************
changed: [master] => {"changed": true, "enabled": true, "name": "etcd", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "systemd-journald.socket sysinit.target basic.target network.target system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "etcd", "DevicePolicy": "auto", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/etcd.env (ignore_errors=no)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/etcd ; argv[]=/usr/local/bin/etcd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/etcd ; argv[]=/usr/local/bin/etcd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/etcd.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "etcd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "40000", "LimitNOFILESoft": "40000", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "etcd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "all", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestampMonotonic": "0", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "User": "root", "UtmpMode": "init", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:34:29 +0300 (0:00:02.398)       0:14:15.436 ********** 
Четверг 20 июля 2023  22:34:29 +0300 (0:00:00.036)       0:14:15.473 ********** 

TASK [etcd : Configure | Wait for etcd cluster to be healthy] ******************
ok: [master] => {"attempts": 1, "changed": false, "cmd": "set -o pipefail && /usr/local/bin/etcdctl endpoint --cluster status && /usr/local/bin/etcdctl endpoint --cluster health 2>&1 | grep -v 'Error: unhealthy cluster' >/dev/null", "delta": "0:00:00.136083", "end": "2023-07-20 19:34:31.152395", "msg": "", "rc": 0, "start": "2023-07-20 19:34:31.016312", "stderr": "", "stderr_lines": [], "stdout": "https://192.168.20.29:2379, ff401b10ceec38c2, 3.5.6, 20 kB, true, false, 2, 4, 4, ", "stdout_lines": ["https://192.168.20.29:2379, ff401b10ceec38c2, 3.5.6, 20 kB, true, false, 2, 4, 4, "]}
Четверг 20 июля 2023  22:34:31 +0300 (0:00:01.401)       0:14:16.874 ********** 
Четверг 20 июля 2023  22:34:31 +0300 (0:00:00.042)       0:14:16.917 ********** 

TASK [etcd : Configure | Check if member is in etcd cluster] *******************
ok: [master] => {"changed": false, "cmd": "/usr/local/bin/etcdctl member list | grep -q 192.168.20.29", "delta": "0:00:00.042508", "end": "2023-07-20 19:34:32.431323", "msg": "", "rc": 0, "start": "2023-07-20 19:34:32.388815", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:34:32 +0300 (0:00:01.292)       0:14:18.209 ********** 
Четверг 20 июля 2023  22:34:32 +0300 (0:00:00.038)       0:14:18.248 ********** 
Четверг 20 июля 2023  22:34:32 +0300 (0:00:00.042)       0:14:18.291 ********** 
Четверг 20 июля 2023  22:34:32 +0300 (0:00:00.043)       0:14:18.334 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/refresh_config.yml for master
Четверг 20 июля 2023  22:34:32 +0300 (0:00:00.075)       0:14:18.410 ********** 

TASK [etcd : Refresh config | Create etcd config file] *************************
changed: [master] => {"changed": true, "checksum": "ed3a0a3d868ed40bf12be0711eed98eb7dbc8d09", "dest": "/etc/etcd.env", "gid": 0, "group": "root", "md5sum": "34ce05c2ff720a069c299fbacc0f69de", "mode": "0640", "owner": "root", "size": 1407, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881673.0257804-674817-260951352232360/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:34:35 +0300 (0:00:02.857)       0:14:21.268 ********** 
Четверг 20 июля 2023  22:34:35 +0300 (0:00:00.041)       0:14:21.309 ********** 
Четверг 20 июля 2023  22:34:35 +0300 (0:00:00.046)       0:14:21.355 ********** 
Четверг 20 июля 2023  22:34:35 +0300 (0:00:00.045)       0:14:21.401 ********** 

TASK [etcd : include_tasks] ****************************************************
included: /home/antigen/diplom/kubespray/roles/etcd/tasks/refresh_config.yml for master
Четверг 20 июля 2023  22:34:35 +0300 (0:00:00.093)       0:14:21.494 ********** 

TASK [etcd : Refresh config | Create etcd config file] *************************
ok: [master] => {"changed": false, "checksum": "ed3a0a3d868ed40bf12be0711eed98eb7dbc8d09", "dest": "/etc/etcd.env", "gid": 0, "group": "root", "mode": "0640", "owner": "root", "path": "/etc/etcd.env", "size": 1407, "state": "file", "uid": 0}
Четверг 20 июля 2023  22:34:37 +0300 (0:00:02.027)       0:14:23.522 ********** 
Четверг 20 июля 2023  22:34:38 +0300 (0:00:00.050)       0:14:23.572 ********** 

RUNNING HANDLER [etcd : restart etcd] ******************************************
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004188", "end": "2023-07-20 19:34:38.970663", "msg": "", "rc": 0, "start": "2023-07-20 19:34:38.966475", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:34:39 +0300 (0:00:01.093)       0:14:24.665 ********** 

RUNNING HANDLER [etcd : Backup etcd data] **************************************
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004237", "end": "2023-07-20 19:34:40.151066", "msg": "", "rc": 0, "start": "2023-07-20 19:34:40.146829", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:34:40 +0300 (0:00:01.195)       0:14:25.860 ********** 

RUNNING HANDLER [etcd : Refresh Time Fact] *************************************
ok: [master]
Четверг 20 июля 2023  22:34:42 +0300 (0:00:02.061)       0:14:27.922 ********** 

RUNNING HANDLER [etcd : Set Backup Directory] **********************************
ok: [master] => {"ansible_facts": {"etcd_backup_directory": "/var/backups/etcd-2023-07-20_19:34:41"}, "changed": false}
Четверг 20 июля 2023  22:34:42 +0300 (0:00:00.054)       0:14:27.977 ********** 

RUNNING HANDLER [etcd : Create Backup Directory] *******************************
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0600", "owner": "root", "path": "/var/backups/etcd-2023-07-20_19:34:41", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:34:43 +0300 (0:00:01.265)       0:14:29.242 ********** 

RUNNING HANDLER [etcd : Stat etcd v2 data directory] ***************************
ok: [master] => {"changed": false, "stat": {"atime": 1689881669.1145842, "block_size": 4096, "blocks": 8, "ctime": 1689881669.1465843, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 404752, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mode": "0700", "mtime": 1689881669.1465843, "nlink": 4, "path": "/var/lib/etcd/member", "pw_name": "root", "readable": true, "rgrp": false, "roth": false, "rusr": true, "size": 4096, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": true}}
Четверг 20 июля 2023  22:34:44 +0300 (0:00:01.235)       0:14:30.477 ********** 

RUNNING HANDLER [etcd : Backup etcd v2 data] ***********************************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/etcdctl", "backup", "--data-dir", "/var/lib/etcd", "--backup-dir", "/var/backups/etcd-2023-07-20_19:34:41"], "delta": "0:00:00.051097", "end": "2023-07-20 19:34:46.335846", "msg": "", "rc": 0, "start": "2023-07-20 19:34:46.284749", "stderr": "2023-07-20T19:34:46Z\tinfo\tetcdutl/backup_command.go:216\tignoring EntryConfChange raft entry\n2023-07-20T19:34:46Z\tinfo\tetcdutl/backup_command.go:231\tignoring member attribute update on\t{\"entry\": \"Term:2 Index:3 Data:\\\"\\\\010\\\\202\\\\276\\\\270\\\\337\\\\314\\\\256\\\\242\\\\3418\\\\022\\\\003PUT\\\\032&/0/members/ff401b10ceec38c2/attributes\\\\\\\"<{\\\\\\\"name\\\\\\\":\\\\\\\"etcd1\\\\\\\",\\\\\\\"clientURLs\\\\\\\":[\\\\\\\"https://192.168.20.29:2379\\\\\\\"]}(\\\\0002\\\\0008\\\\000H\\\\000P\\\\000X\\\\000`\\\\000h\\\\000p\\\\000x\\\\000\\\\200\\\\001\\\\000\\\" \", \"v2Req.Path\": \"/0/members/ff401b10ceec38c2/attributes\"}\n2023-07-20T19:34:46Z\tinfo\tetcdutl/backup_command.go:252\tignoring v3 raft entry\n2023-07-20T19:34:46Z\tinfo\tmembership/store.go:141\tTrimming membership information from the backend...", "stderr_lines": ["2023-07-20T19:34:46Z\tinfo\tetcdutl/backup_command.go:216\tignoring EntryConfChange raft entry", "2023-07-20T19:34:46Z\tinfo\tetcdutl/backup_command.go:231\tignoring member attribute update on\t{\"entry\": \"Term:2 Index:3 Data:\\\"\\\\010\\\\202\\\\276\\\\270\\\\337\\\\314\\\\256\\\\242\\\\3418\\\\022\\\\003PUT\\\\032&/0/members/ff401b10ceec38c2/attributes\\\\\\\"<{\\\\\\\"name\\\\\\\":\\\\\\\"etcd1\\\\\\\",\\\\\\\"clientURLs\\\\\\\":[\\\\\\\"https://192.168.20.29:2379\\\\\\\"]}(\\\\0002\\\\0008\\\\000H\\\\000P\\\\000X\\\\000`\\\\000h\\\\000p\\\\000x\\\\000\\\\200\\\\001\\\\000\\\" \", \"v2Req.Path\": \"/0/members/ff401b10ceec38c2/attributes\"}", "2023-07-20T19:34:46Z\tinfo\tetcdutl/backup_command.go:252\tignoring v3 raft entry", "2023-07-20T19:34:46Z\tinfo\tmembership/store.go:141\tTrimming membership information from the backend..."], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:34:46 +0300 (0:00:01.567)       0:14:32.045 ********** 

RUNNING HANDLER [etcd : Backup etcd v3 data] ***********************************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/etcdctl", "snapshot", "save", "/var/backups/etcd-2023-07-20_19:34:41/snapshot.db"], "delta": "0:00:00.063188", "end": "2023-07-20 19:34:48.025308", "msg": "", "rc": 0, "start": "2023-07-20 19:34:47.962120", "stderr": "{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:47.987Z\",\"caller\":\"snapshot/v3_snapshot.go:65\",\"msg\":\"created temporary db file\",\"path\":\"/var/backups/etcd-2023-07-20_19:34:41/snapshot.db.part\"}\n{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.001Z\",\"logger\":\"client\",\"caller\":\"v3@v3.5.6/maintenance.go:212\",\"msg\":\"opened snapshot stream; downloading\"}\n{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.001Z\",\"caller\":\"snapshot/v3_snapshot.go:73\",\"msg\":\"fetching snapshot\",\"endpoint\":\"https://192.168.20.29:2379\"}\n{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.014Z\",\"logger\":\"client\",\"caller\":\"v3@v3.5.6/maintenance.go:220\",\"msg\":\"completed snapshot read; closing\"}\n{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.023Z\",\"caller\":\"snapshot/v3_snapshot.go:88\",\"msg\":\"fetched snapshot\",\"endpoint\":\"https://192.168.20.29:2379\",\"size\":\"20 kB\",\"took\":\"now\"}\n{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.023Z\",\"caller\":\"snapshot/v3_snapshot.go:97\",\"msg\":\"saved\",\"path\":\"/var/backups/etcd-2023-07-20_19:34:41/snapshot.db\"}", "stderr_lines": ["{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:47.987Z\",\"caller\":\"snapshot/v3_snapshot.go:65\",\"msg\":\"created temporary db file\",\"path\":\"/var/backups/etcd-2023-07-20_19:34:41/snapshot.db.part\"}", "{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.001Z\",\"logger\":\"client\",\"caller\":\"v3@v3.5.6/maintenance.go:212\",\"msg\":\"opened snapshot stream; downloading\"}", "{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.001Z\",\"caller\":\"snapshot/v3_snapshot.go:73\",\"msg\":\"fetching snapshot\",\"endpoint\":\"https://192.168.20.29:2379\"}", "{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.014Z\",\"logger\":\"client\",\"caller\":\"v3@v3.5.6/maintenance.go:220\",\"msg\":\"completed snapshot read; closing\"}", "{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.023Z\",\"caller\":\"snapshot/v3_snapshot.go:88\",\"msg\":\"fetched snapshot\",\"endpoint\":\"https://192.168.20.29:2379\",\"size\":\"20 kB\",\"took\":\"now\"}", "{\"level\":\"info\",\"ts\":\"2023-07-20T19:34:48.023Z\",\"caller\":\"snapshot/v3_snapshot.go:97\",\"msg\":\"saved\",\"path\":\"/var/backups/etcd-2023-07-20_19:34:41/snapshot.db\"}"], "stdout": "Snapshot saved at /var/backups/etcd-2023-07-20_19:34:41/snapshot.db", "stdout_lines": ["Snapshot saved at /var/backups/etcd-2023-07-20_19:34:41/snapshot.db"]}
Четверг 20 июля 2023  22:34:48 +0300 (0:00:01.768)       0:14:33.813 ********** 

RUNNING HANDLER [etcd : etcd | reload systemd] *********************************
ok: [master] => {"changed": false, "name": null, "status": {}}
Четверг 20 июля 2023  22:34:50 +0300 (0:00:02.289)       0:14:36.103 ********** 

RUNNING HANDLER [etcd : reload etcd] *******************************************
changed: [master] => {"changed": true, "name": "etcd", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:34:29 UTC", "ActiveEnterTimestampMonotonic": "2807277323", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "system.slice network.target systemd-journald.socket basic.target sysinit.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:34:29 UTC", "AssertTimestampMonotonic": "2806683514", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:34:29 UTC", "ConditionTimestampMonotonic": "2806683513", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/etcd.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "etcd", "DevicePolicy": "auto", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/etcd.env (ignore_errors=no)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "15036", "ExecMainStartTimestamp": "Thu 2023-07-20 19:34:29 UTC", "ExecMainStartTimestampMonotonic": "2806685779", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/etcd ; argv[]=/usr/local/bin/etcd ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/etcd ; argv[]=/usr/local/bin/etcd ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/etcd.service", "GID": "0", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "etcd.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Thu 2023-07-20 19:34:29 UTC", "InactiveExitTimestampMonotonic": "2806686370", "InvocationID": "69a31d5ea4f64ea4b41e5d837cc6321f", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "40000", "LimitNOFILESoft": "40000", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "15036", "MemoryAccounting": "yes", "MemoryCurrent": "10031104", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "etcd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "all", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:34:29 UTC", "StateChangeTimestampMonotonic": "2807277323", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "7", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "0", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "User": "root", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:35:01 +0300 (0:00:10.563)       0:14:46.667 ********** 

RUNNING HANDLER [etcd : wait for etcd up] **************************************
ok: [master] => {"access_control_allow_headers": "accept, content-type, authorization", "access_control_allow_methods": "POST, GET, OPTIONS, PUT, DELETE", "access_control_allow_origin": "*", "attempts": 1, "changed": false, "connection": "close", "content_length": "29", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:35:02 GMT", "elapsed": 0, "json": {"health": "true", "reason": ""}, "msg": "OK (29 bytes)", "redirected": false, "status": 200, "url": "https://192.168.20.29:2379/health"}
Четверг 20 июля 2023  22:35:02 +0300 (0:00:01.814)       0:14:48.481 ********** 

RUNNING HANDLER [etcd : Cleanup etcd backups] **********************************
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004113", "end": "2023-07-20 19:35:04.438289", "msg": "", "rc": 0, "start": "2023-07-20 19:35:04.434176", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:35:04 +0300 (0:00:01.716)       0:14:50.198 ********** 
Четверг 20 июля 2023  22:35:04 +0300 (0:00:00.040)       0:14:50.239 ********** 

RUNNING HANDLER [etcd : set etcd_secret_changed] *******************************
ok: [master] => {"ansible_facts": {"etcd_secret_changed": true}, "changed": false}

PLAY [k8s_cluster] *************************************************************
Четверг 20 июля 2023  22:35:04 +0300 (0:00:00.112)       0:14:50.351 ********** 
Четверг 20 июля 2023  22:35:04 +0300 (0:00:00.082)       0:14:50.433 ********** 
Четверг 20 июля 2023  22:35:04 +0300 (0:00:00.037)       0:14:50.471 ********** 
Четверг 20 июля 2023  22:35:04 +0300 (0:00:00.036)       0:14:50.508 ********** 
Четверг 20 июля 2023  22:35:05 +0300 (0:00:00.085)       0:14:50.594 ********** 
Четверг 20 июля 2023  22:35:05 +0300 (0:00:00.093)       0:14:50.687 ********** 
Четверг 20 июля 2023  22:35:05 +0300 (0:00:00.086)       0:14:50.773 ********** 
Четверг 20 июля 2023  22:35:05 +0300 (0:00:00.095)       0:14:50.868 ********** 
Четверг 20 июля 2023  22:35:05 +0300 (0:00:00.035)       0:14:50.904 ********** 
Четверг 20 июля 2023  22:35:05 +0300 (0:00:00.086)       0:14:50.990 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:01.565)       0:14:52.556 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node1] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node2] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.149)       0:14:52.706 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.059)       0:14:52.765 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.035)       0:14:52.801 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.088)       0:14:52.889 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.036)       0:14:52.926 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.086)       0:14:53.012 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.114)       0:14:53.127 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.100)       0:14:53.227 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.120)       0:14:53.348 ********** 
Четверг 20 июля 2023  22:35:07 +0300 (0:00:00.083)       0:14:53.432 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.120)       0:14:53.552 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.079)       0:14:53.632 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.091)       0:14:53.724 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.103)       0:14:53.827 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.093)       0:14:53.921 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.101)       0:14:54.023 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.101)       0:14:54.125 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.106)       0:14:54.231 ********** 
Четверг 20 июля 2023  22:35:08 +0300 (0:00:00.230)       0:14:54.462 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.087)       0:14:54.549 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.082)       0:14:54.632 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.102)       0:14:54.735 ********** 

PLAY [k8s_cluster] *************************************************************
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.205)       0:14:54.940 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.089)       0:14:55.030 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.040)       0:14:55.071 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.037)       0:14:55.108 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.100)       0:14:55.208 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.075)       0:14:55.284 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.079)       0:14:55.363 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.094)       0:14:55.457 ********** 
Четверг 20 июля 2023  22:35:09 +0300 (0:00:00.036)       0:14:55.493 ********** 
Четверг 20 июля 2023  22:35:10 +0300 (0:00:00.085)       0:14:55.579 ********** 
Четверг 20 июля 2023  22:35:11 +0300 (0:00:01.596)       0:14:57.176 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node1] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node2] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:35:11 +0300 (0:00:00.134)       0:14:57.311 ********** 
Четверг 20 июля 2023  22:35:11 +0300 (0:00:00.059)       0:14:57.370 ********** 
Четверг 20 июля 2023  22:35:11 +0300 (0:00:00.036)       0:14:57.407 ********** 
Четверг 20 июля 2023  22:35:11 +0300 (0:00:00.085)       0:14:57.492 ********** 
Четверг 20 июля 2023  22:35:11 +0300 (0:00:00.035)       0:14:57.527 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.080)       0:14:57.607 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.116)       0:14:57.724 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.072)       0:14:57.797 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.071)       0:14:57.868 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.071)       0:14:57.940 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.077)       0:14:58.017 ********** 

TASK [kubernetes/node : set kubelet_cgroup_driver_detected fact for containerd] ***
ok: [master] => {"ansible_facts": {"kubelet_cgroup_driver_detected": "systemd"}, "changed": false}
ok: [node1] => {"ansible_facts": {"kubelet_cgroup_driver_detected": "systemd"}, "changed": false}
ok: [node2] => {"ansible_facts": {"kubelet_cgroup_driver_detected": "systemd"}, "changed": false}
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.129)       0:14:58.147 ********** 

TASK [kubernetes/node : set kubelet_cgroup_driver] *****************************
ok: [master] => {"ansible_facts": {"kubelet_cgroup_driver": "systemd"}, "changed": false}
ok: [node1] => {"ansible_facts": {"kubelet_cgroup_driver": "systemd"}, "changed": false}
ok: [node2] => {"ansible_facts": {"kubelet_cgroup_driver": "systemd"}, "changed": false}
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.105)       0:14:58.252 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.083)       0:14:58.336 ********** 
Четверг 20 июля 2023  22:35:12 +0300 (0:00:00.079)       0:14:58.415 ********** 

TASK [kubernetes/node : os specific vars] **************************************
ok: [master] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml) => {"ansible_facts": {"kube_resolv_conf": "/run/systemd/resolve/resolv.conf"}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml"}
ok: [node1] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml) => {"ansible_facts": {"kube_resolv_conf": "/run/systemd/resolve/resolv.conf"}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml"}
ok: [node2] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml) => {"ansible_facts": {"kube_resolv_conf": "/run/systemd/resolve/resolv.conf"}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/node/vars/ubuntu-20.yml"}
Четверг 20 июля 2023  22:35:13 +0300 (0:00:00.156)       0:14:58.572 ********** 

TASK [kubernetes/node : Pre-upgrade | check if kubelet container exists] *******
ok: [master] => {"changed": false, "cmd": "set -o pipefail &&  /usr/local/bin/crictl ps --all --name kubelet | grep kubelet ", "delta": "0:00:01.298346", "end": "2023-07-20 19:35:15.869377", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:35:14.571031", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "cmd": "set -o pipefail &&  /usr/local/bin/crictl ps --all --name kubelet | grep kubelet ", "delta": "0:00:01.204576", "end": "2023-07-20 19:35:16.973345", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:35:15.768769", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node1] => {"changed": false, "cmd": "set -o pipefail &&  /usr/local/bin/crictl ps --all --name kubelet | grep kubelet ", "delta": "0:00:01.353478", "end": "2023-07-20 19:35:16.995352", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:35:15.641874", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:35:17 +0300 (0:00:04.098)       0:15:02.671 ********** 
Четверг 20 июля 2023  22:35:17 +0300 (0:00:00.090)       0:15:02.761 ********** 
Четверг 20 июля 2023  22:35:17 +0300 (0:00:00.078)       0:15:02.840 ********** 
Четверг 20 июля 2023  22:35:17 +0300 (0:00:00.076)       0:15:02.917 ********** 

TASK [kubernetes/node : Ensure /var/lib/cni exists] ****************************
changed: [node1] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/var/lib/cni", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/var/lib/cni", "size": 4096, "state": "directory", "uid": 0}
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/var/lib/cni", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:35:18 +0300 (0:00:01.198)       0:15:04.115 ********** 

TASK [kubernetes/node : install | Copy kubeadm binary from download dir] *******
changed: [node2] => {"changed": true, "checksum": "f024de24f0cf0ebb55bb5c0e9b9a6306501b1a3b", "dest": "/usr/local/bin/kubeadm", "gid": 0, "group": "root", "md5sum": "dd90842ecff6b6b603594995d671236b", "mode": "0755", "owner": "root", "size": 46788608, "src": "/tmp/releases/kubeadm-v1.26.5-amd64", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "f024de24f0cf0ebb55bb5c0e9b9a6306501b1a3b", "dest": "/usr/local/bin/kubeadm", "gid": 0, "group": "root", "md5sum": "dd90842ecff6b6b603594995d671236b", "mode": "0755", "owner": "root", "size": 46788608, "src": "/tmp/releases/kubeadm-v1.26.5-amd64", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:35:25 +0300 (0:00:06.653)       0:15:10.769 ********** 

TASK [kubernetes/node : install | Copy kubelet binary from download dir] *******
changed: [node1] => {"changed": true, "checksum": "9ceda9a6adfca4f8f1c1ddf2b465e3599dc5554c", "dest": "/usr/local/bin/kubelet", "gid": 0, "group": "root", "md5sum": "c8266df0b1494192a83490e35339dc94", "mode": "0755", "owner": "root", "size": 121277432, "src": "/tmp/releases/kubelet-v1.26.5-amd64", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "9ceda9a6adfca4f8f1c1ddf2b465e3599dc5554c", "dest": "/usr/local/bin/kubelet", "gid": 0, "group": "root", "md5sum": "c8266df0b1494192a83490e35339dc94", "mode": "0755", "owner": "root", "size": 121277432, "src": "/tmp/releases/kubelet-v1.26.5-amd64", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "9ceda9a6adfca4f8f1c1ddf2b465e3599dc5554c", "dest": "/usr/local/bin/kubelet", "gid": 0, "group": "root", "md5sum": "c8266df0b1494192a83490e35339dc94", "mode": "0755", "owner": "root", "size": 121277432, "src": "/tmp/releases/kubelet-v1.26.5-amd64", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:35:34 +0300 (0:00:08.917)       0:15:19.686 ********** 
Четверг 20 июля 2023  22:35:34 +0300 (0:00:00.085)       0:15:19.772 ********** 
Четверг 20 июля 2023  22:35:34 +0300 (0:00:00.081)       0:15:19.853 ********** 

TASK [kubernetes/node : haproxy | Cleanup potentially deployed haproxy] ********
ok: [node1] => {"changed": false, "path": "/etc/kubernetes/manifests/haproxy.yml", "state": "absent"}
ok: [node2] => {"changed": false, "path": "/etc/kubernetes/manifests/haproxy.yml", "state": "absent"}
Четверг 20 июля 2023  22:35:38 +0300 (0:00:04.503)       0:15:24.357 ********** 

TASK [kubernetes/node : nginx-proxy | Make nginx directory] ********************
changed: [node1] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/etc/nginx", "size": 4096, "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/etc/nginx", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:35:40 +0300 (0:00:01.367)       0:15:25.724 ********** 

TASK [kubernetes/node : nginx-proxy | Write nginx-proxy configuration] *********
changed: [node1] => {"changed": true, "checksum": "a383deff4766b169e728163885f705f96709f80d", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "md5sum": "796fc53bca7077f056d1dbcbcba31bb1", "mode": "0755", "owner": "root", "size": 786, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881740.339063-676797-170462108689066/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "a383deff4766b169e728163885f705f96709f80d", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "md5sum": "796fc53bca7077f056d1dbcbcba31bb1", "mode": "0755", "owner": "root", "size": 786, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881740.3750157-676798-214151352365150/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:35:42 +0300 (0:00:02.597)       0:15:28.322 ********** 

TASK [kubernetes/node : nginx-proxy | Get checksum from config] ****************
ok: [node1] => {"changed": false, "stat": {"atime": 1689881742.3255262, "block_size": 4096, "blocks": 8, "checksum": "a383deff4766b169e728163885f705f96709f80d", "ctime": 1689881742.3295262, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 402441, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0755", "mtime": 1689881741.4655263, "nlink": 1, "path": "/etc/nginx/nginx.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 786, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [node2] => {"changed": false, "stat": {"atime": 1689881742.6178827, "block_size": 4096, "blocks": 8, "checksum": "a383deff4766b169e728163885f705f96709f80d", "ctime": 1689881742.6178827, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 402433, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0755", "mtime": 1689881741.6098795, "nlink": 1, "path": "/etc/nginx/nginx.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 786, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:35:44 +0300 (0:00:01.212)       0:15:29.535 ********** 

TASK [kubernetes/node : nginx-proxy | Write static pod] ************************
changed: [node1] => {"changed": true, "checksum": "e85a8d9d91acd29ffb2741c8f721e28d4752e386", "dest": "/etc/kubernetes/manifests/nginx-proxy.yml", "gid": 0, "group": "root", "md5sum": "c2b76eaa8dbdb38bccedfbd2ac920dba", "mode": "0640", "owner": "root", "size": 889, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881744.154425-676970-230326158697202/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "e85a8d9d91acd29ffb2741c8f721e28d4752e386", "dest": "/etc/kubernetes/manifests/nginx-proxy.yml", "gid": 0, "group": "root", "md5sum": "c2b76eaa8dbdb38bccedfbd2ac920dba", "mode": "0640", "owner": "root", "size": 889, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881744.1767128-676971-9873882844749/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:35:46 +0300 (0:00:02.503)       0:15:32.038 ********** 
Четверг 20 июля 2023  22:35:46 +0300 (0:00:00.091)       0:15:32.130 ********** 
Четверг 20 июля 2023  22:35:46 +0300 (0:00:00.095)       0:15:32.225 ********** 
Четверг 20 июля 2023  22:35:46 +0300 (0:00:00.103)       0:15:32.329 ********** 
Четверг 20 июля 2023  22:35:46 +0300 (0:00:00.098)       0:15:32.428 ********** 
Четверг 20 июля 2023  22:35:46 +0300 (0:00:00.097)       0:15:32.525 ********** 

TASK [kubernetes/node : Ensure nodePort range is reserved] *********************
changed: [node1] => {"changed": true}
changed: [master] => {"changed": true}
changed: [node2] => {"changed": true}
Четверг 20 июля 2023  22:35:48 +0300 (0:00:01.258)       0:15:33.784 ********** 

TASK [kubernetes/node : Verify if br_netfilter module exists] ******************
ok: [master] => {"changed": false, "cmd": ["modinfo", "br_netfilter"], "delta": "0:00:00.042814", "end": "2023-07-20 19:35:49.285097", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:35:49.242283", "stderr": "", "stderr_lines": [], "stdout": "filename:       /lib/modules/5.4.0-153-generic/kernel/net/bridge/br_netfilter.ko\ndescription:    Linux ethernet netfilter firewall bridge\nauthor:         Bart De Schuymer <bdschuym@pandora.be>\nauthor:         Lennert Buytenhek <buytenh@gnu.org>\nlicense:        GPL\nsrcversion:     40AEA7362581D1938E80526\ndepends:        bridge\nretpoline:      Y\nintree:         Y\nname:           br_netfilter\nvermagic:       5.4.0-153-generic SMP mod_unload modversions \nsig_id:         PKCS#7\nsigner:         Build time autogenerated kernel key\nsig_key:        2C:56:30:07:B7:06:F6:1D:28:5B:AF:A9:BA:C8:7D:25:4D:33:18:D8\nsig_hashalgo:   sha512\nsignature:      70:C8:08:F6:FA:E6:F3:7B:6D:DC:1D:CC:7E:30:39:63:40:D6:39:44:\n\t\t80:30:5B:F4:01:02:97:43:82:2F:31:0D:DB:7B:41:70:69:A1:12:F7:\n\t\t87:96:48:FA:34:10:3C:CC:94:A9:9E:F5:36:B3:A8:50:20:C1:D3:A1:\n\t\tDD:14:B6:4F:AC:0A:0B:6C:45:A1:25:92:50:13:C2:29:43:13:FF:12:\n\t\tC7:DA:7C:01:FC:69:D2:DD:FD:87:C1:15:87:63:77:99:9B:9E:AB:97:\n\t\t26:DF:DB:FA:E4:52:2B:7C:6A:62:F4:AC:FC:DD:28:C2:A4:24:07:5B:\n\t\tF2:22:24:AD:39:C2:DB:EC:5D:B9:28:13:A9:F6:11:74:D5:9F:88:08:\n\t\tD8:8E:F7:C9:30:F7:2D:97:A3:94:85:54:93:D3:9F:8A:6E:60:BE:4A:\n\t\tD8:04:F6:09:28:06:C9:38:AD:61:B9:B3:2C:37:60:F3:C2:90:31:6E:\n\t\t1F:D8:1A:EF:2F:88:B0:D0:29:EB:66:B4:03:87:12:AF:10:69:19:FC:\n\t\tB1:3C:82:C6:EE:07:4F:B0:FB:F4:D5:AA:57:83:52:70:8B:9E:60:E7:\n\t\tDE:EC:ED:86:28:81:5B:D5:D9:68:EA:8C:9B:DC:69:44:FB:88:E7:CD:\n\t\tD8:FE:DB:E2:D0:3B:0C:5E:64:AE:33:A5:1B:6E:D4:17:A0:09:49:BD:\n\t\t67:9C:19:F9:9C:24:EC:11:9B:62:52:B7:EE:34:EA:6C:EB:53:00:AC:\n\t\t1B:6A:91:BB:D1:B3:CD:EB:8D:74:49:CA:F6:89:9B:F1:13:4E:05:61:\n\t\t40:85:C3:9A:2C:07:36:F6:1A:84:6F:02:ED:CC:3C:B4:5E:80:14:0E:\n\t\t80:30:AB:7D:E0:9E:2D:88:1C:4C:BF:0D:6C:0E:BA:63:FA:8F:68:F5:\n\t\t35:48:AF:91:B2:30:A7:95:1F:4B:35:01:48:7D:45:E6:98:56:94:55:\n\t\t5C:A0:18:D8:D8:1C:7F:CB:F9:23:F0:41:C1:75:BF:D4:E4:CD:12:07:\n\t\tA1:E1:F1:87:4E:33:E3:7C:AB:60:EE:D5:D6:61:97:9F:D2:59:10:5A:\n\t\t9E:24:80:88:5B:EB:66:CA:14:87:0F:5A:4F:18:EA:5B:B6:99:1D:A3:\n\t\t04:CF:D6:C5:C7:5B:AC:A2:93:14:BA:97:C0:6D:32:07:9E:60:DF:3F:\n\t\t26:F7:86:6F:96:CA:14:57:0E:2A:D9:C2:0A:1B:B1:37:F2:4F:C7:29:\n\t\t0B:36:66:3C:2F:CB:7F:53:0D:17:9D:25:49:74:97:A1:F4:9E:33:A9:\n\t\t4F:52:E1:98:B8:57:C4:9D:0B:1E:1C:A2:2D:71:67:13:F5:42:8A:D1:\n\t\t54:89:A9:C5:C3:40:6D:88:FB:9B:07:8A", "stdout_lines": ["filename:       /lib/modules/5.4.0-153-generic/kernel/net/bridge/br_netfilter.ko", "description:    Linux ethernet netfilter firewall bridge", "author:         Bart De Schuymer <bdschuym@pandora.be>", "author:         Lennert Buytenhek <buytenh@gnu.org>", "license:        GPL", "srcversion:     40AEA7362581D1938E80526", "depends:        bridge", "retpoline:      Y", "intree:         Y", "name:           br_netfilter", "vermagic:       5.4.0-153-generic SMP mod_unload modversions ", "sig_id:         PKCS#7", "signer:         Build time autogenerated kernel key", "sig_key:        2C:56:30:07:B7:06:F6:1D:28:5B:AF:A9:BA:C8:7D:25:4D:33:18:D8", "sig_hashalgo:   sha512", "signature:      70:C8:08:F6:FA:E6:F3:7B:6D:DC:1D:CC:7E:30:39:63:40:D6:39:44:", "\t\t80:30:5B:F4:01:02:97:43:82:2F:31:0D:DB:7B:41:70:69:A1:12:F7:", "\t\t87:96:48:FA:34:10:3C:CC:94:A9:9E:F5:36:B3:A8:50:20:C1:D3:A1:", "\t\tDD:14:B6:4F:AC:0A:0B:6C:45:A1:25:92:50:13:C2:29:43:13:FF:12:", "\t\tC7:DA:7C:01:FC:69:D2:DD:FD:87:C1:15:87:63:77:99:9B:9E:AB:97:", "\t\t26:DF:DB:FA:E4:52:2B:7C:6A:62:F4:AC:FC:DD:28:C2:A4:24:07:5B:", "\t\tF2:22:24:AD:39:C2:DB:EC:5D:B9:28:13:A9:F6:11:74:D5:9F:88:08:", "\t\tD8:8E:F7:C9:30:F7:2D:97:A3:94:85:54:93:D3:9F:8A:6E:60:BE:4A:", "\t\tD8:04:F6:09:28:06:C9:38:AD:61:B9:B3:2C:37:60:F3:C2:90:31:6E:", "\t\t1F:D8:1A:EF:2F:88:B0:D0:29:EB:66:B4:03:87:12:AF:10:69:19:FC:", "\t\tB1:3C:82:C6:EE:07:4F:B0:FB:F4:D5:AA:57:83:52:70:8B:9E:60:E7:", "\t\tDE:EC:ED:86:28:81:5B:D5:D9:68:EA:8C:9B:DC:69:44:FB:88:E7:CD:", "\t\tD8:FE:DB:E2:D0:3B:0C:5E:64:AE:33:A5:1B:6E:D4:17:A0:09:49:BD:", "\t\t67:9C:19:F9:9C:24:EC:11:9B:62:52:B7:EE:34:EA:6C:EB:53:00:AC:", "\t\t1B:6A:91:BB:D1:B3:CD:EB:8D:74:49:CA:F6:89:9B:F1:13:4E:05:61:", "\t\t40:85:C3:9A:2C:07:36:F6:1A:84:6F:02:ED:CC:3C:B4:5E:80:14:0E:", "\t\t80:30:AB:7D:E0:9E:2D:88:1C:4C:BF:0D:6C:0E:BA:63:FA:8F:68:F5:", "\t\t35:48:AF:91:B2:30:A7:95:1F:4B:35:01:48:7D:45:E6:98:56:94:55:", "\t\t5C:A0:18:D8:D8:1C:7F:CB:F9:23:F0:41:C1:75:BF:D4:E4:CD:12:07:", "\t\tA1:E1:F1:87:4E:33:E3:7C:AB:60:EE:D5:D6:61:97:9F:D2:59:10:5A:", "\t\t9E:24:80:88:5B:EB:66:CA:14:87:0F:5A:4F:18:EA:5B:B6:99:1D:A3:", "\t\t04:CF:D6:C5:C7:5B:AC:A2:93:14:BA:97:C0:6D:32:07:9E:60:DF:3F:", "\t\t26:F7:86:6F:96:CA:14:57:0E:2A:D9:C2:0A:1B:B1:37:F2:4F:C7:29:", "\t\t0B:36:66:3C:2F:CB:7F:53:0D:17:9D:25:49:74:97:A1:F4:9E:33:A9:", "\t\t4F:52:E1:98:B8:57:C4:9D:0B:1E:1C:A2:2D:71:67:13:F5:42:8A:D1:", "\t\t54:89:A9:C5:C3:40:6D:88:FB:9B:07:8A"]}
ok: [node2] => {"changed": false, "cmd": ["modinfo", "br_netfilter"], "delta": "0:00:00.041219", "end": "2023-07-20 19:35:52.780287", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:35:52.739068", "stderr": "", "stderr_lines": [], "stdout": "filename:       /lib/modules/5.4.0-153-generic/kernel/net/bridge/br_netfilter.ko\ndescription:    Linux ethernet netfilter firewall bridge\nauthor:         Bart De Schuymer <bdschuym@pandora.be>\nauthor:         Lennert Buytenhek <buytenh@gnu.org>\nlicense:        GPL\nsrcversion:     40AEA7362581D1938E80526\ndepends:        bridge\nretpoline:      Y\nintree:         Y\nname:           br_netfilter\nvermagic:       5.4.0-153-generic SMP mod_unload modversions \nsig_id:         PKCS#7\nsigner:         Build time autogenerated kernel key\nsig_key:        2C:56:30:07:B7:06:F6:1D:28:5B:AF:A9:BA:C8:7D:25:4D:33:18:D8\nsig_hashalgo:   sha512\nsignature:      70:C8:08:F6:FA:E6:F3:7B:6D:DC:1D:CC:7E:30:39:63:40:D6:39:44:\n\t\t80:30:5B:F4:01:02:97:43:82:2F:31:0D:DB:7B:41:70:69:A1:12:F7:\n\t\t87:96:48:FA:34:10:3C:CC:94:A9:9E:F5:36:B3:A8:50:20:C1:D3:A1:\n\t\tDD:14:B6:4F:AC:0A:0B:6C:45:A1:25:92:50:13:C2:29:43:13:FF:12:\n\t\tC7:DA:7C:01:FC:69:D2:DD:FD:87:C1:15:87:63:77:99:9B:9E:AB:97:\n\t\t26:DF:DB:FA:E4:52:2B:7C:6A:62:F4:AC:FC:DD:28:C2:A4:24:07:5B:\n\t\tF2:22:24:AD:39:C2:DB:EC:5D:B9:28:13:A9:F6:11:74:D5:9F:88:08:\n\t\tD8:8E:F7:C9:30:F7:2D:97:A3:94:85:54:93:D3:9F:8A:6E:60:BE:4A:\n\t\tD8:04:F6:09:28:06:C9:38:AD:61:B9:B3:2C:37:60:F3:C2:90:31:6E:\n\t\t1F:D8:1A:EF:2F:88:B0:D0:29:EB:66:B4:03:87:12:AF:10:69:19:FC:\n\t\tB1:3C:82:C6:EE:07:4F:B0:FB:F4:D5:AA:57:83:52:70:8B:9E:60:E7:\n\t\tDE:EC:ED:86:28:81:5B:D5:D9:68:EA:8C:9B:DC:69:44:FB:88:E7:CD:\n\t\tD8:FE:DB:E2:D0:3B:0C:5E:64:AE:33:A5:1B:6E:D4:17:A0:09:49:BD:\n\t\t67:9C:19:F9:9C:24:EC:11:9B:62:52:B7:EE:34:EA:6C:EB:53:00:AC:\n\t\t1B:6A:91:BB:D1:B3:CD:EB:8D:74:49:CA:F6:89:9B:F1:13:4E:05:61:\n\t\t40:85:C3:9A:2C:07:36:F6:1A:84:6F:02:ED:CC:3C:B4:5E:80:14:0E:\n\t\t80:30:AB:7D:E0:9E:2D:88:1C:4C:BF:0D:6C:0E:BA:63:FA:8F:68:F5:\n\t\t35:48:AF:91:B2:30:A7:95:1F:4B:35:01:48:7D:45:E6:98:56:94:55:\n\t\t5C:A0:18:D8:D8:1C:7F:CB:F9:23:F0:41:C1:75:BF:D4:E4:CD:12:07:\n\t\tA1:E1:F1:87:4E:33:E3:7C:AB:60:EE:D5:D6:61:97:9F:D2:59:10:5A:\n\t\t9E:24:80:88:5B:EB:66:CA:14:87:0F:5A:4F:18:EA:5B:B6:99:1D:A3:\n\t\t04:CF:D6:C5:C7:5B:AC:A2:93:14:BA:97:C0:6D:32:07:9E:60:DF:3F:\n\t\t26:F7:86:6F:96:CA:14:57:0E:2A:D9:C2:0A:1B:B1:37:F2:4F:C7:29:\n\t\t0B:36:66:3C:2F:CB:7F:53:0D:17:9D:25:49:74:97:A1:F4:9E:33:A9:\n\t\t4F:52:E1:98:B8:57:C4:9D:0B:1E:1C:A2:2D:71:67:13:F5:42:8A:D1:\n\t\t54:89:A9:C5:C3:40:6D:88:FB:9B:07:8A", "stdout_lines": ["filename:       /lib/modules/5.4.0-153-generic/kernel/net/bridge/br_netfilter.ko", "description:    Linux ethernet netfilter firewall bridge", "author:         Bart De Schuymer <bdschuym@pandora.be>", "author:         Lennert Buytenhek <buytenh@gnu.org>", "license:        GPL", "srcversion:     40AEA7362581D1938E80526", "depends:        bridge", "retpoline:      Y", "intree:         Y", "name:           br_netfilter", "vermagic:       5.4.0-153-generic SMP mod_unload modversions ", "sig_id:         PKCS#7", "signer:         Build time autogenerated kernel key", "sig_key:        2C:56:30:07:B7:06:F6:1D:28:5B:AF:A9:BA:C8:7D:25:4D:33:18:D8", "sig_hashalgo:   sha512", "signature:      70:C8:08:F6:FA:E6:F3:7B:6D:DC:1D:CC:7E:30:39:63:40:D6:39:44:", "\t\t80:30:5B:F4:01:02:97:43:82:2F:31:0D:DB:7B:41:70:69:A1:12:F7:", "\t\t87:96:48:FA:34:10:3C:CC:94:A9:9E:F5:36:B3:A8:50:20:C1:D3:A1:", "\t\tDD:14:B6:4F:AC:0A:0B:6C:45:A1:25:92:50:13:C2:29:43:13:FF:12:", "\t\tC7:DA:7C:01:FC:69:D2:DD:FD:87:C1:15:87:63:77:99:9B:9E:AB:97:", "\t\t26:DF:DB:FA:E4:52:2B:7C:6A:62:F4:AC:FC:DD:28:C2:A4:24:07:5B:", "\t\tF2:22:24:AD:39:C2:DB:EC:5D:B9:28:13:A9:F6:11:74:D5:9F:88:08:", "\t\tD8:8E:F7:C9:30:F7:2D:97:A3:94:85:54:93:D3:9F:8A:6E:60:BE:4A:", "\t\tD8:04:F6:09:28:06:C9:38:AD:61:B9:B3:2C:37:60:F3:C2:90:31:6E:", "\t\t1F:D8:1A:EF:2F:88:B0:D0:29:EB:66:B4:03:87:12:AF:10:69:19:FC:", "\t\tB1:3C:82:C6:EE:07:4F:B0:FB:F4:D5:AA:57:83:52:70:8B:9E:60:E7:", "\t\tDE:EC:ED:86:28:81:5B:D5:D9:68:EA:8C:9B:DC:69:44:FB:88:E7:CD:", "\t\tD8:FE:DB:E2:D0:3B:0C:5E:64:AE:33:A5:1B:6E:D4:17:A0:09:49:BD:", "\t\t67:9C:19:F9:9C:24:EC:11:9B:62:52:B7:EE:34:EA:6C:EB:53:00:AC:", "\t\t1B:6A:91:BB:D1:B3:CD:EB:8D:74:49:CA:F6:89:9B:F1:13:4E:05:61:", "\t\t40:85:C3:9A:2C:07:36:F6:1A:84:6F:02:ED:CC:3C:B4:5E:80:14:0E:", "\t\t80:30:AB:7D:E0:9E:2D:88:1C:4C:BF:0D:6C:0E:BA:63:FA:8F:68:F5:", "\t\t35:48:AF:91:B2:30:A7:95:1F:4B:35:01:48:7D:45:E6:98:56:94:55:", "\t\t5C:A0:18:D8:D8:1C:7F:CB:F9:23:F0:41:C1:75:BF:D4:E4:CD:12:07:", "\t\tA1:E1:F1:87:4E:33:E3:7C:AB:60:EE:D5:D6:61:97:9F:D2:59:10:5A:", "\t\t9E:24:80:88:5B:EB:66:CA:14:87:0F:5A:4F:18:EA:5B:B6:99:1D:A3:", "\t\t04:CF:D6:C5:C7:5B:AC:A2:93:14:BA:97:C0:6D:32:07:9E:60:DF:3F:", "\t\t26:F7:86:6F:96:CA:14:57:0E:2A:D9:C2:0A:1B:B1:37:F2:4F:C7:29:", "\t\t0B:36:66:3C:2F:CB:7F:53:0D:17:9D:25:49:74:97:A1:F4:9E:33:A9:", "\t\t4F:52:E1:98:B8:57:C4:9D:0B:1E:1C:A2:2D:71:67:13:F5:42:8A:D1:", "\t\t54:89:A9:C5:C3:40:6D:88:FB:9B:07:8A"]}
ok: [node1] => {"changed": false, "cmd": ["modinfo", "br_netfilter"], "delta": "0:00:00.027734", "end": "2023-07-20 19:35:49.196769", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:35:49.169035", "stderr": "", "stderr_lines": [], "stdout": "filename:       /lib/modules/5.4.0-153-generic/kernel/net/bridge/br_netfilter.ko\ndescription:    Linux ethernet netfilter firewall bridge\nauthor:         Bart De Schuymer <bdschuym@pandora.be>\nauthor:         Lennert Buytenhek <buytenh@gnu.org>\nlicense:        GPL\nsrcversion:     40AEA7362581D1938E80526\ndepends:        bridge\nretpoline:      Y\nintree:         Y\nname:           br_netfilter\nvermagic:       5.4.0-153-generic SMP mod_unload modversions \nsig_id:         PKCS#7\nsigner:         Build time autogenerated kernel key\nsig_key:        2C:56:30:07:B7:06:F6:1D:28:5B:AF:A9:BA:C8:7D:25:4D:33:18:D8\nsig_hashalgo:   sha512\nsignature:      70:C8:08:F6:FA:E6:F3:7B:6D:DC:1D:CC:7E:30:39:63:40:D6:39:44:\n\t\t80:30:5B:F4:01:02:97:43:82:2F:31:0D:DB:7B:41:70:69:A1:12:F7:\n\t\t87:96:48:FA:34:10:3C:CC:94:A9:9E:F5:36:B3:A8:50:20:C1:D3:A1:\n\t\tDD:14:B6:4F:AC:0A:0B:6C:45:A1:25:92:50:13:C2:29:43:13:FF:12:\n\t\tC7:DA:7C:01:FC:69:D2:DD:FD:87:C1:15:87:63:77:99:9B:9E:AB:97:\n\t\t26:DF:DB:FA:E4:52:2B:7C:6A:62:F4:AC:FC:DD:28:C2:A4:24:07:5B:\n\t\tF2:22:24:AD:39:C2:DB:EC:5D:B9:28:13:A9:F6:11:74:D5:9F:88:08:\n\t\tD8:8E:F7:C9:30:F7:2D:97:A3:94:85:54:93:D3:9F:8A:6E:60:BE:4A:\n\t\tD8:04:F6:09:28:06:C9:38:AD:61:B9:B3:2C:37:60:F3:C2:90:31:6E:\n\t\t1F:D8:1A:EF:2F:88:B0:D0:29:EB:66:B4:03:87:12:AF:10:69:19:FC:\n\t\tB1:3C:82:C6:EE:07:4F:B0:FB:F4:D5:AA:57:83:52:70:8B:9E:60:E7:\n\t\tDE:EC:ED:86:28:81:5B:D5:D9:68:EA:8C:9B:DC:69:44:FB:88:E7:CD:\n\t\tD8:FE:DB:E2:D0:3B:0C:5E:64:AE:33:A5:1B:6E:D4:17:A0:09:49:BD:\n\t\t67:9C:19:F9:9C:24:EC:11:9B:62:52:B7:EE:34:EA:6C:EB:53:00:AC:\n\t\t1B:6A:91:BB:D1:B3:CD:EB:8D:74:49:CA:F6:89:9B:F1:13:4E:05:61:\n\t\t40:85:C3:9A:2C:07:36:F6:1A:84:6F:02:ED:CC:3C:B4:5E:80:14:0E:\n\t\t80:30:AB:7D:E0:9E:2D:88:1C:4C:BF:0D:6C:0E:BA:63:FA:8F:68:F5:\n\t\t35:48:AF:91:B2:30:A7:95:1F:4B:35:01:48:7D:45:E6:98:56:94:55:\n\t\t5C:A0:18:D8:D8:1C:7F:CB:F9:23:F0:41:C1:75:BF:D4:E4:CD:12:07:\n\t\tA1:E1:F1:87:4E:33:E3:7C:AB:60:EE:D5:D6:61:97:9F:D2:59:10:5A:\n\t\t9E:24:80:88:5B:EB:66:CA:14:87:0F:5A:4F:18:EA:5B:B6:99:1D:A3:\n\t\t04:CF:D6:C5:C7:5B:AC:A2:93:14:BA:97:C0:6D:32:07:9E:60:DF:3F:\n\t\t26:F7:86:6F:96:CA:14:57:0E:2A:D9:C2:0A:1B:B1:37:F2:4F:C7:29:\n\t\t0B:36:66:3C:2F:CB:7F:53:0D:17:9D:25:49:74:97:A1:F4:9E:33:A9:\n\t\t4F:52:E1:98:B8:57:C4:9D:0B:1E:1C:A2:2D:71:67:13:F5:42:8A:D1:\n\t\t54:89:A9:C5:C3:40:6D:88:FB:9B:07:8A", "stdout_lines": ["filename:       /lib/modules/5.4.0-153-generic/kernel/net/bridge/br_netfilter.ko", "description:    Linux ethernet netfilter firewall bridge", "author:         Bart De Schuymer <bdschuym@pandora.be>", "author:         Lennert Buytenhek <buytenh@gnu.org>", "license:        GPL", "srcversion:     40AEA7362581D1938E80526", "depends:        bridge", "retpoline:      Y", "intree:         Y", "name:           br_netfilter", "vermagic:       5.4.0-153-generic SMP mod_unload modversions ", "sig_id:         PKCS#7", "signer:         Build time autogenerated kernel key", "sig_key:        2C:56:30:07:B7:06:F6:1D:28:5B:AF:A9:BA:C8:7D:25:4D:33:18:D8", "sig_hashalgo:   sha512", "signature:      70:C8:08:F6:FA:E6:F3:7B:6D:DC:1D:CC:7E:30:39:63:40:D6:39:44:", "\t\t80:30:5B:F4:01:02:97:43:82:2F:31:0D:DB:7B:41:70:69:A1:12:F7:", "\t\t87:96:48:FA:34:10:3C:CC:94:A9:9E:F5:36:B3:A8:50:20:C1:D3:A1:", "\t\tDD:14:B6:4F:AC:0A:0B:6C:45:A1:25:92:50:13:C2:29:43:13:FF:12:", "\t\tC7:DA:7C:01:FC:69:D2:DD:FD:87:C1:15:87:63:77:99:9B:9E:AB:97:", "\t\t26:DF:DB:FA:E4:52:2B:7C:6A:62:F4:AC:FC:DD:28:C2:A4:24:07:5B:", "\t\tF2:22:24:AD:39:C2:DB:EC:5D:B9:28:13:A9:F6:11:74:D5:9F:88:08:", "\t\tD8:8E:F7:C9:30:F7:2D:97:A3:94:85:54:93:D3:9F:8A:6E:60:BE:4A:", "\t\tD8:04:F6:09:28:06:C9:38:AD:61:B9:B3:2C:37:60:F3:C2:90:31:6E:", "\t\t1F:D8:1A:EF:2F:88:B0:D0:29:EB:66:B4:03:87:12:AF:10:69:19:FC:", "\t\tB1:3C:82:C6:EE:07:4F:B0:FB:F4:D5:AA:57:83:52:70:8B:9E:60:E7:", "\t\tDE:EC:ED:86:28:81:5B:D5:D9:68:EA:8C:9B:DC:69:44:FB:88:E7:CD:", "\t\tD8:FE:DB:E2:D0:3B:0C:5E:64:AE:33:A5:1B:6E:D4:17:A0:09:49:BD:", "\t\t67:9C:19:F9:9C:24:EC:11:9B:62:52:B7:EE:34:EA:6C:EB:53:00:AC:", "\t\t1B:6A:91:BB:D1:B3:CD:EB:8D:74:49:CA:F6:89:9B:F1:13:4E:05:61:", "\t\t40:85:C3:9A:2C:07:36:F6:1A:84:6F:02:ED:CC:3C:B4:5E:80:14:0E:", "\t\t80:30:AB:7D:E0:9E:2D:88:1C:4C:BF:0D:6C:0E:BA:63:FA:8F:68:F5:", "\t\t35:48:AF:91:B2:30:A7:95:1F:4B:35:01:48:7D:45:E6:98:56:94:55:", "\t\t5C:A0:18:D8:D8:1C:7F:CB:F9:23:F0:41:C1:75:BF:D4:E4:CD:12:07:", "\t\tA1:E1:F1:87:4E:33:E3:7C:AB:60:EE:D5:D6:61:97:9F:D2:59:10:5A:", "\t\t9E:24:80:88:5B:EB:66:CA:14:87:0F:5A:4F:18:EA:5B:B6:99:1D:A3:", "\t\t04:CF:D6:C5:C7:5B:AC:A2:93:14:BA:97:C0:6D:32:07:9E:60:DF:3F:", "\t\t26:F7:86:6F:96:CA:14:57:0E:2A:D9:C2:0A:1B:B1:37:F2:4F:C7:29:", "\t\t0B:36:66:3C:2F:CB:7F:53:0D:17:9D:25:49:74:97:A1:F4:9E:33:A9:", "\t\t4F:52:E1:98:B8:57:C4:9D:0B:1E:1C:A2:2D:71:67:13:F5:42:8A:D1:", "\t\t54:89:A9:C5:C3:40:6D:88:FB:9B:07:8A"]}
Четверг 20 июля 2023  22:35:53 +0300 (0:00:04.855)       0:15:38.639 ********** 

TASK [kubernetes/node : Verify br_netfilter module path exists] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/modules-load.d", "size": 4096, "state": "directory", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/modules-load.d", "size": 4096, "state": "directory", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/modules-load.d", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:35:54 +0300 (0:00:01.850)       0:15:40.489 ********** 

TASK [kubernetes/node : Enable br_netfilter module] ****************************
changed: [node1] => {"changed": true, "name": "br_netfilter", "params": "", "state": "present"}
changed: [node2] => {"changed": true, "name": "br_netfilter", "params": "", "state": "present"}
changed: [master] => {"changed": true, "name": "br_netfilter", "params": "", "state": "present"}
Четверг 20 июля 2023  22:35:56 +0300 (0:00:01.522)       0:15:42.012 ********** 

TASK [kubernetes/node : Persist br_netfilter module] ***************************
changed: [node1] => {"changed": true, "checksum": "c3394aff3e3a3e3920e68205b8e839b3d725648e", "dest": "/etc/modules-load.d/kubespray-br_netfilter.conf", "gid": 0, "group": "root", "md5sum": "6f034a1d190cd9ba928c0c4df2a4aad4", "mode": "0644", "owner": "root", "size": 12, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881756.6507406-677371-176565949487345/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "c3394aff3e3a3e3920e68205b8e839b3d725648e", "dest": "/etc/modules-load.d/kubespray-br_netfilter.conf", "gid": 0, "group": "root", "md5sum": "6f034a1d190cd9ba928c0c4df2a4aad4", "mode": "0644", "owner": "root", "size": 12, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881756.6707351-677373-87525645349238/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "c3394aff3e3a3e3920e68205b8e839b3d725648e", "dest": "/etc/modules-load.d/kubespray-br_netfilter.conf", "gid": 0, "group": "root", "md5sum": "6f034a1d190cd9ba928c0c4df2a4aad4", "mode": "0644", "owner": "root", "size": 12, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881756.619243-677370-60579873038863/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:36:01 +0300 (0:00:04.554)       0:15:46.566 ********** 

TASK [kubernetes/node : Check if bridge-nf-call-iptables key exists] ***********
ok: [node1] => {"changed": false, "cmd": ["sysctl", "net.bridge.bridge-nf-call-iptables"], "delta": "0:00:00.004812", "end": "2023-07-20 19:36:03.049805", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:36:03.044993", "stderr": "", "stderr_lines": [], "stdout": "net.bridge.bridge-nf-call-iptables = 1", "stdout_lines": ["net.bridge.bridge-nf-call-iptables = 1"]}
ok: [master] => {"changed": false, "cmd": ["sysctl", "net.bridge.bridge-nf-call-iptables"], "delta": "0:00:00.004696", "end": "2023-07-20 19:36:03.164831", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:36:03.160135", "stderr": "", "stderr_lines": [], "stdout": "net.bridge.bridge-nf-call-iptables = 1", "stdout_lines": ["net.bridge.bridge-nf-call-iptables = 1"]}
ok: [node2] => {"changed": false, "cmd": ["sysctl", "net.bridge.bridge-nf-call-iptables"], "delta": "0:00:00.004376", "end": "2023-07-20 19:36:03.232349", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:36:03.227973", "stderr": "", "stderr_lines": [], "stdout": "net.bridge.bridge-nf-call-iptables = 1", "stdout_lines": ["net.bridge.bridge-nf-call-iptables = 1"]}
Четверг 20 июля 2023  22:36:03 +0300 (0:00:02.390)       0:15:48.956 ********** 

TASK [kubernetes/node : Enable bridge-nf-call tables] **************************
changed: [node2] => (item=net.bridge.bridge-nf-call-iptables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-iptables"}
changed: [node1] => (item=net.bridge.bridge-nf-call-iptables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-iptables"}
changed: [node2] => (item=net.bridge.bridge-nf-call-arptables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-arptables"}
changed: [master] => (item=net.bridge.bridge-nf-call-iptables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-iptables"}
changed: [node1] => (item=net.bridge.bridge-nf-call-arptables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-arptables"}
changed: [node2] => (item=net.bridge.bridge-nf-call-ip6tables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-ip6tables"}
changed: [master] => (item=net.bridge.bridge-nf-call-arptables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-arptables"}
changed: [node1] => (item=net.bridge.bridge-nf-call-ip6tables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-ip6tables"}
changed: [master] => (item=net.bridge.bridge-nf-call-ip6tables) => {"ansible_loop_var": "item", "changed": true, "item": "net.bridge.bridge-nf-call-ip6tables"}
Четверг 20 июля 2023  22:36:17 +0300 (0:00:13.912)       0:16:02.868 ********** 

TASK [kubernetes/node : Modprobe Kernel Module for IPVS] ***********************
changed: [node1] => (item=ip_vs) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs", "name": "ip_vs", "params": "", "state": "present"}
changed: [node2] => (item=ip_vs) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs", "name": "ip_vs", "params": "", "state": "present"}
changed: [master] => (item=ip_vs) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs", "name": "ip_vs", "params": "", "state": "present"}
changed: [node1] => (item=ip_vs_rr) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_rr", "name": "ip_vs_rr", "params": "", "state": "present"}
changed: [node2] => (item=ip_vs_rr) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_rr", "name": "ip_vs_rr", "params": "", "state": "present"}
changed: [master] => (item=ip_vs_rr) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_rr", "name": "ip_vs_rr", "params": "", "state": "present"}
changed: [node1] => (item=ip_vs_wrr) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_wrr", "name": "ip_vs_wrr", "params": "", "state": "present"}
changed: [node2] => (item=ip_vs_wrr) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_wrr", "name": "ip_vs_wrr", "params": "", "state": "present"}
changed: [master] => (item=ip_vs_wrr) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_wrr", "name": "ip_vs_wrr", "params": "", "state": "present"}
changed: [node1] => (item=ip_vs_sh) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_sh", "name": "ip_vs_sh", "params": "", "state": "present"}
changed: [node2] => (item=ip_vs_sh) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_sh", "name": "ip_vs_sh", "params": "", "state": "present"}
changed: [master] => (item=ip_vs_sh) => {"ansible_loop_var": "item", "changed": true, "item": "ip_vs_sh", "name": "ip_vs_sh", "params": "", "state": "present"}
Четверг 20 июля 2023  22:36:28 +0300 (0:00:10.987)       0:16:13.856 ********** 

TASK [kubernetes/node : Modprobe nf_conntrack_ipv4] ****************************
ok: [master] => {"changed": false, "name": "nf_conntrack", "params": "", "state": "present"}
ok: [node2] => {"changed": false, "name": "nf_conntrack", "params": "", "state": "present"}
ok: [node1] => {"changed": false, "name": "nf_conntrack", "params": "", "state": "present"}
Четверг 20 июля 2023  22:36:31 +0300 (0:00:03.182)       0:16:17.038 ********** 

TASK [kubernetes/node : Persist ip_vs modules] *********************************
changed: [node2] => {"changed": true, "checksum": "fb666e350805b04493805c3b11187436eb0a0e31", "dest": "/etc/modules-load.d/kube_proxy-ipvs.conf", "gid": 0, "group": "root", "md5sum": "d9cc4491b5121715fca6283f5790775c", "mode": "0644", "owner": "root", "size": 52, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881791.738453-678359-14969348860466/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "fb666e350805b04493805c3b11187436eb0a0e31", "dest": "/etc/modules-load.d/kube_proxy-ipvs.conf", "gid": 0, "group": "root", "md5sum": "d9cc4491b5121715fca6283f5790775c", "mode": "0644", "owner": "root", "size": 52, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881791.7076004-678356-182496581670749/source", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "fb666e350805b04493805c3b11187436eb0a0e31", "dest": "/etc/modules-load.d/kube_proxy-ipvs.conf", "gid": 0, "group": "root", "md5sum": "d9cc4491b5121715fca6283f5790775c", "mode": "0644", "owner": "root", "size": 52, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881791.730531-678357-214347159265858/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:36:36 +0300 (0:00:04.678)       0:16:21.716 ********** 
Четверг 20 июля 2023  22:36:36 +0300 (0:00:00.082)       0:16:21.798 ********** 
Четверг 20 июля 2023  22:36:36 +0300 (0:00:00.073)       0:16:21.872 ********** 
Четверг 20 июля 2023  22:36:36 +0300 (0:00:00.076)       0:16:21.949 ********** 
Четверг 20 июля 2023  22:36:36 +0300 (0:00:00.078)       0:16:22.027 ********** 

TASK [kubernetes/node : Set kubelet api version to v1beta1] ********************
ok: [master] => {"ansible_facts": {"kubeletConfig_api_version": "v1beta1"}, "changed": false}
ok: [node1] => {"ansible_facts": {"kubeletConfig_api_version": "v1beta1"}, "changed": false}
ok: [node2] => {"ansible_facts": {"kubeletConfig_api_version": "v1beta1"}, "changed": false}
Четверг 20 июля 2023  22:36:36 +0300 (0:00:00.089)       0:16:22.116 ********** 

TASK [kubernetes/node : Write kubelet environment config file (kubeadm)] *******
changed: [node1] => {"changed": true, "checksum": "1646bc86404affae0c65c501a43665bc560c244b", "dest": "/etc/kubernetes/kubelet.env", "gid": 0, "group": "root", "md5sum": "4f051d5d0ae6035463818b3b89cc4900", "mode": "0640", "owner": "root", "size": 549, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881796.8486836-678563-249927671199734/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "66073863843f8e0e8e1c9109613a0bee90a4ea41", "dest": "/etc/kubernetes/kubelet.env", "gid": 0, "group": "root", "md5sum": "f5c5ea997236742a17d457678bb65996", "mode": "0640", "owner": "root", "size": 549, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881796.8940208-678565-139650675872826/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "8a0963d7e100e275384deef12386e4025297687b", "dest": "/etc/kubernetes/kubelet.env", "gid": 0, "group": "root", "md5sum": "12dbe4a41f0e7e76731324377d7b31c8", "mode": "0640", "owner": "root", "size": 550, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881796.8331585-678562-114825095570041/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:36:42 +0300 (0:00:05.753)       0:16:27.869 ********** 

TASK [kubernetes/node : Write kubelet config file] *****************************
changed: [node1] => {"changed": true, "checksum": "d152e1c78fc7138a1fd89036a0194ae6f71988d9", "dest": "/etc/kubernetes/kubelet-config.yaml", "gid": 0, "group": "root", "md5sum": "80d8e80bfc87a503117c98dbd9b876e6", "mode": "0640", "owner": "root", "size": 798, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881802.4996245-678703-208337291820357/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "693ff4c500018ee4e26c1ddcbacd1bef4befb1c3", "dest": "/etc/kubernetes/kubelet-config.yaml", "gid": 0, "group": "root", "md5sum": "10dea203c3def71a58d767cf635c6a93", "mode": "0640", "owner": "root", "size": 798, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881802.4992592-678702-241591550269604/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "b7a71b1e02e44d5e1c561898d9fe4221374c554f", "dest": "/etc/kubernetes/kubelet-config.yaml", "gid": 0, "group": "root", "md5sum": "6c428b5a93b4091808104b1cf1c85d9c", "mode": "0640", "owner": "root", "size": 798, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881802.5509603-678705-54023244662774/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:36:48 +0300 (0:00:05.851)       0:16:33.721 ********** 

TASK [kubernetes/node : Write kubelet systemd init file] ***********************
changed: [master] => {"changed": true, "checksum": "7c6e996e6a33a8e05266c72a072d76f9aeff796d", "dest": "/etc/systemd/system/kubelet.service", "gid": 0, "group": "root", "md5sum": "d6515056e48922388b2d95e180b49ef9", "mode": "0600", "owner": "root", "size": 562, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881808.4325342-678864-265775607790633/source", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "7c6e996e6a33a8e05266c72a072d76f9aeff796d", "dest": "/etc/systemd/system/kubelet.service", "gid": 0, "group": "root", "md5sum": "d6515056e48922388b2d95e180b49ef9", "mode": "0600", "owner": "root", "size": 562, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881808.4569278-678865-199038457972480/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "7c6e996e6a33a8e05266c72a072d76f9aeff796d", "dest": "/etc/systemd/system/kubelet.service", "gid": 0, "group": "root", "md5sum": "d6515056e48922388b2d95e180b49ef9", "mode": "0600", "owner": "root", "size": 562, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881808.4932399-678867-280454875985665/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:36:57 +0300 (0:00:09.535)       0:16:43.257 ********** 
Четверг 20 июля 2023  22:36:57 +0300 (0:00:00.000)       0:16:43.257 ********** 

RUNNING HANDLER [kubernetes/node : Node | restart kubelet] *********************
changed: [node1] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.006270", "end": "2023-07-20 19:36:58.787883", "msg": "", "rc": 0, "start": "2023-07-20 19:36:58.781613", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004335", "end": "2023-07-20 19:36:58.816188", "msg": "", "rc": 0, "start": "2023-07-20 19:36:58.811853", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.006837", "end": "2023-07-20 19:36:58.972800", "msg": "", "rc": 0, "start": "2023-07-20 19:36:58.965963", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:36:59 +0300 (0:00:01.402)       0:16:44.660 ********** 

RUNNING HANDLER [kubernetes/node : Kubelet | reload systemd] *******************
ok: [master] => {"changed": false, "name": null, "status": {}}
ok: [node1] => {"changed": false, "name": null, "status": {}}
ok: [node2] => {"changed": false, "name": null, "status": {}}
Четверг 20 июля 2023  22:37:01 +0300 (0:00:02.304)       0:16:46.964 ********** 

RUNNING HANDLER [kubernetes/node : Kubelet | restart kubelet] ******************
changed: [node1] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "containerd.service basic.target sysinit.target systemd-journald.socket system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestampMonotonic": "0", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [master] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "basic.target system.slice containerd.service sysinit.target systemd-journald.socket", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestampMonotonic": "0", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [node2] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestampMonotonic": "0", "ActiveExitTimestampMonotonic": "0", "ActiveState": "inactive", "After": "sysinit.target system.slice basic.target systemd-journald.socket containerd.service", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "no", "AssertTimestampMonotonic": "0", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "no", "ConditionTimestampMonotonic": "0", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "0", "ExecMainStartTimestampMonotonic": "0", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestampMonotonic": "0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestampMonotonic": "0", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "dead", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:37:03 +0300 (0:00:01.665)       0:16:48.629 ********** 

TASK [kubernetes/node : Enable kubelet] ****************************************
changed: [node1] => {"changed": true, "enabled": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ActiveEnterTimestampMonotonic": "2945028613", "ActiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ActiveExitTimestampMonotonic": "2945877760", "ActiveState": "activating", "After": "sysinit.target system.slice systemd-journald.socket containerd.service basic.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:37:02 UTC", "AssertTimestampMonotonic": "2945025514", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ConditionTimestampMonotonic": "2945025513", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "1", "ExecMainExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ExecMainExitTimestampMonotonic": "2945877501", "ExecMainPID": "13739", "ExecMainStartTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ExecMainStartTimestampMonotonic": "2945027607", "ExecMainStatus": "1", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[Thu 2023-07-20 19:37:02 UTC] ; stop_time=[Thu 2023-07-20 19:37:03 UTC] ; pid=13739 ; code=exited ; status=1 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[Thu 2023-07-20 19:37:02 UTC] ; stop_time=[Thu 2023-07-20 19:37:03 UTC] ; pid=13739 ; code=exited ; status=1 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveEnterTimestampMonotonic": "2945877760", "InactiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveExitTimestampMonotonic": "2945878807", "InvocationID": "f25fe81c90c34a0dac217077fc2abd26", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "exit-code", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:37:03 UTC", "StateChangeTimestampMonotonic": "2945878807", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "auto-restart", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [master] => {"changed": true, "enabled": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ActiveEnterTimestampMonotonic": "2960408352", "ActiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ActiveExitTimestampMonotonic": "2961445800", "ActiveState": "activating", "After": "systemd-journald.socket sysinit.target system.slice basic.target containerd.service", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:37:02 UTC", "AssertTimestampMonotonic": "2960405578", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ConditionTimestampMonotonic": "2960405578", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "1", "ExecMainExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ExecMainExitTimestampMonotonic": "2961445537", "ExecMainPID": "16205", "ExecMainStartTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ExecMainStartTimestampMonotonic": "2960407724", "ExecMainStatus": "1", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[Thu 2023-07-20 19:37:02 UTC] ; stop_time=[Thu 2023-07-20 19:37:03 UTC] ; pid=16205 ; code=exited ; status=1 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[Thu 2023-07-20 19:37:02 UTC] ; stop_time=[Thu 2023-07-20 19:37:03 UTC] ; pid=16205 ; code=exited ; status=1 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveEnterTimestampMonotonic": "2961445800", "InactiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveExitTimestampMonotonic": "2961447028", "InvocationID": "2821928dc75645649082f389d756005a", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "exit-code", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:37:03 UTC", "StateChangeTimestampMonotonic": "2961447028", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "auto-restart", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [node2] => {"changed": true, "enabled": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ActiveEnterTimestampMonotonic": "2935458557", "ActiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ActiveExitTimestampMonotonic": "2936397222", "ActiveState": "activating", "After": "system.slice containerd.service systemd-journald.socket sysinit.target basic.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:37:02 UTC", "AssertTimestampMonotonic": "2935456189", "Before": "shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ConditionTimestampMonotonic": "2935456188", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "1", "ExecMainExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ExecMainExitTimestampMonotonic": "2936396970", "ExecMainPID": "13240", "ExecMainStartTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ExecMainStartTimestampMonotonic": "2935457958", "ExecMainStatus": "1", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[Thu 2023-07-20 19:37:02 UTC] ; stop_time=[Thu 2023-07-20 19:37:03 UTC] ; pid=13240 ; code=exited ; status=1 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[Thu 2023-07-20 19:37:02 UTC] ; stop_time=[Thu 2023-07-20 19:37:03 UTC] ; pid=13240 ; code=exited ; status=1 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveEnterTimestampMonotonic": "2936397222", "InactiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveExitTimestampMonotonic": "2936398280", "InvocationID": "85c116f066f64f04ae2ab03debb1a8d5", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "exit-code", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:37:03 UTC", "StateChangeTimestampMonotonic": "2936398280", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "auto-restart", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "[not set]", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "disabled", "UtmpMode": "init", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:37:04 +0300 (0:00:01.890)       0:16:50.520 ********** 

RUNNING HANDLER [kubernetes/node : Kubelet | restart kubelet] ******************
changed: [node1] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ActiveEnterTimestampMonotonic": "2945028613", "ActiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ActiveExitTimestampMonotonic": "2945877760", "ActiveState": "activating", "After": "containerd.service basic.target systemd-journald.socket sysinit.target system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:37:02 UTC", "AssertTimestampMonotonic": "2945025514", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ConditionTimestampMonotonic": "2945025513", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "1", "ExecMainExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ExecMainExitTimestampMonotonic": "2945877501", "ExecMainPID": "13739", "ExecMainStartTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ExecMainStartTimestampMonotonic": "2945027607", "ExecMainStatus": "1", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveEnterTimestampMonotonic": "2945877760", "InactiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveExitTimestampMonotonic": "2945878807", "InvocationID": "f25fe81c90c34a0dac217077fc2abd26", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "0", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "exit-code", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:37:03 UTC", "StateChangeTimestampMonotonic": "2945878807", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "auto-restart", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "0", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [master] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ActiveEnterTimestampMonotonic": "2960408352", "ActiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ActiveExitTimestampMonotonic": "2961445800", "ActiveState": "activating", "After": "containerd.service sysinit.target basic.target system.slice systemd-journald.socket", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:37:02 UTC", "AssertTimestampMonotonic": "2960405578", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ConditionTimestampMonotonic": "2960405578", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "1", "ExecMainExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ExecMainExitTimestampMonotonic": "2961445537", "ExecMainPID": "16205", "ExecMainStartTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ExecMainStartTimestampMonotonic": "2960407724", "ExecMainStatus": "1", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveEnterTimestampMonotonic": "2961445800", "InactiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveExitTimestampMonotonic": "2961447028", "InvocationID": "2821928dc75645649082f389d756005a", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "0", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "exit-code", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:37:03 UTC", "StateChangeTimestampMonotonic": "2961447028", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "auto-restart", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "0", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [node2] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ActiveEnterTimestampMonotonic": "2935458557", "ActiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ActiveExitTimestampMonotonic": "2936397222", "ActiveState": "activating", "After": "containerd.service systemd-journald.socket sysinit.target basic.target system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:37:02 UTC", "AssertTimestampMonotonic": "2935456189", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ConditionTimestampMonotonic": "2935456188", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "1", "ExecMainExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "ExecMainExitTimestampMonotonic": "2936396970", "ExecMainPID": "13240", "ExecMainStartTimestamp": "Thu 2023-07-20 19:37:02 UTC", "ExecMainStartTimestampMonotonic": "2935457958", "ExecMainStatus": "1", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveEnterTimestampMonotonic": "2936397222", "InactiveExitTimestamp": "Thu 2023-07-20 19:37:03 UTC", "InactiveExitTimestampMonotonic": "2936398280", "InvocationID": "85c116f066f64f04ae2ab03debb1a8d5", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "0", "MemoryAccounting": "yes", "MemoryCurrent": "0", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "exit-code", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:37:03 UTC", "StateChangeTimestampMonotonic": "2936398280", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "auto-restart", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "0", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}

PLAY [kube_control_plane] ******************************************************
Четверг 20 июля 2023  22:37:06 +0300 (0:00:01.617)       0:16:52.138 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.039)       0:16:52.177 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.038)       0:16:52.216 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.035)       0:16:52.251 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.033)       0:16:52.285 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.032)       0:16:52.318 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.036)       0:16:52.355 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.038)       0:16:52.393 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.035)       0:16:52.429 ********** 
Четверг 20 июля 2023  22:37:06 +0300 (0:00:00.034)       0:16:52.464 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:01.235)       0:16:53.700 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.101)       0:16:53.801 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.061)       0:16:53.863 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.035)       0:16:53.898 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.043)       0:16:53.942 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.045)       0:16:53.987 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.035)       0:16:54.023 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.059)       0:16:54.082 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.034)       0:16:54.116 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.041)       0:16:54.158 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.037)       0:16:54.195 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.039)       0:16:54.234 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.034)       0:16:54.269 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.048)       0:16:54.318 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.056)       0:16:54.375 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.061)       0:16:54.436 ********** 
Четверг 20 июля 2023  22:37:08 +0300 (0:00:00.052)       0:16:54.489 ********** 
Четверг 20 июля 2023  22:37:09 +0300 (0:00:00.046)       0:16:54.535 ********** 
Четверг 20 июля 2023  22:37:09 +0300 (0:00:00.032)       0:16:54.568 ********** 
Четверг 20 июля 2023  22:37:09 +0300 (0:00:00.045)       0:16:54.613 ********** 
Четверг 20 июля 2023  22:37:09 +0300 (0:00:00.031)       0:16:54.645 ********** 
Четверг 20 июля 2023  22:37:09 +0300 (0:00:00.044)       0:16:54.689 ********** 

TASK [kubernetes/control-plane : Pre-upgrade | Delete master manifests if etcd secrets changed] ***
ok: [master] => (item=kube-apiserver) => {"ansible_loop_var": "item", "changed": false, "item": "kube-apiserver", "path": "/etc/kubernetes/manifests/kube-apiserver.manifest", "state": "absent"}
ok: [master] => (item=kube-controller-manager) => {"ansible_loop_var": "item", "changed": false, "item": "kube-controller-manager", "path": "/etc/kubernetes/manifests/kube-controller-manager.manifest", "state": "absent"}
ok: [master] => (item=kube-scheduler) => {"ansible_loop_var": "item", "changed": false, "item": "kube-scheduler", "path": "/etc/kubernetes/manifests/kube-scheduler.manifest", "state": "absent"}
Четверг 20 июля 2023  22:37:12 +0300 (0:00:03.620)       0:16:58.310 ********** 
Четверг 20 июля 2023  22:37:12 +0300 (0:00:00.045)       0:16:58.355 ********** 
Четверг 20 июля 2023  22:37:12 +0300 (0:00:00.034)       0:16:58.391 ********** 
Четверг 20 июля 2023  22:37:12 +0300 (0:00:00.036)       0:16:58.427 ********** 

TASK [kubernetes/control-plane : Create kube-scheduler config] *****************
changed: [master] => {"changed": true, "checksum": "a365de8614a2515ae912e878d2bf0221eb8a99a6", "dest": "/etc/kubernetes/kubescheduler-config.yaml", "gid": 0, "group": "root", "md5sum": "a333abe118f32f51573e72a923b7ec2e", "mode": "0644", "owner": "root", "size": 204, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881833.0220017-679632-127950947490606/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:37:15 +0300 (0:00:02.390)       0:17:00.818 ********** 
Четверг 20 июля 2023  22:37:15 +0300 (0:00:00.033)       0:17:00.851 ********** 
Четверг 20 июля 2023  22:37:15 +0300 (0:00:00.031)       0:17:00.883 ********** 
Четверг 20 июля 2023  22:37:15 +0300 (0:00:00.030)       0:17:00.913 ********** 
Четверг 20 июля 2023  22:37:15 +0300 (0:00:00.045)       0:17:00.958 ********** 
Четверг 20 июля 2023  22:37:15 +0300 (0:00:00.034)       0:17:00.993 ********** 
Четверг 20 июля 2023  22:37:15 +0300 (0:00:00.030)       0:17:01.023 ********** 

TASK [kubernetes/control-plane : Install | Copy kubectl binary from download dir] ***
changed: [master] => {"changed": true, "checksum": "d9981628679ce691275ef96bcd6e423cd091e104", "dest": "/usr/local/bin/kubectl", "gid": 0, "group": "root", "md5sum": "da90a41d72335faf660435096df0d5a1", "mode": "0755", "owner": "root", "size": 48046080, "src": "/tmp/releases/kubectl-v1.26.5-amd64", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:37:19 +0300 (0:00:03.693)       0:17:04.717 ********** 

TASK [kubernetes/control-plane : Install kubectl bash completion] **************
changed: [master] => {"changed": true, "cmd": "/usr/local/bin/kubectl completion bash >/etc/bash_completion.d/kubectl.sh", "delta": "0:00:00.077711", "end": "2023-07-20 19:37:20.293953", "msg": "", "rc": 0, "start": "2023-07-20 19:37:20.216242", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:37:20 +0300 (0:00:01.318)       0:17:06.036 ********** 

TASK [kubernetes/control-plane : Set kubectl bash completion file permissions] ***
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/bash_completion.d/kubectl.sh", "size": 11832, "state": "file", "uid": 0}
Четверг 20 июля 2023  22:37:21 +0300 (0:00:01.225)       0:17:07.262 ********** 
Четверг 20 июля 2023  22:37:21 +0300 (0:00:00.041)       0:17:07.304 ********** 

TASK [kubernetes/control-plane : Check which kube-control nodes are already members of the cluster] ***
fatal: [master]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/kubectl", "get", "nodes", "--selector=node-role.kubernetes.io/control-plane", "-o", "json"], "delta": "0:00:00.088879", "end": "2023-07-20 19:37:22.809911", "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:37:22.721032", "stderr": "E0720 19:37:22.799886   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\nE0720 19:37:22.800309   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\nE0720 19:37:22.801907   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\nE0720 19:37:22.803576   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\nE0720 19:37:22.805069   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?", "stderr_lines": ["E0720 19:37:22.799886   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused", "E0720 19:37:22.800309   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused", "E0720 19:37:22.801907   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused", "E0720 19:37:22.803576   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused", "E0720 19:37:22.805069   16528 memcache.go:265] couldn't get current server API group list: Get \"http://localhost:8080/api?timeout=32s\": dial tcp 127.0.0.1:8080: connect: connection refused", "The connection to the server localhost:8080 was refused - did you specify the right host or port?"], "stdout": "", "stdout_lines": []}
...ignoring
Четверг 20 июля 2023  22:37:23 +0300 (0:00:01.231)       0:17:08.535 ********** 
Четверг 20 июля 2023  22:37:23 +0300 (0:00:00.037)       0:17:08.572 ********** 

TASK [kubernetes/control-plane : Set fact first_kube_control_plane] ************
ok: [master] => {"ansible_facts": {"first_kube_control_plane": "master"}, "changed": false}
Четверг 20 июля 2023  22:37:23 +0300 (0:00:00.050)       0:17:08.622 ********** 
Четверг 20 июля 2023  22:37:23 +0300 (0:00:00.031)       0:17:08.654 ********** 

TASK [kubernetes/control-plane : kubeadm | Check if kubeadm has already run] ***
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:37:24 +0300 (0:00:01.111)       0:17:09.765 ********** 
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.065)       0:17:09.830 ********** 
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.054)       0:17:09.885 ********** 

TASK [kubernetes/control-plane : kubeadm | aggregate all SANs] *****************
ok: [master] => {"ansible_facts": {"apiserver_sans": ["kubernetes", "kubernetes.default", "kubernetes.default.svc", "kubernetes.default.svc.cluster.local", "10.233.0.1", "localhost", "127.0.0.1", "master", "lb-apiserver.kubernetes.local", "192.168.20.29", "master.cluster.local"]}, "changed": false}
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.205)       0:17:10.090 ********** 
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.038)       0:17:10.129 ********** 
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.037)       0:17:10.166 ********** 
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.035)       0:17:10.202 ********** 
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.035)       0:17:10.238 ********** 

TASK [kubernetes/control-plane : Set kubeadm api version to v1beta3] ***********
ok: [master] => {"ansible_facts": {"kubeadmConfig_api_version": "v1beta3"}, "changed": false}
Четверг 20 июля 2023  22:37:24 +0300 (0:00:00.054)       0:17:10.293 ********** 

TASK [kubernetes/control-plane : kubeadm | Create kubeadm config] **************
changed: [master] => {"changed": true, "checksum": "a77d50eb1b46a445213dbc6ece0bf89a0dabfaa5", "dest": "/etc/kubernetes/kubeadm-config.yaml", "gid": 0, "group": "root", "md5sum": "d5612246f274c0314f5fd1d1309be31c", "mode": "0640", "owner": "root", "size": 3767, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881844.8849013-679987-140859987866326/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:37:27 +0300 (0:00:02.743)       0:17:13.036 ********** 
Четверг 20 июля 2023  22:37:27 +0300 (0:00:00.033)       0:17:13.070 ********** 
Четверг 20 июля 2023  22:37:27 +0300 (0:00:00.036)       0:17:13.106 ********** 
Четверг 20 июля 2023  22:37:27 +0300 (0:00:00.033)       0:17:13.140 ********** 
Четверг 20 июля 2023  22:37:27 +0300 (0:00:00.127)       0:17:13.268 ********** 
Четверг 20 июля 2023  22:37:27 +0300 (0:00:00.152)       0:17:13.420 ********** 
Четверг 20 июля 2023  22:37:27 +0300 (0:00:00.042)       0:17:13.463 ********** 
Четверг 20 июля 2023  22:37:27 +0300 (0:00:00.034)       0:17:13.497 ********** 
Четверг 20 июля 2023  22:37:28 +0300 (0:00:00.040)       0:17:13.538 ********** 
Четверг 20 июля 2023  22:37:28 +0300 (0:00:00.035)       0:17:13.574 ********** 

TASK [kubernetes/control-plane : kubeadm | Initialize first master] ************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["timeout", "-k", "300s", "300s", "/usr/local/bin/kubeadm", "init", "--config=/etc/kubernetes/kubeadm-config.yaml", "--ignore-preflight-errors=all", "--skip-phases=addon/coredns", "--upload-certs"], "delta": "0:00:21.196301", "end": "2023-07-20 19:37:50.247032", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:37:29.050731", "stderr": "W0720 19:37:30.959843   16627 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]\n\t[WARNING FileExisting-ethtool]: ethtool not found in system path", "stderr_lines": ["W0720 19:37:30.959843   16627 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]", "\t[WARNING FileExisting-ethtool]: ethtool not found in system path"], "stdout": "[init] Using Kubernetes version: v1.26.5\n[preflight] Running pre-flight checks\n[preflight] Pulling images required for setting up a Kubernetes cluster\n[preflight] This might take a minute or two, depending on the speed of your internet connection\n[preflight] You can also perform this action in beforehand using 'kubeadm config images pull'\n[certs] Using certificateDir folder \"/etc/kubernetes/ssl\"\n[certs] Generating \"ca\" certificate and key\n[certs] Generating \"apiserver\" certificate and key\n[certs] apiserver serving cert is signed for DNS names [kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local lb-apiserver.kubernetes.local localhost master master.cluster.local] and IPs [10.233.0.1 192.168.20.29 127.0.0.1]\n[certs] Generating \"apiserver-kubelet-client\" certificate and key\n[certs] Generating \"front-proxy-ca\" certificate and key\n[certs] Generating \"front-proxy-client\" certificate and key\n[certs] External etcd mode: Skipping etcd/ca certificate authority generation\n[certs] External etcd mode: Skipping etcd/server certificate generation\n[certs] External etcd mode: Skipping etcd/peer certificate generation\n[certs] External etcd mode: Skipping etcd/healthcheck-client certificate generation\n[certs] External etcd mode: Skipping apiserver-etcd-client certificate generation\n[certs] Generating \"sa\" key and public key\n[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"\n[kubeconfig] Writing \"admin.conf\" kubeconfig file\n[kubeconfig] Writing \"kubelet.conf\" kubeconfig file\n[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file\n[kubeconfig] Writing \"scheduler.conf\" kubeconfig file\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Starting the kubelet\n[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"\n[control-plane] Creating static Pod manifest for \"kube-apiserver\"\n[control-plane] Creating static Pod manifest for \"kube-controller-manager\"\n[control-plane] Creating static Pod manifest for \"kube-scheduler\"\n[wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory \"/etc/kubernetes/manifests\". This can take up to 5m0s\n[apiclient] All control plane components are healthy after 13.502742 seconds\n[upload-config] Storing the configuration used in ConfigMap \"kubeadm-config\" in the \"kube-system\" Namespace\n[kubelet] Creating a ConfigMap \"kubelet-config\" in namespace kube-system with the configuration for the kubelets in the cluster\n[upload-certs] Storing the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace\n[upload-certs] Using certificate key:\n80dacd128025593c624ffbec0f762f04fa25ce91bcbce9da09e6d1315ddafae9\n[mark-control-plane] Marking the node master as control-plane by adding the labels: [node-role.kubernetes.io/control-plane node.kubernetes.io/exclude-from-external-load-balancers]\n[mark-control-plane] Marking the node master as control-plane by adding the taints [node-role.kubernetes.io/master:NoSchedule node-role.kubernetes.io/control-plane:NoSchedule]\n[bootstrap-token] Using token: gw7fb6.veo8b4u8c5b784rm\n[bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles\n[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes\n[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials\n[bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token\n[bootstrap-token] Configured RBAC rules to allow certificate rotation for all node client certificates in the cluster\n[bootstrap-token] Creating the \"cluster-info\" ConfigMap in the \"kube-public\" namespace\n[kubelet-finalize] Updating \"/etc/kubernetes/kubelet.conf\" to point to a rotatable kubelet client certificate and key\n[addons] Applied essential addon: kube-proxy\n\nYour Kubernetes control-plane has initialized successfully!\n\nTo start using your cluster, you need to run the following as a regular user:\n\n  mkdir -p $HOME/.kube\n  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\n  sudo chown $(id -u):$(id -g) $HOME/.kube/config\n\nAlternatively, if you are the root user, you can run:\n\n  export KUBECONFIG=/etc/kubernetes/admin.conf\n\nYou should now deploy a pod network to the cluster.\nRun \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at:\n  https://kubernetes.io/docs/concepts/cluster-administration/addons/\n\nYou can now join any number of the control-plane node running the following command on each as root:\n\n  kubeadm join 192.168.20.29:6443 --token gw7fb6.veo8b4u8c5b784rm \\\n\t--discovery-token-ca-cert-hash sha256:a404638bc43510660c537825762915294b7a64aa83c0fb45997ce5a82d909543 \\\n\t--control-plane --certificate-key 80dacd128025593c624ffbec0f762f04fa25ce91bcbce9da09e6d1315ddafae9\n\nPlease note that the certificate-key gives access to cluster sensitive data, keep it secret!\nAs a safeguard, uploaded-certs will be deleted in two hours; If necessary, you can use\n\"kubeadm init phase upload-certs --upload-certs\" to reload certs afterward.\n\nThen you can join any number of worker nodes by running the following on each as root:\n\nkubeadm join 192.168.20.29:6443 --token gw7fb6.veo8b4u8c5b784rm \\\n\t--discovery-token-ca-cert-hash sha256:a404638bc43510660c537825762915294b7a64aa83c0fb45997ce5a82d909543 ", "stdout_lines": ["[init] Using Kubernetes version: v1.26.5", "[preflight] Running pre-flight checks", "[preflight] Pulling images required for setting up a Kubernetes cluster", "[preflight] This might take a minute or two, depending on the speed of your internet connection", "[preflight] You can also perform this action in beforehand using 'kubeadm config images pull'", "[certs] Using certificateDir folder \"/etc/kubernetes/ssl\"", "[certs] Generating \"ca\" certificate and key", "[certs] Generating \"apiserver\" certificate and key", "[certs] apiserver serving cert is signed for DNS names [kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local lb-apiserver.kubernetes.local localhost master master.cluster.local] and IPs [10.233.0.1 192.168.20.29 127.0.0.1]", "[certs] Generating \"apiserver-kubelet-client\" certificate and key", "[certs] Generating \"front-proxy-ca\" certificate and key", "[certs] Generating \"front-proxy-client\" certificate and key", "[certs] External etcd mode: Skipping etcd/ca certificate authority generation", "[certs] External etcd mode: Skipping etcd/server certificate generation", "[certs] External etcd mode: Skipping etcd/peer certificate generation", "[certs] External etcd mode: Skipping etcd/healthcheck-client certificate generation", "[certs] External etcd mode: Skipping apiserver-etcd-client certificate generation", "[certs] Generating \"sa\" key and public key", "[kubeconfig] Using kubeconfig folder \"/etc/kubernetes\"", "[kubeconfig] Writing \"admin.conf\" kubeconfig file", "[kubeconfig] Writing \"kubelet.conf\" kubeconfig file", "[kubeconfig] Writing \"controller-manager.conf\" kubeconfig file", "[kubeconfig] Writing \"scheduler.conf\" kubeconfig file", "[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"", "[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"", "[kubelet-start] Starting the kubelet", "[control-plane] Using manifest folder \"/etc/kubernetes/manifests\"", "[control-plane] Creating static Pod manifest for \"kube-apiserver\"", "[control-plane] Creating static Pod manifest for \"kube-controller-manager\"", "[control-plane] Creating static Pod manifest for \"kube-scheduler\"", "[wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory \"/etc/kubernetes/manifests\". This can take up to 5m0s", "[apiclient] All control plane components are healthy after 13.502742 seconds", "[upload-config] Storing the configuration used in ConfigMap \"kubeadm-config\" in the \"kube-system\" Namespace", "[kubelet] Creating a ConfigMap \"kubelet-config\" in namespace kube-system with the configuration for the kubelets in the cluster", "[upload-certs] Storing the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace", "[upload-certs] Using certificate key:", "80dacd128025593c624ffbec0f762f04fa25ce91bcbce9da09e6d1315ddafae9", "[mark-control-plane] Marking the node master as control-plane by adding the labels: [node-role.kubernetes.io/control-plane node.kubernetes.io/exclude-from-external-load-balancers]", "[mark-control-plane] Marking the node master as control-plane by adding the taints [node-role.kubernetes.io/master:NoSchedule node-role.kubernetes.io/control-plane:NoSchedule]", "[bootstrap-token] Using token: gw7fb6.veo8b4u8c5b784rm", "[bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles", "[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes", "[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials", "[bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token", "[bootstrap-token] Configured RBAC rules to allow certificate rotation for all node client certificates in the cluster", "[bootstrap-token] Creating the \"cluster-info\" ConfigMap in the \"kube-public\" namespace", "[kubelet-finalize] Updating \"/etc/kubernetes/kubelet.conf\" to point to a rotatable kubelet client certificate and key", "[addons] Applied essential addon: kube-proxy", "", "Your Kubernetes control-plane has initialized successfully!", "", "To start using your cluster, you need to run the following as a regular user:", "", "  mkdir -p $HOME/.kube", "  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config", "  sudo chown $(id -u):$(id -g) $HOME/.kube/config", "", "Alternatively, if you are the root user, you can run:", "", "  export KUBECONFIG=/etc/kubernetes/admin.conf", "", "You should now deploy a pod network to the cluster.", "Run \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at:", "  https://kubernetes.io/docs/concepts/cluster-administration/addons/", "", "You can now join any number of the control-plane node running the following command on each as root:", "", "  kubeadm join 192.168.20.29:6443 --token gw7fb6.veo8b4u8c5b784rm \\", "\t--discovery-token-ca-cert-hash sha256:a404638bc43510660c537825762915294b7a64aa83c0fb45997ce5a82d909543 \\", "\t--control-plane --certificate-key 80dacd128025593c624ffbec0f762f04fa25ce91bcbce9da09e6d1315ddafae9", "", "Please note that the certificate-key gives access to cluster sensitive data, keep it secret!", "As a safeguard, uploaded-certs will be deleted in two hours; If necessary, you can use", "\"kubeadm init phase upload-certs --upload-certs\" to reload certs afterward.", "", "Then you can join any number of worker nodes by running the following on each as root:", "", "kubeadm join 192.168.20.29:6443 --token gw7fb6.veo8b4u8c5b784rm \\", "\t--discovery-token-ca-cert-hash sha256:a404638bc43510660c537825762915294b7a64aa83c0fb45997ce5a82d909543 "]}
Четверг 20 июля 2023  22:37:50 +0300 (0:00:22.476)       0:17:36.050 ********** 
Четверг 20 июля 2023  22:37:51 +0300 (0:00:00.890)       0:17:36.940 ********** 
Четверг 20 июля 2023  22:37:51 +0300 (0:00:00.050)       0:17:36.991 ********** 

TASK [kubernetes/control-plane : Create kubeadm token for joining nodes with 24h expiration (default)] ***
ok: [master] => {"attempts": 1, "changed": false, "cmd": ["/usr/local/bin/kubeadm", "--kubeconfig", "/etc/kubernetes/admin.conf", "token", "create"], "delta": "0:00:00.106855", "end": "2023-07-20 19:37:52.007108", "msg": "", "rc": 0, "start": "2023-07-20 19:37:51.900253", "stderr": "", "stderr_lines": [], "stdout": "ubjgcs.mff7qg0yxz3it5g7", "stdout_lines": ["ubjgcs.mff7qg0yxz3it5g7"]}
Четверг 20 июля 2023  22:37:52 +0300 (0:00:00.697)       0:17:37.689 ********** 

TASK [kubernetes/control-plane : Set kubeadm_token] ****************************
ok: [master] => {"ansible_facts": {"kubeadm_token": "ubjgcs.mff7qg0yxz3it5g7"}, "changed": false}
Четверг 20 июля 2023  22:37:52 +0300 (0:00:00.053)       0:17:37.742 ********** 
Четверг 20 июля 2023  22:37:52 +0300 (0:00:00.031)       0:17:37.774 ********** 

TASK [kubernetes/control-plane : kubeadm | Join other masters] *****************
included: /home/antigen/diplom/kubespray/roles/kubernetes/control-plane/tasks/kubeadm-secondary.yml for master
Четверг 20 июля 2023  22:37:52 +0300 (0:00:00.059)       0:17:37.833 ********** 

TASK [kubernetes/control-plane : Set kubeadm_discovery_address] ****************
ok: [master] => {"ansible_facts": {"kubeadm_discovery_address": "192.168.20.29:6443"}, "changed": false}
Четверг 20 июля 2023  22:37:52 +0300 (0:00:00.110)       0:17:37.943 ********** 

TASK [kubernetes/control-plane : Upload certificates so they are fresh and not expired] ***
changed: [master] => {"changed": true, "cmd": ["/usr/local/bin/kubeadm", "init", "phase", "--config", "/etc/kubernetes/kubeadm-config.yaml", "upload-certs", "--upload-certs"], "delta": "0:00:00.168213", "end": "2023-07-20 19:37:53.609712", "msg": "", "rc": 0, "start": "2023-07-20 19:37:53.441499", "stderr": "W0720 19:37:53.503477   17172 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]", "stderr_lines": ["W0720 19:37:53.503477   17172 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]"], "stdout": "[upload-certs] Storing the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace\n[upload-certs] Using certificate key:\n80dacd128025593c624ffbec0f762f04fa25ce91bcbce9da09e6d1315ddafae9", "stdout_lines": ["[upload-certs] Storing the certificates in Secret \"kubeadm-certs\" in the \"kube-system\" Namespace", "[upload-certs] Using certificate key:", "80dacd128025593c624ffbec0f762f04fa25ce91bcbce9da09e6d1315ddafae9"]}
Четверг 20 июля 2023  22:37:53 +0300 (0:00:01.368)       0:17:39.312 ********** 

TASK [kubernetes/control-plane : Parse certificate key if not set] *************
ok: [master] => {"ansible_facts": {"kubeadm_certificate_key": "80dacd128025593c624ffbec0f762f04fa25ce91bcbce9da09e6d1315ddafae9"}, "changed": false}
Четверг 20 июля 2023  22:37:53 +0300 (0:00:00.093)       0:17:39.405 ********** 
Четверг 20 июля 2023  22:37:53 +0300 (0:00:00.032)       0:17:39.437 ********** 

TASK [kubernetes/control-plane : Wait for k8s apiserver] ***********************
ok: [master] => {"changed": false, "elapsed": 0, "match_groupdict": {}, "match_groups": [], "path": null, "port": 6443, "search_regex": null, "state": "started"}
Четверг 20 июля 2023  22:37:55 +0300 (0:00:01.508)       0:17:40.946 ********** 

TASK [kubernetes/control-plane : check already run] ****************************
ok: [master] => {
    "msg": false
}
Четверг 20 июля 2023  22:37:55 +0300 (0:00:00.046)       0:17:40.993 ********** 
Четверг 20 июля 2023  22:37:55 +0300 (0:00:00.031)       0:17:41.024 ********** 
Четверг 20 июля 2023  22:37:55 +0300 (0:00:00.033)       0:17:41.057 ********** 
Четверг 20 июля 2023  22:37:55 +0300 (0:00:00.044)       0:17:41.102 ********** 
Четверг 20 июля 2023  22:37:55 +0300 (0:00:00.042)       0:17:41.145 ********** 
Четверг 20 июля 2023  22:37:55 +0300 (0:00:00.029)       0:17:41.175 ********** 

TASK [kubernetes/control-plane : Include kubeadm secondary server apiserver fixes] ***
included: /home/antigen/diplom/kubespray/roles/kubernetes/control-plane/tasks/kubeadm-fix-apiserver.yml for master
Четверг 20 июля 2023  22:37:55 +0300 (0:00:00.061)       0:17:41.236 ********** 

TASK [kubernetes/control-plane : Update server field in component kubeconfigs] ***
changed: [master] => (item=admin.conf) => {"ansible_loop_var": "item", "backup": "/etc/kubernetes/admin.conf.17223.2023-07-20@19:37:56~", "changed": true, "item": "admin.conf", "msg": "line replaced"}
changed: [master] => (item=controller-manager.conf) => {"ansible_loop_var": "item", "backup": "/etc/kubernetes/controller-manager.conf.17247.2023-07-20@19:37:58~", "changed": true, "item": "controller-manager.conf", "msg": "line replaced"}
changed: [master] => (item=kubelet.conf) => {"ansible_loop_var": "item", "backup": "/etc/kubernetes/kubelet.conf.17271.2023-07-20@19:37:59~", "changed": true, "item": "kubelet.conf", "msg": "line replaced"}
changed: [master] => (item=scheduler.conf) => {"ansible_loop_var": "item", "backup": "/etc/kubernetes/scheduler.conf.17295.2023-07-20@19:38:00~", "changed": true, "item": "scheduler.conf", "msg": "line replaced"}
Четверг 20 июля 2023  22:38:00 +0300 (0:00:04.976)       0:17:46.213 ********** 

TASK [kubernetes/control-plane : Update etcd-servers for apiserver] ************
ok: [master] => {"backup": "", "changed": false, "msg": ""}
Четверг 20 июля 2023  22:38:02 +0300 (0:00:01.603)       0:17:47.816 ********** 

TASK [kubernetes/control-plane : Include kubelet client cert rotation fixes] ***
included: /home/antigen/diplom/kubespray/roles/kubernetes/control-plane/tasks/kubelet-fix-client-cert-rotation.yml for master
Четверг 20 июля 2023  22:38:02 +0300 (0:00:00.074)       0:17:47.890 ********** 

TASK [kubernetes/control-plane : Fixup kubelet client cert rotation 1/2] *******
ok: [master] => {"backup": "", "changed": false, "msg": ""}
Четверг 20 июля 2023  22:38:03 +0300 (0:00:01.254)       0:17:49.144 ********** 

TASK [kubernetes/control-plane : Fixup kubelet client cert rotation 2/2] *******
ok: [master] => {"backup": "", "changed": false, "msg": ""}
Четверг 20 июля 2023  22:38:04 +0300 (0:00:01.228)       0:17:50.373 ********** 

TASK [kubernetes/control-plane : Install script to renew K8S control plane certificates] ***
changed: [master] => {"changed": true, "checksum": "a63e2b3ee9bbe6a1247d1973e973dfa05f85e91a", "dest": "/usr/local/bin/k8s-certs-renew.sh", "gid": 0, "group": "root", "md5sum": "d4f968dd0517d187c94ea9398782c6eb", "mode": "0755", "owner": "root", "size": 731, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881884.9816172-680970-16163336509968/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:38:07 +0300 (0:00:02.497)       0:17:52.870 ********** 
Четверг 20 июля 2023  22:38:07 +0300 (0:00:00.043)       0:17:52.914 ********** 
Четверг 20 июля 2023  22:38:07 +0300 (0:00:00.042)       0:17:52.956 ********** 

TASK [kubernetes/client : Set external kube-apiserver endpoint] ****************
ok: [master] => {"ansible_facts": {"external_apiserver_address": "192.168.20.29", "external_apiserver_port": "6443"}, "changed": false}
Четверг 20 июля 2023  22:38:07 +0300 (0:00:00.054)       0:17:53.010 ********** 

TASK [kubernetes/client : Create kube config dir for current/ansible become user] ***
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/root/.kube", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:38:08 +0300 (0:00:01.257)       0:17:54.268 ********** 

TASK [kubernetes/client : Copy admin kubeconfig to current/ansible become user home] ***
changed: [master] => {"changed": true, "checksum": "e821256432b87feaeeefebf29d31f391301931f1", "dest": "/root/.kube/config", "gid": 0, "group": "root", "md5sum": "643f9c4829a3016b9727d05b91a2452b", "mode": "0600", "owner": "root", "size": 5645, "src": "/etc/kubernetes/admin.conf", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:38:09 +0300 (0:00:01.141)       0:17:55.409 ********** 
Четверг 20 июля 2023  22:38:09 +0300 (0:00:00.035)       0:17:55.445 ********** 

TASK [kubernetes/client : Wait for k8s apiserver] ******************************
ok: [master] => {"changed": false, "elapsed": 0, "match_groupdict": {}, "match_groups": [], "path": null, "port": 6443, "search_regex": null, "state": "started"}
Четверг 20 июля 2023  22:38:11 +0300 (0:00:01.172)       0:17:56.618 ********** 
Четверг 20 июля 2023  22:38:11 +0300 (0:00:00.030)       0:17:56.648 ********** 
Четверг 20 июля 2023  22:38:11 +0300 (0:00:00.030)       0:17:56.679 ********** 
Четверг 20 июля 2023  22:38:11 +0300 (0:00:00.035)       0:17:56.714 ********** 
Четверг 20 июля 2023  22:38:11 +0300 (0:00:00.073)       0:17:56.788 ********** 
Четверг 20 июля 2023  22:38:11 +0300 (0:00:00.034)       0:17:56.822 ********** 
Четверг 20 июля 2023  22:38:11 +0300 (0:00:00.042)       0:17:56.864 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Wait for kube-apiserver] ***
ok: [master] => {"attempts": 1, "audit_id": "f837d738-46b2-4709-9b24-43c7f2527ec8", "cache_control": "no-cache, private", "changed": false, "connection": "close", "content_length": "2", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:38:12 GMT", "elapsed": 0, "msg": "OK (2 bytes)", "redirected": false, "status": 200, "url": "https://127.0.0.1:6443/healthz", "x_content_type_options": "nosniff", "x_kubernetes_pf_flowschema_uid": "f5e9ad60-9468-4850-b9ac-ef7fee15b19e", "x_kubernetes_pf_prioritylevel_uid": "fa0a4ae0-bd1f-4fa4-b0ee-9fd0e286e88f"}
Четверг 20 июля 2023  22:38:12 +0300 (0:00:01.412)       0:17:58.277 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Add ClusterRoleBinding to admit nodes] ***
changed: [master] => {"changed": true, "checksum": "7a5d333673421310e034bd1931c65d490d541632", "dest": "/etc/kubernetes/node-crb.yml", "gid": 0, "group": "root", "md5sum": "63565185c3821bd7eb783657a86d84c9", "mode": "0640", "owner": "root", "size": 408, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881892.8707397-681189-170540444482002/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:38:15 +0300 (0:00:02.539)       0:18:00.817 ********** 

TASK [kubernetes-apps/cluster_roles : Apply workaround to allow all nodes with cert O=system:nodes to register] ***
ok: [master] => {"attempts": 1, "changed": false, "msg": "success: clusterrolebinding.rbac.authorization.k8s.io/kubespray:system:node created"}
Четверг 20 июля 2023  22:38:17 +0300 (0:00:02.564)       0:18:03.382 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Remove old webhook ClusterRole] ***
ok: [master] => {"changed": false, "msg": "success: "}
Четверг 20 июля 2023  22:38:19 +0300 (0:00:01.335)       0:18:04.717 ********** 

TASK [kubernetes-apps/cluster_roles : Kubernetes Apps | Remove old webhook ClusterRoleBinding] ***
ok: [master] => {"changed": false, "msg": "success: "}
Четверг 20 июля 2023  22:38:20 +0300 (0:00:01.324)       0:18:06.041 ********** 
Четверг 20 июля 2023  22:38:20 +0300 (0:00:00.036)       0:18:06.078 ********** 

TASK [kubernetes-apps/cluster_roles : PriorityClass | Copy k8s-cluster-critical-pc.yml file] ***
changed: [master] => {"changed": true, "checksum": "7257562957d22ed747cbeca924c2dba4a0da01d0", "dest": "/etc/kubernetes/k8s-cluster-critical-pc.yml", "gid": 0, "group": "root", "md5sum": "c7dbbb6fa57858ed89f246156ef73afe", "mode": "0640", "owner": "root", "size": 229, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881900.6716065-681396-62826634729824/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:38:22 +0300 (0:00:02.353)       0:18:08.431 ********** 

TASK [kubernetes-apps/cluster_roles : PriorityClass | Create k8s-cluster-critical] ***
ok: [master] => {"changed": false, "msg": "success: priorityclass.scheduling.k8s.io/k8s-cluster-critical created"}
Четверг 20 июля 2023  22:38:24 +0300 (0:00:01.470)       0:18:09.902 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | restart kubelet] **********
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004538", "end": "2023-07-20 19:38:25.345608", "msg": "", "rc": 0, "start": "2023-07-20 19:38:25.341070", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:38:25 +0300 (0:00:01.119)       0:18:11.022 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for master static pods] ***
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004280", "end": "2023-07-20 19:38:26.437282", "msg": "", "rc": 0, "start": "2023-07-20 19:38:26.433002", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:38:26 +0300 (0:00:01.146)       0:18:12.168 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Restart kube-scheduler] ***
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004167", "end": "2023-07-20 19:38:27.633694", "msg": "", "rc": 0, "start": "2023-07-20 19:38:27.629527", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:38:27 +0300 (0:00:01.143)       0:18:13.311 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Restart kube-controller-manager] ***
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004174", "end": "2023-07-20 19:38:28.739339", "msg": "", "rc": 0, "start": "2023-07-20 19:38:28.735165", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:38:28 +0300 (0:00:01.106)       0:18:14.418 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | reload systemd] ***********
ok: [master] => {"changed": false, "name": null, "status": {}}
Четверг 20 июля 2023  22:38:30 +0300 (0:00:01.744)       0:18:16.163 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | reload kubelet] ***********
changed: [master] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:37:50 UTC", "ActiveEnterTimestampMonotonic": "3007761684", "ActiveExitTimestamp": "Thu 2023-07-20 19:37:50 UTC", "ActiveExitTimestampMonotonic": "3007701913", "ActiveState": "active", "After": "systemd-journald.socket basic.target sysinit.target containerd.service system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:37:50 UTC", "AssertTimestampMonotonic": "3007759051", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:37:50 UTC", "ConditionTimestampMonotonic": "3007759050", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "17073", "ExecMainStartTimestamp": "Thu 2023-07-20 19:37:50 UTC", "ExecMainStartTimestampMonotonic": "3007761108", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:37:50 UTC", "InactiveEnterTimestampMonotonic": "3007757442", "InactiveExitTimestamp": "Thu 2023-07-20 19:37:50 UTC", "InactiveExitTimestampMonotonic": "3007761684", "InvocationID": "103fec6c85984eb383424e5601064819", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "17073", "MemoryAccounting": "yes", "MemoryCurrent": "36659200", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:37:50 UTC", "StateChangeTimestampMonotonic": "3007761684", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "13", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:38:32 +0300 (0:00:01.553)       0:18:17.716 ********** 
Четверг 20 июля 2023  22:38:32 +0300 (0:00:00.033)       0:18:17.749 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Remove scheduler container containerd/crio] ***
changed: [master] => {"attempts": 1, "changed": true, "cmd": "/usr/local/bin/crictl pods --name kube-scheduler* -q | xargs -I% --no-run-if-empty bash -c '/usr/local/bin/crictl stopp % && /usr/local/bin/crictl rmp %'", "delta": "0:00:00.486924", "end": "2023-07-20 19:38:33.705327", "msg": "", "rc": 0, "start": "2023-07-20 19:38:33.218403", "stderr": "", "stderr_lines": [], "stdout": "Stopped sandbox fc2af6a2a3babe0bf0687c6b905e660da46ae6428936c7944a5aabb281ba1a64\nRemoved sandbox fc2af6a2a3babe0bf0687c6b905e660da46ae6428936c7944a5aabb281ba1a64", "stdout_lines": ["Stopped sandbox fc2af6a2a3babe0bf0687c6b905e660da46ae6428936c7944a5aabb281ba1a64", "Removed sandbox fc2af6a2a3babe0bf0687c6b905e660da46ae6428936c7944a5aabb281ba1a64"]}
Четверг 20 июля 2023  22:38:33 +0300 (0:00:01.698)       0:18:19.447 ********** 
Четверг 20 июля 2023  22:38:33 +0300 (0:00:00.033)       0:18:19.481 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | Remove controller manager container containerd/crio] ***
changed: [master] => {"attempts": 1, "changed": true, "cmd": "/usr/local/bin/crictl pods --name kube-controller-manager* -q | xargs -I% --no-run-if-empty bash -c '/usr/local/bin/crictl stopp % && /usr/local/bin/crictl rmp %'", "delta": "0:00:00.965903", "end": "2023-07-20 19:38:36.066657", "msg": "", "rc": 0, "start": "2023-07-20 19:38:35.100754", "stderr": "", "stderr_lines": [], "stdout": "Stopped sandbox e027855e3c6f906830fcb41abe7065b055295a72cfa41ee7aae3aac2a85edc70\nRemoved sandbox e027855e3c6f906830fcb41abe7065b055295a72cfa41ee7aae3aac2a85edc70", "stdout_lines": ["Stopped sandbox e027855e3c6f906830fcb41abe7065b055295a72cfa41ee7aae3aac2a85edc70", "Removed sandbox e027855e3c6f906830fcb41abe7065b055295a72cfa41ee7aae3aac2a85edc70"]}
Четверг 20 июля 2023  22:38:36 +0300 (0:00:02.322)       0:18:21.804 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for kube-scheduler] ***
ok: [master] => {"attempts": 1, "cache_control": "no-cache, private", "changed": false, "connection": "close", "content_length": "2", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:38:37 GMT", "elapsed": 0, "msg": "OK (2 bytes)", "redirected": false, "status": 200, "url": "https://localhost:10259/healthz", "x_content_type_options": "nosniff"}
Четверг 20 июля 2023  22:38:37 +0300 (0:00:01.635)       0:18:23.439 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for kube-controller-manager] ***
ok: [master] => {"attempts": 1, "cache_control": "no-cache, private", "changed": false, "connection": "close", "content_length": "2", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:38:39 GMT", "elapsed": 0, "msg": "OK (2 bytes)", "redirected": false, "status": 200, "url": "https://localhost:10257/healthz", "x_content_type_options": "nosniff"}
Четверг 20 июля 2023  22:38:39 +0300 (0:00:02.044)       0:18:25.483 ********** 

RUNNING HANDLER [kubernetes/control-plane : Master | wait for the apiserver to be running] ***
ok: [master] => {"attempts": 1, "audit_id": "6041e467-320f-4de1-b970-bbb5d9c87cad", "cache_control": "no-cache, private", "changed": false, "connection": "close", "content_length": "2", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:38:41 GMT", "elapsed": 0, "msg": "OK (2 bytes)", "redirected": false, "status": 200, "url": "https://127.0.0.1:6443/healthz", "x_content_type_options": "nosniff", "x_kubernetes_pf_flowschema_uid": "f5e9ad60-9468-4850-b9ac-ef7fee15b19e", "x_kubernetes_pf_prioritylevel_uid": "fa0a4ae0-bd1f-4fa4-b0ee-9fd0e286e88f"}

PLAY [k8s_cluster] *************************************************************
Четверг 20 июля 2023  22:38:41 +0300 (0:00:01.562)       0:18:27.046 ********** 
Четверг 20 июля 2023  22:38:41 +0300 (0:00:00.092)       0:18:27.139 ********** 
Четверг 20 июля 2023  22:38:41 +0300 (0:00:00.047)       0:18:27.186 ********** 
Четверг 20 июля 2023  22:38:41 +0300 (0:00:00.068)       0:18:27.254 ********** 
Четверг 20 июля 2023  22:38:41 +0300 (0:00:00.094)       0:18:27.349 ********** 
Четверг 20 июля 2023  22:38:41 +0300 (0:00:00.090)       0:18:27.440 ********** 
Четверг 20 июля 2023  22:38:42 +0300 (0:00:00.094)       0:18:27.534 ********** 
Четверг 20 июля 2023  22:38:42 +0300 (0:00:00.099)       0:18:27.634 ********** 
Четверг 20 июля 2023  22:38:42 +0300 (0:00:00.038)       0:18:27.672 ********** 
Четверг 20 июля 2023  22:38:42 +0300 (0:00:00.085)       0:18:27.758 ********** 
Четверг 20 июля 2023  22:38:44 +0300 (0:00:01.831)       0:18:29.589 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node1] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node2] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.139)       0:18:29.729 ********** 
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.074)       0:18:29.804 ********** 
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.039)       0:18:29.843 ********** 
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.096)       0:18:29.940 ********** 
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.041)       0:18:29.981 ********** 
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.094)       0:18:30.076 ********** 
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.135)       0:18:30.211 ********** 

TASK [kubernetes/kubeadm : Set kubeadm_discovery_address] **********************
ok: [master] => {"ansible_facts": {"kubeadm_discovery_address": "192.168.20.29:6443"}, "changed": false}
ok: [node1] => {"ansible_facts": {"kubeadm_discovery_address": "192.168.20.29:6443"}, "changed": false}
ok: [node2] => {"ansible_facts": {"kubeadm_discovery_address": "192.168.20.29:6443"}, "changed": false}
Четверг 20 июля 2023  22:38:44 +0300 (0:00:00.187)       0:18:30.399 ********** 

TASK [kubernetes/kubeadm : Check if kubelet.conf exists] ***********************
ok: [master] => {"changed": false, "stat": {"atime": 1689881883.43484, "block_size": 4096, "blocks": 8, "ctime": 1689881879.2668352, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 404938, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0600", "mtime": 1689881879.2668352, "nlink": 1, "path": "/etc/kubernetes/kubelet.conf", "pw_name": "root", "readable": true, "rgrp": false, "roth": false, "rusr": true, "size": 1969, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:38:46 +0300 (0:00:01.810)       0:18:32.210 ********** 

TASK [kubernetes/kubeadm : Check if kubeadm CA cert is accessible] *************
ok: [master] => {"changed": false, "stat": {"atime": 1689881852.030804, "block_size": 4096, "blocks": 8, "ctime": 1689881851.9268038, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 292332, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0644", "mtime": 1689881851.9268038, "nlink": 1, "path": "/etc/kubernetes/ssl/ca.crt", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1099, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
Четверг 20 июля 2023  22:38:47 +0300 (0:00:00.473)       0:18:32.684 ********** 

TASK [kubernetes/kubeadm : Calculate kubeadm CA cert hash] *********************
ok: [master] => {"changed": false, "cmd": "set -o pipefail && openssl x509 -pubkey -in /etc/kubernetes/ssl/ca.crt | openssl rsa -pubin -outform der 2>/dev/null | openssl dgst -sha256 -hex | sed 's/^.* //'", "delta": "0:00:00.024600", "end": "2023-07-20 19:38:47.488331", "msg": "", "rc": 0, "start": "2023-07-20 19:38:47.463731", "stderr": "", "stderr_lines": [], "stdout": "a404638bc43510660c537825762915294b7a64aa83c0fb45997ce5a82d909543", "stdout_lines": ["a404638bc43510660c537825762915294b7a64aa83c0fb45997ce5a82d909543"]}
Четверг 20 июля 2023  22:38:47 +0300 (0:00:00.422)       0:18:33.107 ********** 

TASK [kubernetes/kubeadm : Create kubeadm token for joining nodes with 24h expiration (default)] ***
ok: [node1 -> master(84.252.139.67)] => {"changed": false, "cmd": ["/usr/local/bin/kubeadm", "token", "create"], "delta": "0:00:00.169385", "end": "2023-07-20 19:38:48.216962", "msg": "", "rc": 0, "start": "2023-07-20 19:38:48.047577", "stderr": "", "stderr_lines": [], "stdout": "qtnsiv.8k1xjmfkst3mq0sc", "stdout_lines": ["qtnsiv.8k1xjmfkst3mq0sc"]}
ok: [node2 -> master(84.252.139.67)] => {"changed": false, "cmd": ["/usr/local/bin/kubeadm", "token", "create"], "delta": "0:00:00.176940", "end": "2023-07-20 19:38:48.269559", "msg": "", "rc": 0, "start": "2023-07-20 19:38:48.092619", "stderr": "", "stderr_lines": [], "stdout": "g38eoo.l2fpubvaetohmku0", "stdout_lines": ["g38eoo.l2fpubvaetohmku0"]}
Четверг 20 июля 2023  22:38:48 +0300 (0:00:00.765)       0:18:33.872 ********** 

TASK [kubernetes/kubeadm : Set kubeadm_token to generated token] ***************
ok: [node1] => {"ansible_facts": {"kubeadm_token": "qtnsiv.8k1xjmfkst3mq0sc"}, "changed": false}
ok: [node2] => {"ansible_facts": {"kubeadm_token": "g38eoo.l2fpubvaetohmku0"}, "changed": false}
Четверг 20 июля 2023  22:38:48 +0300 (0:00:00.107)       0:18:33.979 ********** 

TASK [kubernetes/kubeadm : Set kubeadm api version to v1beta3] *****************
ok: [master] => {"ansible_facts": {"kubeadmConfig_api_version": "v1beta3"}, "changed": false}
ok: [node1] => {"ansible_facts": {"kubeadmConfig_api_version": "v1beta3"}, "changed": false}
ok: [node2] => {"ansible_facts": {"kubeadmConfig_api_version": "v1beta3"}, "changed": false}
Четверг 20 июля 2023  22:38:48 +0300 (0:00:00.107)       0:18:34.087 ********** 

TASK [kubernetes/kubeadm : Create kubeadm client config] ***********************
changed: [node1] => {"changed": true, "checksum": "f34e3712bce65d20d93099c7e114df1ac2f4100c", "dest": "/etc/kubernetes/kubeadm-client.conf", "gid": 0, "group": "root", "md5sum": "c016b7f3de889ee663281eb0117d233a", "mode": "0640", "owner": "root", "size": 454, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881928.7012265-682248-279273256819397/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "e289aeca9c3e2a0834f753d15c98ce230eae2c3e", "dest": "/etc/kubernetes/kubeadm-client.conf", "gid": 0, "group": "root", "md5sum": "1eaf228d37de7dcbd2367baa14b2c1c2", "mode": "0640", "owner": "root", "size": 454, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689881928.7168682-682249-182488595781914/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:38:50 +0300 (0:00:02.377)       0:18:36.464 ********** 
Четверг 20 июля 2023  22:38:51 +0300 (0:00:00.088)       0:18:36.552 ********** 
Четверг 20 июля 2023  22:38:51 +0300 (0:00:00.079)       0:18:36.632 ********** 

TASK [kubernetes/kubeadm : Join to cluster] ************************************
changed: [node1] => {"changed": true, "cmd": ["timeout", "-k", "120s", "120s", "/usr/local/bin/kubeadm", "join", "--config", "/etc/kubernetes/kubeadm-client.conf", "--ignore-preflight-errors=DirAvailable--etc-kubernetes-manifests", "--skip-phases="], "delta": "0:00:33.501455", "end": "2023-07-20 19:39:25.491835", "msg": "", "rc": 0, "start": "2023-07-20 19:38:51.990380", "stderr": "\t[WARNING FileExisting-ethtool]: ethtool not found in system path\nW0720 19:39:11.606114   14228 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]", "stderr_lines": ["\t[WARNING FileExisting-ethtool]: ethtool not found in system path", "W0720 19:39:11.606114   14228 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]"], "stdout": "[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Starting the kubelet\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...\n\nThis node has joined the cluster:\n* Certificate signing request was sent to apiserver and a response was received.\n* The Kubelet was informed of the new secure connection details.\n\nRun 'kubectl get nodes' on the control-plane to see this node join the cluster.", "stdout_lines": ["[preflight] Running pre-flight checks", "[preflight] Reading configuration from the cluster...", "[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'", "[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"", "[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"", "[kubelet-start] Starting the kubelet", "[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...", "", "This node has joined the cluster:", "* Certificate signing request was sent to apiserver and a response was received.", "* The Kubelet was informed of the new secure connection details.", "", "Run 'kubectl get nodes' on the control-plane to see this node join the cluster."]}
changed: [node2] => {"changed": true, "cmd": ["timeout", "-k", "120s", "120s", "/usr/local/bin/kubeadm", "join", "--config", "/etc/kubernetes/kubeadm-client.conf", "--ignore-preflight-errors=DirAvailable--etc-kubernetes-manifests", "--skip-phases="], "delta": "0:00:33.015982", "end": "2023-07-20 19:39:25.017538", "msg": "", "rc": 0, "start": "2023-07-20 19:38:52.001556", "stderr": "\t[WARNING FileExisting-ethtool]: ethtool not found in system path\nW0720 19:39:11.153758   13687 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]", "stderr_lines": ["\t[WARNING FileExisting-ethtool]: ethtool not found in system path", "W0720 19:39:11.153758   13687 utils.go:69] The recommended value for \"clusterDNS\" in \"KubeletConfiguration\" is: [10.233.0.10]; the provided value is: [169.254.25.10]"], "stdout": "[preflight] Running pre-flight checks\n[preflight] Reading configuration from the cluster...\n[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'\n[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"\n[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"\n[kubelet-start] Starting the kubelet\n[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...\n\nThis node has joined the cluster:\n* Certificate signing request was sent to apiserver and a response was received.\n* The Kubelet was informed of the new secure connection details.\n\nRun 'kubectl get nodes' on the control-plane to see this node join the cluster.", "stdout_lines": ["[preflight] Running pre-flight checks", "[preflight] Reading configuration from the cluster...", "[preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'", "[kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\"", "[kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\"", "[kubelet-start] Starting the kubelet", "[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...", "", "This node has joined the cluster:", "* Certificate signing request was sent to apiserver and a response was received.", "* The Kubelet was informed of the new secure connection details.", "", "Run 'kubectl get nodes' on the control-plane to see this node join the cluster."]}
Четверг 20 июля 2023  22:46:06 +0300 (0:07:14.928)       0:25:51.561 ********** 
Четверг 20 июля 2023  22:46:06 +0300 (0:00:00.045)       0:25:51.606 ********** 

TASK [kubernetes/kubeadm : Update server field in kubelet kubeconfig] **********
changed: [node2] => {"backup": "/etc/kubernetes/kubelet.conf.15734.2023-07-20@19:46:07~", "changed": true, "msg": "line replaced"}
changed: [node1] => {"backup": "/etc/kubernetes/kubelet.conf.16541.2023-07-20@19:46:07~", "changed": true, "msg": "line replaced"}
Четверг 20 июля 2023  22:46:07 +0300 (0:00:01.809)       0:25:53.416 ********** 

TASK [kubernetes/kubeadm : Update server field in kube-proxy kubeconfig] *******
changed: [master] => {"changed": true, "cmd": "set -o pipefail && /usr/local/bin/kubectl --kubeconfig /etc/kubernetes/admin.conf get configmap kube-proxy -n kube-system -o yaml | sed 's#server:.*#server: https://127.0.0.1:6443#g' | /usr/local/bin/kubectl --kubeconfig /etc/kubernetes/admin.conf replace -f -", "delta": "0:00:00.392870", "end": "2023-07-20 19:46:09.430305", "msg": "", "rc": 0, "start": "2023-07-20 19:46:09.037435", "stderr": "", "stderr_lines": [], "stdout": "configmap/kube-proxy replaced", "stdout_lines": ["configmap/kube-proxy replaced"]}
Четверг 20 июля 2023  22:46:09 +0300 (0:00:01.604)       0:25:55.021 ********** 

TASK [kubernetes/kubeadm : Set ca.crt file permission] *************************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/kubernetes/ssl/ca.crt", "size": 1099, "state": "file", "uid": 0}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/kubernetes/ssl/ca.crt", "size": 1099, "state": "file", "uid": 0}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/kubernetes/ssl/ca.crt", "size": 1099, "state": "file", "uid": 0}
Четверг 20 июля 2023  22:46:10 +0300 (0:00:01.106)       0:25:56.127 ********** 

TASK [kubernetes/kubeadm : Restart all kube-proxy pods to ensure that they load the new configmap] ***
changed: [master] => {"changed": true, "cmd": ["/usr/local/bin/kubectl", "--kubeconfig", "/etc/kubernetes/admin.conf", "delete", "pod", "-n", "kube-system", "-l", "k8s-app=kube-proxy", "--force", "--grace-period=0"], "delta": "0:00:00.361581", "end": "2023-07-20 19:46:11.294068", "msg": "", "rc": 0, "start": "2023-07-20 19:46:10.932487", "stderr": "Warning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely.", "stderr_lines": ["Warning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely."], "stdout": "pod \"kube-proxy-2bwbl\" force deleted\npod \"kube-proxy-bsg6t\" force deleted\npod \"kube-proxy-czkwk\" force deleted", "stdout_lines": ["pod \"kube-proxy-2bwbl\" force deleted", "pod \"kube-proxy-bsg6t\" force deleted", "pod \"kube-proxy-czkwk\" force deleted"]}
Четверг 20 июля 2023  22:46:11 +0300 (0:00:00.769)       0:25:56.896 ********** 
Четверг 20 июля 2023  22:46:11 +0300 (0:00:00.071)       0:25:56.968 ********** 

TASK [kubernetes/node-label : Kubernetes Apps | Wait for kube-apiserver] *******
ok: [master] => {"attempts": 1, "audit_id": "9be0b467-cfe2-4913-9446-958cadaac8f5", "cache_control": "no-cache, private", "changed": false, "connection": "close", "content_length": "2", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:46:12 GMT", "elapsed": 0, "msg": "OK (2 bytes)", "redirected": false, "status": 200, "url": "https://127.0.0.1:6443/healthz", "x_content_type_options": "nosniff", "x_kubernetes_pf_flowschema_uid": "f5e9ad60-9468-4850-b9ac-ef7fee15b19e", "x_kubernetes_pf_prioritylevel_uid": "fa0a4ae0-bd1f-4fa4-b0ee-9fd0e286e88f"}
Четверг 20 июля 2023  22:46:12 +0300 (0:00:01.420)       0:25:58.389 ********** 

TASK [kubernetes/node-label : Set role node label to empty list] ***************
ok: [master] => {"ansible_facts": {"role_node_labels": []}, "changed": false}
ok: [node1] => {"ansible_facts": {"role_node_labels": []}, "changed": false}
ok: [node2] => {"ansible_facts": {"role_node_labels": []}, "changed": false}
Четверг 20 июля 2023  22:46:12 +0300 (0:00:00.049)       0:25:58.439 ********** 
Четверг 20 июля 2023  22:46:12 +0300 (0:00:00.045)       0:25:58.484 ********** 

TASK [kubernetes/node-label : Set inventory node label to empty list] **********
ok: [master] => {"ansible_facts": {"inventory_node_labels": []}, "changed": false}
ok: [node1] => {"ansible_facts": {"inventory_node_labels": []}, "changed": false}
ok: [node2] => {"ansible_facts": {"inventory_node_labels": []}, "changed": false}
Четверг 20 июля 2023  22:46:13 +0300 (0:00:00.059)       0:25:58.544 ********** 
Четверг 20 июля 2023  22:46:13 +0300 (0:00:00.041)       0:25:58.585 ********** 

TASK [kubernetes/node-label : debug] *******************************************
ok: [master] => {
    "role_node_labels": []
}
ok: [node1] => {
    "role_node_labels": []
}
ok: [node2] => {
    "role_node_labels": []
}
Четверг 20 июля 2023  22:46:13 +0300 (0:00:00.050)       0:25:58.636 ********** 

TASK [kubernetes/node-label : debug] *******************************************
ok: [master] => {
    "inventory_node_labels": []
}
ok: [node1] => {
    "inventory_node_labels": []
}
ok: [node2] => {
    "inventory_node_labels": []
}
Четверг 20 июля 2023  22:46:13 +0300 (0:00:00.057)       0:25:58.693 ********** 
Четверг 20 июля 2023  22:46:13 +0300 (0:00:00.062)       0:25:58.756 ********** 

TASK [network_plugin/cni : CNI | make sure /opt/cni/bin exists] ****************
ok: [node1] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "kube", "path": "/opt/cni/bin", "size": 4096, "state": "directory", "uid": 998}
ok: [node2] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "kube", "path": "/opt/cni/bin", "size": 4096, "state": "directory", "uid": 998}
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "kube", "path": "/opt/cni/bin", "size": 4096, "state": "directory", "uid": 998}
Четверг 20 июля 2023  22:46:14 +0300 (0:00:01.086)       0:25:59.842 ********** 

TASK [network_plugin/cni : CNI | Copy cni plugins] *****************************
changed: [master] => {"changed": true, "dest": "/opt/cni/bin", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/opt/cni/bin", "-z", "-f", "/tmp/releases/cni-plugins-linux-amd64-v1.3.0.tgz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/cni-plugins-linux-amd64-v1.3.0.tgz", "state": "directory", "uid": 0}
changed: [node1] => {"changed": true, "dest": "/opt/cni/bin", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/opt/cni/bin", "-z", "-f", "/tmp/releases/cni-plugins-linux-amd64-v1.3.0.tgz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/cni-plugins-linux-amd64-v1.3.0.tgz", "state": "directory", "uid": 0}
changed: [node2] => {"changed": true, "dest": "/opt/cni/bin", "extract_results": {"cmd": ["/usr/bin/tar", "--extract", "-C", "/opt/cni/bin", "-z", "-f", "/tmp/releases/cni-plugins-linux-amd64-v1.3.0.tgz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/cni-plugins-linux-amd64-v1.3.0.tgz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:46:20 +0300 (0:00:05.765)       0:26:05.608 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.047)       0:26:05.655 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.046)       0:26:05.702 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.046)       0:26:05.748 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.043)       0:26:05.792 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.045)       0:26:05.837 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.149)       0:26:05.987 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.043)       0:26:06.030 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.044)       0:26:06.075 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.043)       0:26:06.118 ********** 
Четверг 20 июля 2023  22:46:20 +0300 (0:00:00.063)       0:26:06.182 ********** 

TASK [network_plugin/calico : Slurp CNI config] ********************************
ok: [node2] => {"changed": false, "failed_when_result": false, "msg": "file not found: /etc/cni/net.d/10-calico.conflist"}
ok: [master] => {"changed": false, "failed_when_result": false, "msg": "file not found: /etc/cni/net.d/10-calico.conflist"}
ok: [node1] => {"changed": false, "failed_when_result": false, "msg": "file not found: /etc/cni/net.d/10-calico.conflist"}
Четверг 20 июля 2023  22:46:23 +0300 (0:00:03.271)       0:26:09.453 ********** 
Четверг 20 июля 2023  22:46:24 +0300 (0:00:00.082)       0:26:09.535 ********** 
Четверг 20 июля 2023  22:46:24 +0300 (0:00:00.062)       0:26:09.598 ********** 
Четверг 20 июля 2023  22:46:24 +0300 (0:00:00.057)       0:26:09.656 ********** 

TASK [network_plugin/calico : Calico | Gather os specific variables] ***********
ok: [master] => (item=/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml) => {"ansible_facts": {"calico_wireguard_packages": ["wireguard"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/debian.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml"}
ok: [node1] => (item=/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml) => {"ansible_facts": {"calico_wireguard_packages": ["wireguard"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/debian.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml"}
ok: [node2] => (item=/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml) => {"ansible_facts": {"calico_wireguard_packages": ["wireguard"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/debian.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/network_plugin/calico/vars/../vars/debian.yml"}
Четверг 20 июля 2023  22:46:24 +0300 (0:00:00.067)       0:26:09.724 ********** 
Четверг 20 июля 2023  22:46:24 +0300 (0:00:00.044)       0:26:09.768 ********** 

TASK [network_plugin/calico : include_tasks] ***********************************
included: /home/antigen/diplom/kubespray/roles/network_plugin/calico/tasks/install.yml for master, node1, node2
Четверг 20 июля 2023  22:46:24 +0300 (0:00:00.093)       0:26:09.861 ********** 
Четверг 20 июля 2023  22:46:24 +0300 (0:00:00.044)       0:26:09.906 ********** 

TASK [network_plugin/calico : Calico | Copy calicoctl binary from download dir] ***
changed: [node1] => {"changed": true, "checksum": "bc3f20a899aca3f62451bb7d9b015b9805305216", "dest": "/usr/local/bin/calicoctl", "gid": 0, "group": "root", "md5sum": "9ee5af5751d88e8e52144780db1bc85c", "mode": "0755", "owner": "root", "size": 63789280, "src": "/tmp/releases/calicoctl", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "bc3f20a899aca3f62451bb7d9b015b9805305216", "dest": "/usr/local/bin/calicoctl", "gid": 0, "group": "root", "md5sum": "9ee5af5751d88e8e52144780db1bc85c", "mode": "0755", "owner": "root", "size": 63789280, "src": "/tmp/releases/calicoctl", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "bc3f20a899aca3f62451bb7d9b015b9805305216", "dest": "/usr/local/bin/calicoctl", "gid": 0, "group": "root", "md5sum": "9ee5af5751d88e8e52144780db1bc85c", "mode": "0755", "owner": "root", "size": 63789280, "src": "/tmp/releases/calicoctl", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:46:34 +0300 (0:00:09.928)       0:26:19.835 ********** 

TASK [network_plugin/calico : Calico | Write Calico cni config] ****************
changed: [node2] => {"changed": true, "checksum": "e07af7aa235001ae91022c7c9c2fa076fbeb574c", "dest": "/etc/cni/net.d/calico.conflist.template", "gid": 0, "group": "root", "md5sum": "306016294ac4fcd7b4197fcc0e428b2d", "mode": "0644", "owner": "root", "size": 726, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882394.4343264-685695-222309679570697/source", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "e07af7aa235001ae91022c7c9c2fa076fbeb574c", "dest": "/etc/cni/net.d/calico.conflist.template", "gid": 0, "group": "root", "md5sum": "306016294ac4fcd7b4197fcc0e428b2d", "mode": "0644", "owner": "root", "size": 726, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882394.4213278-685693-92197095896407/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "e07af7aa235001ae91022c7c9c2fa076fbeb574c", "dest": "/etc/cni/net.d/calico.conflist.template", "gid": 0, "group": "root", "md5sum": "306016294ac4fcd7b4197fcc0e428b2d", "mode": "0644", "owner": "root", "size": 726, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882394.4098964-685692-77126118492417/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:46:36 +0300 (0:00:02.300)       0:26:22.135 ********** 
Четверг 20 июля 2023  22:46:36 +0300 (0:00:00.045)       0:26:22.180 ********** 
Четверг 20 июля 2023  22:46:36 +0300 (0:00:00.058)       0:26:22.239 ********** 
Четверг 20 июля 2023  22:46:36 +0300 (0:00:00.045)       0:26:22.284 ********** 
Четверг 20 июля 2023  22:46:36 +0300 (0:00:00.044)       0:26:22.328 ********** 

TASK [network_plugin/calico : Calico | Install calicoctl wrapper script] *******
changed: [node2] => {"changed": true, "checksum": "9af654a04ae12505b22c8073af6372cf4c3d1662", "dest": "/usr/local/bin/calicoctl.sh", "gid": 0, "group": "root", "md5sum": "fdfbcba57297c024405dd3d767cce54e", "mode": "0755", "owner": "root", "size": 141, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882396.9232402-685790-83303379490204/source", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "9af654a04ae12505b22c8073af6372cf4c3d1662", "dest": "/usr/local/bin/calicoctl.sh", "gid": 0, "group": "root", "md5sum": "fdfbcba57297c024405dd3d767cce54e", "mode": "0755", "owner": "root", "size": 141, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882396.9121358-685788-253256862390118/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "80849706cc7fd83e5d38364f1f00cd0ce675dab4", "dest": "/usr/local/bin/calicoctl.sh", "gid": 0, "group": "root", "md5sum": "371defb497a2ced8846134ded122c45d", "mode": "0755", "owner": "root", "size": 135, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882396.9025655-685787-13602144260250/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:46:39 +0300 (0:00:02.243)       0:26:24.572 ********** 
Четверг 20 июля 2023  22:46:39 +0300 (0:00:00.018)       0:26:24.591 ********** 

TASK [network_plugin/calico : Calico | Check if calico network pool has already been configured] ***
ok: [master] => {"attempts": 1, "changed": false, "cmd": "/usr/local/bin/calicoctl.sh get ippool | grep -w \"10.233.64.0/18\" | wc -l\n", "delta": "0:00:00.100975", "end": "2023-07-20 19:46:40.048444", "msg": "", "rc": 0, "start": "2023-07-20 19:46:39.947469", "stderr": "", "stderr_lines": [], "stdout": "0", "stdout_lines": ["0"]}
Четверг 20 июля 2023  22:46:40 +0300 (0:00:01.132)       0:26:25.723 ********** 
Четверг 20 июля 2023  22:46:40 +0300 (0:00:00.045)       0:26:25.769 ********** 
Четверг 20 июля 2023  22:46:40 +0300 (0:00:00.044)       0:26:25.814 ********** 
Четверг 20 июля 2023  22:46:40 +0300 (0:00:00.044)       0:26:25.858 ********** 

TASK [network_plugin/calico : Calico | Check if extra directory is needed] *****
ok: [master] => {"changed": false, "stat": {"atime": 1689881564.6784492, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 8, "charset": "binary", "ctime": 1689881564.7744493, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 400605, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mimetype": "inode/directory", "mode": "0755", "mtime": 1680306051.0, "nlink": 2, "path": "/tmp/releases/calico-v3.25.1-kdd-crds/crd", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "version": "395831044", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:46:41 +0300 (0:00:01.077)       0:26:26.935 ********** 
Четверг 20 июля 2023  22:46:41 +0300 (0:00:00.045)       0:26:26.980 ********** 

TASK [network_plugin/calico : Calico | Set kdd path when calico > v3.22.2] *****
ok: [master] => {"ansible_facts": {"calico_kdd_path": "/tmp/releases/calico-v3.25.1-kdd-crds/crd"}, "changed": false}
Четверг 20 июля 2023  22:46:41 +0300 (0:00:00.055)       0:26:27.036 ********** 

TASK [network_plugin/calico : Calico | Create calico manifests for kdd] ********
changed: [master] => {"changed": true, "checksum": "f73078ee458ec8f3f5419c9077bc95a1d2ac072d", "dest": "/etc/kubernetes/kdd-crds.yml", "gid": 0, "group": "root", "md5sum": "23787fd3852984600dc2041ad8065dbf", "mode": "0644", "msg": "OK", "owner": "root", "size": 214511, "src": "/tmp/releases/calico-v3.25.1-kdd-crds/crd", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:46:42 +0300 (0:00:01.253)       0:26:28.289 ********** 

TASK [network_plugin/calico : Calico | Create Calico Kubernetes datastore resources] ***
ok: [master] => {"attempts": 1, "changed": false, "msg": "success: customresourcedefinition.apiextensions.k8s.io/bgpconfigurations.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/bgppeers.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/blockaffinities.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/caliconodestatuses.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/clusterinformations.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/felixconfigurations.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/globalnetworkpolicies.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/globalnetworksets.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/hostendpoints.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/ipamblocks.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/ipamconfigs.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/ipamhandles.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/ippools.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/ipreservations.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/kubecontrollersconfigurations.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/networkpolicies.crd.projectcalico.org created customresourcedefinition.apiextensions.k8s.io/networksets.crd.projectcalico.org created"}
Четверг 20 июля 2023  22:46:45 +0300 (0:00:02.505)       0:26:30.795 ********** 

TASK [network_plugin/calico : Calico | Get existing FelixConfiguration] ********
fatal: [master]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "felixconfig", "default", "-o", "json"], "delta": "0:00:00.151963", "end": "2023-07-20 19:46:46.438568", "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:46:46.286605", "stderr": "resource does not exist: FelixConfiguration(default) with error: felixconfigurations.crd.projectcalico.org \"default\" not found", "stderr_lines": ["resource does not exist: FelixConfiguration(default) with error: felixconfigurations.crd.projectcalico.org \"default\" not found"], "stdout": "null", "stdout_lines": ["null"]}
...ignoring
Четверг 20 июля 2023  22:46:46 +0300 (0:00:01.321)       0:26:32.117 ********** 

TASK [network_plugin/calico : Calico | Set kubespray FelixConfiguration] *******
ok: [master] => {"ansible_facts": {"_felix_config": {"apiVersion": "projectcalico.org/v3", "kind": "FelixConfiguration", "metadata": {"name": "default"}, "spec": {"bpfEnabled": false, "bpfExternalServiceMode": "Tunnel", "bpfLogLevel": "", "featureDetectOverride": "", "floatingIPs": "Disabled", "ipipEnabled": false, "logSeverityScreen": "Info", "reportingInterval": "0s", "vxlanEnabled": true, "wireguardEnabled": false}}}, "changed": false}
Четверг 20 июля 2023  22:46:46 +0300 (0:00:00.043)       0:26:32.160 ********** 
Четверг 20 июля 2023  22:46:46 +0300 (0:00:00.044)       0:26:32.205 ********** 

TASK [network_plugin/calico : Calico | Configure calico FelixConfiguration] ****
ok: [master] => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "apply", "-f", "-"], "delta": "0:00:00.108630", "end": "2023-07-20 19:46:47.686310", "msg": "", "rc": 0, "start": "2023-07-20 19:46:47.577680", "stderr": "", "stderr_lines": [], "stdout": "Successfully applied 1 'FelixConfiguration' resource(s)", "stdout_lines": ["Successfully applied 1 'FelixConfiguration' resource(s)"]}
Четверг 20 июля 2023  22:46:47 +0300 (0:00:01.158)       0:26:33.363 ********** 

TASK [network_plugin/calico : Calico | Get existing calico network pool] *******
fatal: [master]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "ippool", "default-pool", "-o", "json"], "delta": "0:00:00.111352", "end": "2023-07-20 19:46:48.859982", "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:46:48.748630", "stderr": "resource does not exist: IPPool(default-pool) with error: ippools.crd.projectcalico.org \"default-pool\" not found", "stderr_lines": ["resource does not exist: IPPool(default-pool) with error: ippools.crd.projectcalico.org \"default-pool\" not found"], "stdout": "null", "stdout_lines": ["null"]}
...ignoring
Четверг 20 июля 2023  22:46:49 +0300 (0:00:01.176)       0:26:34.539 ********** 

TASK [network_plugin/calico : Calico | Set kubespray calico network pool] ******
ok: [master] => {"ansible_facts": {"_calico_pool": {"apiVersion": "projectcalico.org/v3", "kind": "IPPool", "metadata": {"name": "default-pool"}, "spec": {"blockSize": 26, "cidr": "10.233.64.0/18", "ipipMode": "Never", "natOutgoing": true, "vxlanMode": "Always"}}}, "changed": false}
Четверг 20 июля 2023  22:46:49 +0300 (0:00:00.046)       0:26:34.586 ********** 
Четверг 20 июля 2023  22:46:49 +0300 (0:00:00.044)       0:26:34.630 ********** 

TASK [network_plugin/calico : Calico | Configure calico network pool] **********
ok: [master] => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "apply", "-f", "-"], "delta": "0:00:00.125932", "end": "2023-07-20 19:46:50.136483", "msg": "", "rc": 0, "start": "2023-07-20 19:46:50.010551", "stderr": "", "stderr_lines": [], "stdout": "Successfully applied 1 'IPPool' resource(s)", "stdout_lines": ["Successfully applied 1 'IPPool' resource(s)"]}
Четверг 20 июля 2023  22:46:50 +0300 (0:00:01.179)       0:26:35.810 ********** 
Четверг 20 июля 2023  22:46:50 +0300 (0:00:00.046)       0:26:35.856 ********** 
Четверг 20 июля 2023  22:46:50 +0300 (0:00:00.044)       0:26:35.901 ********** 
Четверг 20 июля 2023  22:46:50 +0300 (0:00:00.044)       0:26:35.945 ********** 
Четверг 20 июля 2023  22:46:50 +0300 (0:00:00.043)       0:26:35.989 ********** 
Четверг 20 июля 2023  22:46:50 +0300 (0:00:00.019)       0:26:36.009 ********** 
Четверг 20 июля 2023  22:46:50 +0300 (0:00:00.017)       0:26:36.026 ********** 
Четверг 20 июля 2023  22:46:50 +0300 (0:00:00.021)       0:26:36.047 ********** 

TASK [network_plugin/calico : Calico | Get existing BGP Configuration] *********
fatal: [master]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "bgpconfig", "default", "-o", "json"], "delta": "0:00:00.108491", "end": "2023-07-20 19:46:51.577174", "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:46:51.468683", "stderr": "resource does not exist: BGPConfiguration(default) with error: bgpconfigurations.crd.projectcalico.org \"default\" not found", "stderr_lines": ["resource does not exist: BGPConfiguration(default) with error: bgpconfigurations.crd.projectcalico.org \"default\" not found"], "stdout": "null", "stdout_lines": ["null"]}
...ignoring
Четверг 20 июля 2023  22:46:51 +0300 (0:00:01.207)       0:26:37.255 ********** 

TASK [network_plugin/calico : Calico | Set kubespray BGP Configuration] ********
ok: [master] => {"ansible_facts": {"_bgp_config": {"apiVersion": "projectcalico.org/v3", "kind": "BGPConfiguration", "metadata": {"name": "default"}, "spec": {"asNumber": 64512, "listenPort": 179, "logSeverityScreen": "Info", "nodeToNodeMeshEnabled": true, "serviceExternalIPs": []}}}, "changed": false}
Четверг 20 июля 2023  22:46:51 +0300 (0:00:00.043)       0:26:37.299 ********** 
Четверг 20 июля 2023  22:46:51 +0300 (0:00:00.045)       0:26:37.344 ********** 

TASK [network_plugin/calico : Calico | Set up BGP Configuration] ***************
ok: [master] => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "apply", "-f", "-"], "delta": "0:00:00.092717", "end": "2023-07-20 19:46:52.823288", "msg": "", "rc": 0, "start": "2023-07-20 19:46:52.730571", "stderr": "", "stderr_lines": [], "stdout": "Successfully applied 1 'BGPConfiguration' resource(s)", "stdout_lines": ["Successfully applied 1 'BGPConfiguration' resource(s)"]}
Четверг 20 июля 2023  22:46:52 +0300 (0:00:01.163)       0:26:38.508 ********** 

TASK [network_plugin/calico : Calico | Create calico manifests] ****************
changed: [master] => (item={'name': 'calico-config', 'file': 'calico-config.yml', 'type': 'cm'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "c1f5a3604e917a4d8e797faba3490d488f254330", "dest": "/etc/kubernetes/calico-config.yml", "gid": 0, "group": "root", "item": {"file": "calico-config.yml", "name": "calico-config", "type": "cm"}, "md5sum": "e64f47bcdb2a856cd3ae6665b9c53900", "mode": "0644", "owner": "root", "size": 148, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882413.0877998-686417-194965685230109/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'calico-node', 'file': 'calico-node.yml', 'type': 'ds'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "a4e66116fbbf462ba0e42047f8f7fb645a924b3b", "dest": "/etc/kubernetes/calico-node.yml", "gid": 0, "group": "root", "item": {"file": "calico-node.yml", "name": "calico-node", "type": "ds"}, "md5sum": "2a744b81eb2a8f57f21ae506b3644f20", "mode": "0644", "owner": "root", "size": 11027, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882415.3849797-686417-189795367759041/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'calico', 'file': 'calico-node-sa.yml', 'type': 'sa'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "a0486f717ae24476c480c8d36d7a739feb82a979", "dest": "/etc/kubernetes/calico-node-sa.yml", "gid": 0, "group": "root", "item": {"file": "calico-node-sa.yml", "name": "calico", "type": "sa"}, "md5sum": "b66d889f1dc1feab539f21f551d181cb", "mode": "0644", "owner": "root", "size": 95, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882417.6297617-686417-74029693607907/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'calico', 'file': 'calico-cr.yml', 'type': 'clusterrole'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "28de303dfe4af1f78570be095b5a713fe078eeee", "dest": "/etc/kubernetes/calico-cr.yml", "gid": 0, "group": "root", "item": {"file": "calico-cr.yml", "name": "calico", "type": "clusterrole"}, "md5sum": "5310dff476206308ccc09549f088e91d", "mode": "0644", "owner": "root", "size": 3625, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882419.8353617-686417-205553563360132/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'calico', 'file': 'calico-crb.yml', 'type': 'clusterrolebinding'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "f7cf2e3bcd232f0a5ef12f1f47b7c70af7c9f5c1", "dest": "/etc/kubernetes/calico-crb.yml", "gid": 0, "group": "root", "item": {"file": "calico-crb.yml", "name": "calico", "type": "clusterrolebinding"}, "md5sum": "e74e2bf3ece316e2f7f1a54accd2001f", "mode": "0644", "owner": "root", "size": 265, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882422.0563283-686417-160552287688313/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'kubernetes-services-endpoint', 'file': 'kubernetes-services-endpoint.yml', 'type': 'cm'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "9f82492c750fb008b548336fad4f5bad3020aa07", "dest": "/etc/kubernetes/kubernetes-services-endpoint.yml", "gid": 0, "group": "root", "item": {"file": "kubernetes-services-endpoint.yml", "name": "kubernetes-services-endpoint", "type": "cm"}, "md5sum": "7271fb7c8236596e81d660a8d0eb71c7", "mode": "0644", "owner": "root", "size": 113, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882424.2447007-686417-100108922709802/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:47:06 +0300 (0:00:13.407)       0:26:51.916 ********** 
Четверг 20 июля 2023  22:47:06 +0300 (0:00:00.047)       0:26:51.963 ********** 
Четверг 20 июля 2023  22:47:06 +0300 (0:00:00.044)       0:26:52.008 ********** 
Четверг 20 июля 2023  22:47:06 +0300 (0:00:00.047)       0:26:52.055 ********** 
Четверг 20 июля 2023  22:47:06 +0300 (0:00:00.045)       0:26:52.101 ********** 

TASK [network_plugin/calico : Start Calico resources] **************************
ok: [master] => (item=calico-config.yml) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "c1f5a3604e917a4d8e797faba3490d488f254330", "dest": "/etc/kubernetes/calico-config.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-config.yml.j2", "attributes": null, "backup": false, "checksum": "c1f5a3604e917a4d8e797faba3490d488f254330", "content": null, "dest": "/etc/kubernetes/calico-config.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882413.0877998-686417-194965685230109/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-config.yml", "name": "calico-config", "type": "cm"}, "md5sum": "e64f47bcdb2a856cd3ae6665b9c53900", "mode": "0644", "owner": "root", "size": 148, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882413.0877998-686417-194965685230109/source", "state": "file", "uid": 0}, "msg": "success: configmap/calico-config created"}
ok: [master] => (item=calico-node.yml) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "a4e66116fbbf462ba0e42047f8f7fb645a924b3b", "dest": "/etc/kubernetes/calico-node.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-node.yml.j2", "attributes": null, "backup": false, "checksum": "a4e66116fbbf462ba0e42047f8f7fb645a924b3b", "content": null, "dest": "/etc/kubernetes/calico-node.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882415.3849797-686417-189795367759041/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-node.yml", "name": "calico-node", "type": "ds"}, "md5sum": "2a744b81eb2a8f57f21ae506b3644f20", "mode": "0644", "owner": "root", "size": 11027, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882415.3849797-686417-189795367759041/source", "state": "file", "uid": 0}, "msg": "success: daemonset.apps/calico-node created"}
ok: [master] => (item=calico-node-sa.yml) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "a0486f717ae24476c480c8d36d7a739feb82a979", "dest": "/etc/kubernetes/calico-node-sa.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-node-sa.yml.j2", "attributes": null, "backup": false, "checksum": "a0486f717ae24476c480c8d36d7a739feb82a979", "content": null, "dest": "/etc/kubernetes/calico-node-sa.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882417.6297617-686417-74029693607907/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-node-sa.yml", "name": "calico", "type": "sa"}, "md5sum": "b66d889f1dc1feab539f21f551d181cb", "mode": "0644", "owner": "root", "size": 95, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882417.6297617-686417-74029693607907/source", "state": "file", "uid": 0}, "msg": "success: serviceaccount/calico-node created"}
ok: [master] => (item=calico-cr.yml) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "28de303dfe4af1f78570be095b5a713fe078eeee", "dest": "/etc/kubernetes/calico-cr.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-cr.yml.j2", "attributes": null, "backup": false, "checksum": "28de303dfe4af1f78570be095b5a713fe078eeee", "content": null, "dest": "/etc/kubernetes/calico-cr.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882419.8353617-686417-205553563360132/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-cr.yml", "name": "calico", "type": "clusterrole"}, "md5sum": "5310dff476206308ccc09549f088e91d", "mode": "0644", "owner": "root", "size": 3625, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882419.8353617-686417-205553563360132/source", "state": "file", "uid": 0}, "msg": "success: clusterrole.rbac.authorization.k8s.io/calico-node created"}
ok: [master] => (item=calico-crb.yml) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "f7cf2e3bcd232f0a5ef12f1f47b7c70af7c9f5c1", "dest": "/etc/kubernetes/calico-crb.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-crb.yml.j2", "attributes": null, "backup": false, "checksum": "f7cf2e3bcd232f0a5ef12f1f47b7c70af7c9f5c1", "content": null, "dest": "/etc/kubernetes/calico-crb.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882422.0563283-686417-160552287688313/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-crb.yml", "name": "calico", "type": "clusterrolebinding"}, "md5sum": "e74e2bf3ece316e2f7f1a54accd2001f", "mode": "0644", "owner": "root", "size": 265, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882422.0563283-686417-160552287688313/source", "state": "file", "uid": 0}, "msg": "success: clusterrolebinding.rbac.authorization.k8s.io/calico-node created"}
ok: [master] => (item=kubernetes-services-endpoint.yml) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "9f82492c750fb008b548336fad4f5bad3020aa07", "dest": "/etc/kubernetes/kubernetes-services-endpoint.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "kubernetes-services-endpoint.yml.j2", "attributes": null, "backup": false, "checksum": "9f82492c750fb008b548336fad4f5bad3020aa07", "content": null, "dest": "/etc/kubernetes/kubernetes-services-endpoint.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882424.2447007-686417-100108922709802/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "kubernetes-services-endpoint.yml", "name": "kubernetes-services-endpoint", "type": "cm"}, "md5sum": "7271fb7c8236596e81d660a8d0eb71c7", "mode": "0644", "owner": "root", "size": 113, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882424.2447007-686417-100108922709802/source", "state": "file", "uid": 0}, "msg": "success: configmap/kubernetes-services-endpoint created"}
Четверг 20 июля 2023  22:47:17 +0300 (0:00:10.797)       0:27:02.898 ********** 
Четверг 20 июля 2023  22:47:17 +0300 (0:00:00.048)       0:27:02.947 ********** 

TASK [network_plugin/calico : Wait for calico kubeconfig to be created] ********
ok: [node1] => {"changed": false, "elapsed": 39, "gid": 0, "group": "root", "match_groupdict": {}, "match_groups": [], "mode": "0600", "owner": "root", "path": "/etc/cni/net.d/calico-kubeconfig", "port": null, "search_regex": null, "size": 2687, "state": "file", "uid": 0}
ok: [node2] => {"changed": false, "elapsed": 39, "gid": 0, "group": "root", "match_groupdict": {}, "match_groups": [], "mode": "0600", "owner": "root", "path": "/etc/cni/net.d/calico-kubeconfig", "port": null, "search_regex": null, "size": 2687, "state": "file", "uid": 0}
Четверг 20 июля 2023  22:47:58 +0300 (0:00:40.906)       0:27:43.853 ********** 

TASK [network_plugin/calico : Calico | Create Calico ipam manifests] ***********
changed: [master] => (item={'name': 'calico', 'file': 'calico-ipamconfig.yml', 'type': 'ipam'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "c896a85b4dd7f3b156122af21e4f600852040cbc", "dest": "/etc/kubernetes/calico-ipamconfig.yml", "gid": 0, "group": "root", "item": {"file": "calico-ipamconfig.yml", "name": "calico", "type": "ipam"}, "md5sum": "de0fbd835c3b0439f37c120b112a002b", "mode": "0644", "owner": "root", "size": 159, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882478.4422019-687941-217724776000971/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:48:01 +0300 (0:00:02.816)       0:27:46.670 ********** 

TASK [network_plugin/calico : Calico | Create ipamconfig resources] ************
ok: [master] => {"attempts": 1, "changed": false, "msg": "success: ipamconfig.crd.projectcalico.org/default created"}
Четверг 20 июля 2023  22:48:03 +0300 (0:00:02.127)       0:27:48.798 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.048)       0:27:48.846 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.068)       0:27:48.914 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.040)       0:27:48.955 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.070)       0:27:49.025 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.043)       0:27:49.069 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.065)       0:27:49.134 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.059)       0:27:49.194 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.041)       0:27:49.236 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.040)       0:27:49.276 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.048)       0:27:49.325 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.044)       0:27:49.369 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.057)       0:27:49.427 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.043)       0:27:49.470 ********** 
Четверг 20 июля 2023  22:48:03 +0300 (0:00:00.058)       0:27:49.529 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.044)       0:27:49.573 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.046)       0:27:49.619 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.050)       0:27:49.670 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.046)       0:27:49.717 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.041)       0:27:49.758 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.059)       0:27:49.818 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.049)       0:27:49.868 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.073)       0:27:49.941 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.049)       0:27:49.990 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.046)       0:27:50.037 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.044)       0:27:50.081 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.042)       0:27:50.124 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.045)       0:27:50.170 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.045)       0:27:50.215 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.040)       0:27:50.256 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.042)       0:27:50.299 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.045)       0:27:50.345 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.049)       0:27:50.395 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.037)       0:27:50.432 ********** 
Четверг 20 июля 2023  22:48:04 +0300 (0:00:00.046)       0:27:50.479 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.084)       0:27:50.564 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.033)       0:27:50.597 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.055)       0:27:50.653 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.052)       0:27:50.705 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.140)       0:27:50.845 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.045)       0:27:50.891 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.043)       0:27:50.934 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.041)       0:27:50.976 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.064)       0:27:51.040 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.044)       0:27:51.085 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.046)       0:27:51.132 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.050)       0:27:51.182 ********** 
Четверг 20 июля 2023  22:48:05 +0300 (0:00:00.082)       0:27:51.265 ********** 

RUNNING HANDLER [kubernetes/kubeadm : Kubeadm | restart kubelet] ***************
changed: [node2] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004005", "end": "2023-07-20 19:48:06.613443", "msg": "", "rc": 0, "start": "2023-07-20 19:48:06.609438", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node1] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004429", "end": "2023-07-20 19:48:06.710193", "msg": "", "rc": 0, "start": "2023-07-20 19:48:06.705764", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:48:06 +0300 (0:00:01.109)       0:27:52.374 ********** 

RUNNING HANDLER [kubernetes/kubeadm : Kubeadm | reload systemd] ****************
ok: [node2] => {"changed": false, "name": null, "status": {}}
ok: [node1] => {"changed": false, "name": null, "status": {}}
Четверг 20 июля 2023  22:48:08 +0300 (0:00:01.720)       0:27:54.095 ********** 

RUNNING HANDLER [kubernetes/kubeadm : Kubeadm | reload kubelet] ****************
changed: [node2] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:39:11 UTC", "ActiveEnterTimestampMonotonic": "3064063256", "ActiveExitTimestamp": "Thu 2023-07-20 19:39:09 UTC", "ActiveExitTimestampMonotonic": "3062093949", "ActiveState": "active", "After": "systemd-journald.socket sysinit.target containerd.service basic.target system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:39:11 UTC", "AssertTimestampMonotonic": "3064060650", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:39:11 UTC", "ConditionTimestampMonotonic": "3064060650", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "13776", "ExecMainStartTimestamp": "Thu 2023-07-20 19:39:11 UTC", "ExecMainStartTimestampMonotonic": "3064062716", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:39:11 UTC", "InactiveEnterTimestampMonotonic": "3063777457", "InactiveExitTimestamp": "Thu 2023-07-20 19:39:11 UTC", "InactiveExitTimestampMonotonic": "3064063256", "InvocationID": "5f028e8ae16e438c994d5f538cd8e3a0", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "13776", "MemoryAccounting": "yes", "MemoryCurrent": "40591360", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "12", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:39:11 UTC", "StateChangeTimestampMonotonic": "3064063256", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "11", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [node1] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:39:11 UTC", "ActiveEnterTimestampMonotonic": "3074266564", "ActiveExitTimestamp": "Thu 2023-07-20 19:39:09 UTC", "ActiveExitTimestampMonotonic": "3071383831", "ActiveState": "active", "After": "systemd-journald.socket containerd.service basic.target system.slice sysinit.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:39:11 UTC", "AssertTimestampMonotonic": "3074264086", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:39:11 UTC", "ConditionTimestampMonotonic": "3074264086", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "14320", "ExecMainStartTimestamp": "Thu 2023-07-20 19:39:11 UTC", "ExecMainStartTimestampMonotonic": "3074266084", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:39:11 UTC", "InactiveEnterTimestampMonotonic": "3073968397", "InactiveExitTimestamp": "Thu 2023-07-20 19:39:11 UTC", "InactiveExitTimestampMonotonic": "3074266564", "InvocationID": "5a9bbd6fb1cf4175b8204e03352f4dd5", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "14320", "MemoryAccounting": "yes", "MemoryCurrent": "41025536", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "12", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:39:11 UTC", "StateChangeTimestampMonotonic": "3074266564", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "11", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:48:10 +0300 (0:00:01.541)       0:27:55.637 ********** 

PLAY [calico_rr] ***************************************************************
skipping: no hosts matched

PLAY [kube_control_plane[0]] ***************************************************
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.073)       0:27:55.710 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.019)       0:27:55.730 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.023)       0:27:55.753 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.025)       0:27:55.779 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.019)       0:27:55.798 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.018)       0:27:55.816 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.019)       0:27:55.836 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.020)       0:27:55.856 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.019)       0:27:55.875 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.019)       0:27:55.895 ********** 
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.566)       0:27:56.462 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:48:10 +0300 (0:00:00.046)       0:27:56.509 ********** 
Четверг 20 июля 2023  22:48:11 +0300 (0:00:00.033)       0:27:56.542 ********** 
Четверг 20 июля 2023  22:48:11 +0300 (0:00:00.019)       0:27:56.562 ********** 
Четверг 20 июля 2023  22:48:11 +0300 (0:00:00.020)       0:27:56.582 ********** 
Четверг 20 июля 2023  22:48:11 +0300 (0:00:00.021)       0:27:56.604 ********** 
Четверг 20 июля 2023  22:48:11 +0300 (0:00:00.023)       0:27:56.627 ********** 
Четверг 20 июля 2023  22:48:11 +0300 (0:00:00.023)       0:27:56.650 ********** 

TASK [win_nodes/kubernetes_patch : Ensure that user manifests directory exists] ***
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/root/kube-manifests/kubernetes", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:48:12 +0300 (0:00:01.180)       0:27:57.831 ********** 

TASK [win_nodes/kubernetes_patch : Check current nodeselector for kube-proxy daemonset] ***
ok: [master] => {"attempts": 1, "changed": false, "cmd": ["/usr/local/bin/kubectl", "--kubeconfig", "/etc/kubernetes/admin.conf", "get", "ds", "kube-proxy", "--namespace=kube-system", "-o", "jsonpath={.spec.template.spec.nodeSelector.kubernetes.io/os}"], "delta": "0:00:00.126724", "end": "2023-07-20 19:48:13.423648", "msg": "", "rc": 0, "start": "2023-07-20 19:48:13.296924", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:48:13 +0300 (0:00:01.276)       0:27:59.108 ********** 

TASK [win_nodes/kubernetes_patch : Apply nodeselector patch for kube-proxy daemonset] ***
changed: [master] => {"changed": true, "cmd": ["/usr/local/bin/kubectl", "--kubeconfig", "/etc/kubernetes/admin.conf", "patch", "ds", "kube-proxy", "--namespace=kube-system", "--type=strategic", "-p", "{\"spec\":{\"template\":{\"spec\":{\"nodeSelector\":{\"kubernetes.io/os\":\"linux\"} }}}}"], "delta": "0:00:00.188066", "end": "2023-07-20 19:48:14.724386", "msg": "", "rc": 0, "start": "2023-07-20 19:48:14.536320", "stderr": "", "stderr_lines": [], "stdout": "daemonset.apps/kube-proxy patched (no change)", "stdout_lines": ["daemonset.apps/kube-proxy patched (no change)"]}
Четверг 20 июля 2023  22:48:14 +0300 (0:00:01.317)       0:28:00.425 ********** 

TASK [win_nodes/kubernetes_patch : debug] **************************************
ok: [master] => {
    "msg": [
        "daemonset.apps/kube-proxy patched (no change)"
    ]
}
Четверг 20 июля 2023  22:48:14 +0300 (0:00:00.030)       0:28:00.456 ********** 

TASK [win_nodes/kubernetes_patch : debug] **************************************
ok: [master] => {
    "msg": []
}

PLAY [kube_control_plane] ******************************************************
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.109)       0:28:00.565 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.023)       0:28:00.588 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.023)       0:28:00.611 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.022)       0:28:00.634 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.020)       0:28:00.654 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.020)       0:28:00.674 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.020)       0:28:00.695 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.022)       0:28:00.718 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.023)       0:28:00.741 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.036)       0:28:00.777 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.543)       0:28:01.321 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.049)       0:28:01.370 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.035)       0:28:01.406 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.020)       0:28:01.427 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.021)       0:28:01.448 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.020)       0:28:01.469 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.019)       0:28:01.489 ********** 
Четверг 20 июля 2023  22:48:15 +0300 (0:00:00.027)       0:28:01.517 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.018)       0:28:01.536 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.018)       0:28:01.554 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.019)       0:28:01.574 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.029)       0:28:01.604 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.040)       0:28:01.644 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.020)       0:28:01.664 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.020)       0:28:01.684 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.028)       0:28:01.713 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.017)       0:28:01.731 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.018)       0:28:01.750 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.037)       0:28:01.787 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.020)       0:28:01.807 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.039)       0:28:01.847 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.026)       0:28:01.874 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.025)       0:28:01.900 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.032)       0:28:01.933 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.020)       0:28:01.953 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.039)       0:28:01.992 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.029)       0:28:02.021 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.156)       0:28:02.177 ********** 
Четверг 20 июля 2023  22:48:16 +0300 (0:00:00.068)       0:28:02.246 ********** 

TASK [policy_controller/calico : Create calico-kube-controllers manifests] *****
changed: [master] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-controllers.yml', 'type': 'deployment'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "d2db5b321f4dac41d1edf44660b6dfceacd1bb80", "dest": "/etc/kubernetes/calico-kube-controllers.yml", "gid": 0, "group": "root", "item": {"file": "calico-kube-controllers.yml", "name": "calico-kube-controllers", "type": "deployment"}, "md5sum": "0834d9dd276999b6239532fafb27bbbc", "mode": "0644", "owner": "root", "size": 1656, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882496.8258443-688883-33729509321288/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-sa.yml', 'type': 'sa'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "468d0809606571a9cf437d6f6e15f9ee1b372940", "dest": "/etc/kubernetes/calico-kube-sa.yml", "gid": 0, "group": "root", "item": {"file": "calico-kube-sa.yml", "name": "calico-kube-controllers", "type": "sa"}, "md5sum": "b0fdcaf547f95776c6bc705429bb94b5", "mode": "0644", "owner": "root", "size": 107, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882499.0814452-688883-137451300552928/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-cr.yml', 'type': 'clusterrole'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "7e05b7fa4c9e581eb01e485bb6d3cae327031abf", "dest": "/etc/kubernetes/calico-kube-cr.yml", "gid": 0, "group": "root", "item": {"file": "calico-kube-cr.yml", "name": "calico-kube-controllers", "type": "clusterrole"}, "md5sum": "8e42eab3600f47a3759e63ee009a55d6", "mode": "0644", "owner": "root", "size": 1733, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882501.3486233-688883-254318739046469/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'calico-kube-controllers', 'file': 'calico-kube-crb.yml', 'type': 'clusterrolebinding'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "c53baef2dd6c15731acf1f9cb1a61f3d51cd7335", "dest": "/etc/kubernetes/calico-kube-crb.yml", "gid": 0, "group": "root", "item": {"file": "calico-kube-crb.yml", "name": "calico-kube-controllers", "type": "clusterrolebinding"}, "md5sum": "f378afa40f83da850197735bf0881ecf", "mode": "0644", "owner": "root", "size": 301, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882503.6287022-688883-161493775817090/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:48:25 +0300 (0:00:09.098)       0:28:11.344 ********** 

TASK [policy_controller/calico : Start of Calico kube controllers] *************
ok: [master] => (item=calico-kube-controllers.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "d2db5b321f4dac41d1edf44660b6dfceacd1bb80", "dest": "/etc/kubernetes/calico-kube-controllers.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-kube-controllers.yml.j2", "attributes": null, "backup": false, "checksum": "d2db5b321f4dac41d1edf44660b6dfceacd1bb80", "content": null, "dest": "/etc/kubernetes/calico-kube-controllers.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882496.8258443-688883-33729509321288/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-kube-controllers.yml", "name": "calico-kube-controllers", "type": "deployment"}, "md5sum": "0834d9dd276999b6239532fafb27bbbc", "mode": "0644", "owner": "root", "size": 1656, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882496.8258443-688883-33729509321288/source", "state": "file", "uid": 0}, "msg": "success: deployment.apps/calico-kube-controllers created"}
ok: [master] => (item=calico-kube-sa.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "468d0809606571a9cf437d6f6e15f9ee1b372940", "dest": "/etc/kubernetes/calico-kube-sa.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-kube-sa.yml.j2", "attributes": null, "backup": false, "checksum": "468d0809606571a9cf437d6f6e15f9ee1b372940", "content": null, "dest": "/etc/kubernetes/calico-kube-sa.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882499.0814452-688883-137451300552928/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-kube-sa.yml", "name": "calico-kube-controllers", "type": "sa"}, "md5sum": "b0fdcaf547f95776c6bc705429bb94b5", "mode": "0644", "owner": "root", "size": 107, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882499.0814452-688883-137451300552928/source", "state": "file", "uid": 0}, "msg": "success: serviceaccount/calico-kube-controllers created"}
ok: [master] => (item=calico-kube-cr.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "7e05b7fa4c9e581eb01e485bb6d3cae327031abf", "dest": "/etc/kubernetes/calico-kube-cr.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-kube-cr.yml.j2", "attributes": null, "backup": false, "checksum": "7e05b7fa4c9e581eb01e485bb6d3cae327031abf", "content": null, "dest": "/etc/kubernetes/calico-kube-cr.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882501.3486233-688883-254318739046469/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-kube-cr.yml", "name": "calico-kube-controllers", "type": "clusterrole"}, "md5sum": "8e42eab3600f47a3759e63ee009a55d6", "mode": "0644", "owner": "root", "size": 1733, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882501.3486233-688883-254318739046469/source", "state": "file", "uid": 0}, "msg": "success: clusterrole.rbac.authorization.k8s.io/calico-kube-controllers created"}
ok: [master] => (item=calico-kube-crb.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "c53baef2dd6c15731acf1f9cb1a61f3d51cd7335", "dest": "/etc/kubernetes/calico-kube-crb.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "calico-kube-crb.yml.j2", "attributes": null, "backup": false, "checksum": "c53baef2dd6c15731acf1f9cb1a61f3d51cd7335", "content": null, "dest": "/etc/kubernetes/calico-kube-crb.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882503.6287022-688883-161493775817090/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "calico-kube-crb.yml", "name": "calico-kube-controllers", "type": "clusterrolebinding"}, "md5sum": "f378afa40f83da850197735bf0881ecf", "mode": "0644", "owner": "root", "size": 301, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882503.6287022-688883-161493775817090/source", "state": "file", "uid": 0}, "msg": "success: clusterrolebinding.rbac.authorization.k8s.io/calico-kube-controllers created"}
Четверг 20 июля 2023  22:48:31 +0300 (0:00:06.022)       0:28:17.367 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.018)       0:28:17.386 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.019)       0:28:17.406 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.021)       0:28:17.427 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.018)       0:28:17.446 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.025)       0:28:17.471 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.017)       0:28:17.489 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.018)       0:28:17.508 ********** 
Четверг 20 июля 2023  22:48:31 +0300 (0:00:00.018)       0:28:17.526 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:17.544 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.022)       0:28:17.567 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.028)       0:28:17.596 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.019)       0:28:17.616 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.033)       0:28:17.649 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.049)       0:28:17.699 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.030)       0:28:17.730 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:17.748 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.023)       0:28:17.772 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:17.791 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.025)       0:28:17.816 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:17.835 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.019)       0:28:17.855 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:17.873 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:17.892 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.017)       0:28:17.910 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.020)       0:28:17.931 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.019)       0:28:17.950 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.026)       0:28:17.976 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.020)       0:28:17.997 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.020)       0:28:18.018 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.020)       0:28:18.038 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.037)       0:28:18.076 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.020)       0:28:18.096 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.025)       0:28:18.122 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:18.140 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.027)       0:28:18.168 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:18.186 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.017)       0:28:18.204 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:18.222 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.017)       0:28:18.240 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.018)       0:28:18.258 ********** 
Четверг 20 июля 2023  22:48:32 +0300 (0:00:00.038)       0:28:18.297 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Wait for kube-apiserver] *****
ok: [master] => {"attempts": 1, "audit_id": "bdce9181-d33e-49e5-9977-4b86866bf133", "cache_control": "no-cache, private", "changed": false, "connection": "close", "content_length": "2", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:48:34 GMT", "elapsed": 0, "msg": "OK (2 bytes)", "redirected": false, "status": 200, "url": "https://127.0.0.1:6443/healthz", "x_content_type_options": "nosniff", "x_kubernetes_pf_flowschema_uid": "f5e9ad60-9468-4850-b9ac-ef7fee15b19e", "x_kubernetes_pf_prioritylevel_uid": "fa0a4ae0-bd1f-4fa4-b0ee-9fd0e286e88f"}
Четверг 20 июля 2023  22:48:34 +0300 (0:00:01.439)       0:28:19.736 ********** 

TASK [kubernetes-apps/ansible : Changing perm of "/etc/kubernetes/admin.conf", a+r] ***
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/kubernetes/admin.conf", "size": 5645, "state": "file", "uid": 0}
Четверг 20 июля 2023  22:48:35 +0300 (0:00:01.074)       0:28:20.811 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Register coredns deployment annotation `createdby`] ***
fatal: [master]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/kubectl", "--kubeconfig", "/etc/kubernetes/admin.conf", "get", "deploy", "-n", "kube-system", "coredns", "-o", "jsonpath={ .spec.template.metadata.annotations.createdby }"], "delta": "0:00:00.136391", "end": "2023-07-20 19:48:36.359001", "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:48:36.222610", "stderr": "Error from server (NotFound): deployments.apps \"coredns\" not found", "stderr_lines": ["Error from server (NotFound): deployments.apps \"coredns\" not found"], "stdout": "", "stdout_lines": []}
...ignoring
Четверг 20 июля 2023  22:48:36 +0300 (0:00:01.223)       0:28:22.035 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Register coredns service annotation `createdby`] ***
fatal: [master]: FAILED! => {"changed": false, "cmd": ["/usr/local/bin/kubectl", "--kubeconfig", "/etc/kubernetes/admin.conf", "get", "svc", "-n", "kube-system", "coredns", "-o", "jsonpath={ .metadata.annotations.createdby }"], "delta": "0:00:00.121634", "end": "2023-07-20 19:48:37.545333", "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:48:37.423699", "stderr": "Error from server (NotFound): services \"coredns\" not found", "stderr_lines": ["Error from server (NotFound): services \"coredns\" not found"], "stdout": "", "stdout_lines": []}
...ignoring
Четверг 20 июля 2023  22:48:37 +0300 (0:00:01.187)       0:28:23.222 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Delete kubeadm CoreDNS] ******
ok: [master] => {"changed": false, "msg": "success: "}
Четверг 20 июля 2023  22:48:38 +0300 (0:00:01.179)       0:28:24.402 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Delete kubeadm Kube-DNS service] ***
ok: [master] => {"changed": false, "msg": "success: "}
Четверг 20 июля 2023  22:48:40 +0300 (0:00:01.197)       0:28:25.599 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Lay Down CoreDNS templates] ***
changed: [master] => (item={'name': 'coredns', 'file': 'coredns-clusterrole.yml', 'type': 'clusterrole'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "b1698aff8f99fbfc39b032e3efdd719d548f70d4", "dest": "/etc/kubernetes/coredns-clusterrole.yml", "gid": 0, "group": "root", "item": {"file": "coredns-clusterrole.yml", "name": "coredns", "type": "clusterrole"}, "md5sum": "5e8da373acd2902137663496d7c7746f", "mode": "0644", "owner": "root", "size": 473, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882520.186261-689543-227982016719603/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'coredns', 'file': 'coredns-clusterrolebinding.yml', 'type': 'clusterrolebinding'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "27b881209cb41225b20ab14bc9bdca6e45c45750", "dest": "/etc/kubernetes/coredns-clusterrolebinding.yml", "gid": 0, "group": "root", "item": {"file": "coredns-clusterrolebinding.yml", "name": "coredns", "type": "clusterrolebinding"}, "md5sum": "751c8b9b4b4de0d14eae5d3f4fc1f208", "mode": "0644", "owner": "root", "size": 451, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882522.489913-689543-265172735023789/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'coredns', 'file': 'coredns-config.yml', 'type': 'configmap'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "576f63a08b95cb8f193fec7e5e4033615823be91", "dest": "/etc/kubernetes/coredns-config.yml", "gid": 0, "group": "root", "item": {"file": "coredns-config.yml", "name": "coredns", "type": "configmap"}, "md5sum": "3fb0ce7cc42037a068d5c0333dae1a7b", "mode": "0644", "owner": "root", "size": 597, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882524.7265868-689543-228961170453178/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'coredns', 'file': 'coredns-deployment.yml', 'type': 'deployment'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "a9db7c571600267aaa3d7fcfa3f97603b8feef0d", "dest": "/etc/kubernetes/coredns-deployment.yml", "gid": 0, "group": "root", "item": {"file": "coredns-deployment.yml", "name": "coredns", "type": "deployment"}, "md5sum": "92e96993e24757ee638e5b00adff9472", "mode": "0644", "owner": "root", "size": 3180, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882527.0705073-689543-93789622705325/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'coredns', 'file': 'coredns-sa.yml', 'type': 'sa'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "120a7b2f1f1e14e639ff7b5daa4ed21a980d80f7", "dest": "/etc/kubernetes/coredns-sa.yml", "gid": 0, "group": "root", "item": {"file": "coredns-sa.yml", "name": "coredns", "type": "sa"}, "md5sum": "bfec6ec350bf47d850c62497fed4a879", "mode": "0644", "owner": "root", "size": 190, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882529.2992642-689543-192571451872324/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'coredns', 'file': 'coredns-svc.yml', 'type': 'svc'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "ea37b9ad1ce7b47e440c8f51a388de782761adae", "dest": "/etc/kubernetes/coredns-svc.yml", "gid": 0, "group": "root", "item": {"file": "coredns-svc.yml", "name": "coredns", "type": "svc"}, "md5sum": "02ac452dc944cf688168bb436bdbf31d", "mode": "0644", "owner": "root", "size": 539, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882531.5619771-689543-200821485205321/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler.yml', 'type': 'deployment'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "51e6dee7404032279320efc84791ae9494f8cc67", "dest": "/etc/kubernetes/dns-autoscaler.yml", "gid": 0, "group": "root", "item": {"file": "dns-autoscaler.yml", "name": "dns-autoscaler", "type": "deployment"}, "md5sum": "6b026c1a37d22254b426d1deccbab94d", "mode": "0644", "owner": "root", "size": 2644, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882534.093003-689543-277419297511734/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler-clusterrole.yml', 'type': 'clusterrole'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "f5047c80df26d815fbc5873fc47b9d7c31a0aa0f", "dest": "/etc/kubernetes/dns-autoscaler-clusterrole.yml", "gid": 0, "group": "root", "item": {"file": "dns-autoscaler-clusterrole.yml", "name": "dns-autoscaler", "type": "clusterrole"}, "md5sum": "859012d2b25325835b044a62cc0226bc", "mode": "0644", "owner": "root", "size": 1150, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882537.2780511-689543-223650752827343/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler-clusterrolebinding.yml', 'type': 'clusterrolebinding'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "5c5b302e4cd73c2ec5ceb5262b2bd608173faccc", "dest": "/etc/kubernetes/dns-autoscaler-clusterrolebinding.yml", "gid": 0, "group": "root", "item": {"file": "dns-autoscaler-clusterrolebinding.yml", "name": "dns-autoscaler", "type": "clusterrolebinding"}, "md5sum": "7f8769d1e1b5cd33313edea39550fb6a", "mode": "0644", "owner": "root", "size": 959, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882540.2899175-689543-228583153677132/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'dns-autoscaler', 'file': 'dns-autoscaler-sa.yml', 'type': 'sa'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "9d96dcf2256bb4968a45d09e9232666384e83f2e", "dest": "/etc/kubernetes/dns-autoscaler-sa.yml", "gid": 0, "group": "root", "item": {"file": "dns-autoscaler-sa.yml", "name": "dns-autoscaler", "type": "sa"}, "md5sum": "a111f82d5400ea2f9af53e9d6e627b6c", "mode": "0644", "owner": "root", "size": 763, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882543.294983-689543-262038374215765/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:49:06 +0300 (0:00:26.208)       0:28:51.808 ********** 
Четверг 20 июля 2023  22:49:06 +0300 (0:00:00.043)       0:28:51.851 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | set up necessary nodelocaldns parameters] ***
ok: [master] => {"ansible_facts": {"primaryClusterIP": "10.233.0.3", "secondaryclusterIP": "10.233.0.4"}, "changed": false}
Четверг 20 июля 2023  22:49:06 +0300 (0:00:00.071)       0:28:51.923 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Lay Down nodelocaldns Template] ***
changed: [master] => (item={'name': 'nodelocaldns', 'file': 'nodelocaldns-config.yml', 'type': 'configmap'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "7f596d25085a985b19f569ce893494e4c25a6fdd", "dest": "/etc/kubernetes/nodelocaldns-config.yml", "gid": 0, "group": "root", "item": {"file": "nodelocaldns-config.yml", "name": "nodelocaldns", "type": "configmap"}, "md5sum": "e9fe4f4535a8d30ec7ffc40f8f3cf750", "mode": "0644", "owner": "root", "size": 1035, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882546.5049756-690246-84007034294143/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'nodelocaldns', 'file': 'nodelocaldns-sa.yml', 'type': 'sa'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "aa80f91dc256a7e0812b32e5dbeb5fe895e554e6", "dest": "/etc/kubernetes/nodelocaldns-sa.yml", "gid": 0, "group": "root", "item": {"file": "nodelocaldns-sa.yml", "name": "nodelocaldns", "type": "sa"}, "md5sum": "0c026246f6aa8648cd470b27feee7778", "mode": "0644", "owner": "root", "size": 149, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882549.7180634-690246-9208465259616/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'nodelocaldns', 'file': 'nodelocaldns-daemonset.yml', 'type': 'daemonset'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "176fffb0685b8e8f460ac8530137f0eece09c54b", "dest": "/etc/kubernetes/nodelocaldns-daemonset.yml", "gid": 0, "group": "root", "item": {"file": "nodelocaldns-daemonset.yml", "name": "nodelocaldns", "type": "daemonset"}, "md5sum": "ed6a74ccf4a61ab4ab1dee63648828ed", "mode": "0644", "owner": "root", "size": 2661, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882552.0464115-690246-194215768609768/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:49:14 +0300 (0:00:07.875)       0:28:59.799 ********** 
Четверг 20 июля 2023  22:49:14 +0300 (0:00:00.029)       0:28:59.828 ********** 

TASK [kubernetes-apps/ansible : Kubernetes Apps | Start Resources] *************
ok: [master] => (item=coredns-clusterrole.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "b1698aff8f99fbfc39b032e3efdd719d548f70d4", "dest": "/etc/kubernetes/coredns-clusterrole.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "coredns-clusterrole.yml.j2", "attributes": null, "backup": false, "checksum": "b1698aff8f99fbfc39b032e3efdd719d548f70d4", "content": null, "dest": "/etc/kubernetes/coredns-clusterrole.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882520.186261-689543-227982016719603/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "coredns-clusterrole.yml", "name": "coredns", "type": "clusterrole"}, "md5sum": "5e8da373acd2902137663496d7c7746f", "mode": "0644", "owner": "root", "size": 473, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882520.186261-689543-227982016719603/source", "state": "file", "uid": 0}, "msg": "success: clusterrole.rbac.authorization.k8s.io/system:coredns created"}
ok: [master] => (item=coredns-clusterrolebinding.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "27b881209cb41225b20ab14bc9bdca6e45c45750", "dest": "/etc/kubernetes/coredns-clusterrolebinding.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "coredns-clusterrolebinding.yml.j2", "attributes": null, "backup": false, "checksum": "27b881209cb41225b20ab14bc9bdca6e45c45750", "content": null, "dest": "/etc/kubernetes/coredns-clusterrolebinding.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882522.489913-689543-265172735023789/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "coredns-clusterrolebinding.yml", "name": "coredns", "type": "clusterrolebinding"}, "md5sum": "751c8b9b4b4de0d14eae5d3f4fc1f208", "mode": "0644", "owner": "root", "size": 451, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882522.489913-689543-265172735023789/source", "state": "file", "uid": 0}, "msg": "success: clusterrolebinding.rbac.authorization.k8s.io/system:coredns created"}
ok: [master] => (item=coredns-config.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "576f63a08b95cb8f193fec7e5e4033615823be91", "dest": "/etc/kubernetes/coredns-config.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "coredns-config.yml.j2", "attributes": null, "backup": false, "checksum": "576f63a08b95cb8f193fec7e5e4033615823be91", "content": null, "dest": "/etc/kubernetes/coredns-config.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882524.7265868-689543-228961170453178/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "coredns-config.yml", "name": "coredns", "type": "configmap"}, "md5sum": "3fb0ce7cc42037a068d5c0333dae1a7b", "mode": "0644", "owner": "root", "size": 597, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882524.7265868-689543-228961170453178/source", "state": "file", "uid": 0}, "msg": "success: configmap/coredns created"}
ok: [master] => (item=coredns-deployment.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "a9db7c571600267aaa3d7fcfa3f97603b8feef0d", "dest": "/etc/kubernetes/coredns-deployment.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "coredns-deployment.yml.j2", "attributes": null, "backup": false, "checksum": "a9db7c571600267aaa3d7fcfa3f97603b8feef0d", "content": null, "dest": "/etc/kubernetes/coredns-deployment.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882527.0705073-689543-93789622705325/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "coredns-deployment.yml", "name": "coredns", "type": "deployment"}, "md5sum": "92e96993e24757ee638e5b00adff9472", "mode": "0644", "owner": "root", "size": 3180, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882527.0705073-689543-93789622705325/source", "state": "file", "uid": 0}, "msg": "success: deployment.apps/coredns created"}
ok: [master] => (item=coredns-sa.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "120a7b2f1f1e14e639ff7b5daa4ed21a980d80f7", "dest": "/etc/kubernetes/coredns-sa.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "coredns-sa.yml.j2", "attributes": null, "backup": false, "checksum": "120a7b2f1f1e14e639ff7b5daa4ed21a980d80f7", "content": null, "dest": "/etc/kubernetes/coredns-sa.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882529.2992642-689543-192571451872324/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "coredns-sa.yml", "name": "coredns", "type": "sa"}, "md5sum": "bfec6ec350bf47d850c62497fed4a879", "mode": "0644", "owner": "root", "size": 190, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882529.2992642-689543-192571451872324/source", "state": "file", "uid": 0}, "msg": "success: serviceaccount/coredns created"}
ok: [master] => (item=coredns-svc.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "ea37b9ad1ce7b47e440c8f51a388de782761adae", "dest": "/etc/kubernetes/coredns-svc.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "coredns-svc.yml.j2", "attributes": null, "backup": false, "checksum": "ea37b9ad1ce7b47e440c8f51a388de782761adae", "content": null, "dest": "/etc/kubernetes/coredns-svc.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882531.5619771-689543-200821485205321/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "coredns-svc.yml", "name": "coredns", "type": "svc"}, "md5sum": "02ac452dc944cf688168bb436bdbf31d", "mode": "0644", "owner": "root", "size": 539, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882531.5619771-689543-200821485205321/source", "state": "file", "uid": 0}, "msg": "success: service/coredns created"}
ok: [master] => (item=dns-autoscaler.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "51e6dee7404032279320efc84791ae9494f8cc67", "dest": "/etc/kubernetes/dns-autoscaler.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "dns-autoscaler.yml.j2", "attributes": null, "backup": false, "checksum": "51e6dee7404032279320efc84791ae9494f8cc67", "content": null, "dest": "/etc/kubernetes/dns-autoscaler.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882534.093003-689543-277419297511734/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "dns-autoscaler.yml", "name": "dns-autoscaler", "type": "deployment"}, "md5sum": "6b026c1a37d22254b426d1deccbab94d", "mode": "0644", "owner": "root", "size": 2644, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882534.093003-689543-277419297511734/source", "state": "file", "uid": 0}, "msg": "success: deployment.apps/dns-autoscaler created"}
ok: [master] => (item=dns-autoscaler-clusterrole.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "f5047c80df26d815fbc5873fc47b9d7c31a0aa0f", "dest": "/etc/kubernetes/dns-autoscaler-clusterrole.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "dns-autoscaler-clusterrole.yml.j2", "attributes": null, "backup": false, "checksum": "f5047c80df26d815fbc5873fc47b9d7c31a0aa0f", "content": null, "dest": "/etc/kubernetes/dns-autoscaler-clusterrole.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882537.2780511-689543-223650752827343/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "dns-autoscaler-clusterrole.yml", "name": "dns-autoscaler", "type": "clusterrole"}, "md5sum": "859012d2b25325835b044a62cc0226bc", "mode": "0644", "owner": "root", "size": 1150, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882537.2780511-689543-223650752827343/source", "state": "file", "uid": 0}, "msg": "success: clusterrole.rbac.authorization.k8s.io/system:dns-autoscaler created"}
ok: [master] => (item=dns-autoscaler-clusterrolebinding.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "5c5b302e4cd73c2ec5ceb5262b2bd608173faccc", "dest": "/etc/kubernetes/dns-autoscaler-clusterrolebinding.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "dns-autoscaler-clusterrolebinding.yml.j2", "attributes": null, "backup": false, "checksum": "5c5b302e4cd73c2ec5ceb5262b2bd608173faccc", "content": null, "dest": "/etc/kubernetes/dns-autoscaler-clusterrolebinding.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882540.2899175-689543-228583153677132/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "dns-autoscaler-clusterrolebinding.yml", "name": "dns-autoscaler", "type": "clusterrolebinding"}, "md5sum": "7f8769d1e1b5cd33313edea39550fb6a", "mode": "0644", "owner": "root", "size": 959, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882540.2899175-689543-228583153677132/source", "state": "file", "uid": 0}, "msg": "success: clusterrolebinding.rbac.authorization.k8s.io/system:dns-autoscaler created"}
ok: [master] => (item=dns-autoscaler-sa.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "9d96dcf2256bb4968a45d09e9232666384e83f2e", "dest": "/etc/kubernetes/dns-autoscaler-sa.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "dns-autoscaler-sa.yml.j2", "attributes": null, "backup": false, "checksum": "9d96dcf2256bb4968a45d09e9232666384e83f2e", "content": null, "dest": "/etc/kubernetes/dns-autoscaler-sa.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882543.294983-689543-262038374215765/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "dns-autoscaler-sa.yml", "name": "dns-autoscaler", "type": "sa"}, "md5sum": "a111f82d5400ea2f9af53e9d6e627b6c", "mode": "0644", "owner": "root", "size": 763, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882543.294983-689543-262038374215765/source", "state": "file", "uid": 0}, "msg": "success: serviceaccount/dns-autoscaler created"}
ok: [master] => (item=nodelocaldns-config.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "7f596d25085a985b19f569ce893494e4c25a6fdd", "dest": "/etc/kubernetes/nodelocaldns-config.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "nodelocaldns-config.yml.j2", "attributes": null, "backup": false, "checksum": "7f596d25085a985b19f569ce893494e4c25a6fdd", "content": null, "dest": "/etc/kubernetes/nodelocaldns-config.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882546.5049756-690246-84007034294143/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "nodelocaldns-config.yml", "name": "nodelocaldns", "type": "configmap"}, "md5sum": "e9fe4f4535a8d30ec7ffc40f8f3cf750", "mode": "0644", "owner": "root", "size": 1035, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882546.5049756-690246-84007034294143/source", "state": "file", "uid": 0}, "msg": "success: configmap/nodelocaldns created"}
ok: [master] => (item=nodelocaldns-sa.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "aa80f91dc256a7e0812b32e5dbeb5fe895e554e6", "dest": "/etc/kubernetes/nodelocaldns-sa.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "nodelocaldns-sa.yml.j2", "attributes": null, "backup": false, "checksum": "aa80f91dc256a7e0812b32e5dbeb5fe895e554e6", "content": null, "dest": "/etc/kubernetes/nodelocaldns-sa.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882549.7180634-690246-9208465259616/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "nodelocaldns-sa.yml", "name": "nodelocaldns", "type": "sa"}, "md5sum": "0c026246f6aa8648cd470b27feee7778", "mode": "0644", "owner": "root", "size": 149, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882549.7180634-690246-9208465259616/source", "state": "file", "uid": 0}, "msg": "success: serviceaccount/nodelocaldns created"}
ok: [master] => (item=nodelocaldns-daemonset.yml) => {"ansible_loop_var": "item", "attempts": 1, "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "176fffb0685b8e8f460ac8530137f0eece09c54b", "dest": "/etc/kubernetes/nodelocaldns-daemonset.yml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "nodelocaldns-daemonset.yml.j2", "attributes": null, "backup": false, "checksum": "176fffb0685b8e8f460ac8530137f0eece09c54b", "content": null, "dest": "/etc/kubernetes/nodelocaldns-daemonset.yml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882552.0464115-690246-194215768609768/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "nodelocaldns-daemonset.yml", "name": "nodelocaldns", "type": "daemonset"}, "md5sum": "ed6a74ccf4a61ab4ab1dee63648828ed", "mode": "0644", "owner": "root", "size": 2661, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882552.0464115-690246-194215768609768/source", "state": "file", "uid": 0}, "msg": "success: daemonset.apps/nodelocaldns created"}
Четверг 20 июля 2023  22:49:35 +0300 (0:00:21.513)       0:29:21.342 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.029)       0:29:21.371 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.028)       0:29:21.400 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.021)       0:29:21.421 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.021)       0:29:21.443 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.021)       0:29:21.464 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.019)       0:29:21.484 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.020)       0:29:21.504 ********** 
Четверг 20 июля 2023  22:49:35 +0300 (0:00:00.023)       0:29:21.528 ********** 
Четверг 20 июля 2023  22:49:36 +0300 (0:00:00.021)       0:29:21.549 ********** 
Четверг 20 июля 2023  22:49:36 +0300 (0:00:00.029)       0:29:21.578 ********** 

TASK [kubernetes-apps/helm : Helm | Download helm] *****************************
included: /home/antigen/diplom/kubespray/roles/kubernetes-apps/helm/tasks/../../../download/tasks/download_file.yml for master
Четверг 20 июля 2023  22:49:36 +0300 (0:00:00.032)       0:29:21.611 ********** 

TASK [kubernetes-apps/helm : prep_download | Set a few facts] ******************
ok: [master] => {"ansible_facts": {"download_force_cache": false}, "changed": false}
Четверг 20 июля 2023  22:49:36 +0300 (0:00:00.028)       0:29:21.639 ********** 

TASK [kubernetes-apps/helm : download_file | Starting download of file] ********
ok: [master] => {
    "msg": "https://get.helm.sh/helm-v3.12.0-linux-amd64.tar.gz"
}
Четверг 20 июля 2023  22:49:36 +0300 (0:00:00.288)       0:29:21.928 ********** 

TASK [kubernetes-apps/helm : download_file | Set pathname of cached file] ******
ok: [master] => {"ansible_facts": {"file_path_cached": "/tmp/kubespray_cache/helm-v3.12.0-linux-amd64.tar.gz"}, "changed": false}
Четверг 20 июля 2023  22:49:36 +0300 (0:00:00.251)       0:29:22.180 ********** 

TASK [kubernetes-apps/helm : download_file | Create dest directory on node] ****
ok: [master] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/tmp/releases/helm-v3.12.0", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:49:38 +0300 (0:00:01.484)       0:29:23.664 ********** 
Четверг 20 июля 2023  22:49:38 +0300 (0:00:00.026)       0:29:23.691 ********** 
Четверг 20 июля 2023  22:49:38 +0300 (0:00:00.253)       0:29:23.944 ********** 

TASK [kubernetes-apps/helm : download_file | Validate mirrors] *****************
ok: [master] => (item=None) => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
ok: [master -> {{ download_delegate if download_force_cache else inventory_hostname }}] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:49:40 +0300 (0:00:02.156)       0:29:26.101 ********** 

TASK [kubernetes-apps/helm : download_file | Get the list of working mirrors] ***
ok: [master] => {"ansible_facts": {"valid_mirror_urls": ["https://get.helm.sh/helm-v3.12.0-linux-amd64.tar.gz"]}, "changed": false}
Четверг 20 июля 2023  22:49:40 +0300 (0:00:00.040)       0:29:26.141 ********** 

TASK [kubernetes-apps/helm : download_file | Download item] ********************
ok: [master] => {"attempts": 1, "censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
Четверг 20 июля 2023  22:49:42 +0300 (0:00:01.484)       0:29:27.625 ********** 
Четверг 20 июля 2023  22:49:42 +0300 (0:00:00.019)       0:29:27.644 ********** 
Четверг 20 июля 2023  22:49:42 +0300 (0:00:00.020)       0:29:27.665 ********** 
Четверг 20 июля 2023  22:49:42 +0300 (0:00:00.019)       0:29:27.684 ********** 

TASK [kubernetes-apps/helm : download_file | Extract file archives] ************
included: /home/antigen/diplom/kubespray/roles/download/tasks/extract_file.yml for master
Четверг 20 июля 2023  22:49:42 +0300 (0:00:00.029)       0:29:27.713 ********** 

TASK [kubernetes-apps/helm : extract_file | Unpacking archive] *****************
ok: [master] => {"changed": false, "dest": "/tmp/releases/helm-v3.12.0", "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/releases/helm-v3.12.0/helm-v3.12.0-linux-amd64.tar.gz", "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:49:48 +0300 (0:00:05.984)       0:29:33.697 ********** 

TASK [kubernetes-apps/helm : Helm | Copy helm binary from download dir] ********
changed: [master] => {"changed": true, "checksum": "c654cd2040dfa2b5079a24bee84468d7beea114c", "dest": "/usr/local/bin/helm", "gid": 0, "group": "root", "md5sum": "cad1bc2362e35c5fa81146449d2300f2", "mode": "0755", "owner": "root", "size": 50597888, "src": "/tmp/releases/helm-v3.12.0/linux-amd64/helm", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:49:51 +0300 (0:00:03.705)       0:29:37.403 ********** 

TASK [kubernetes-apps/helm : Helm | Get helm completion] ***********************
ok: [master] => {"changed": false, "cmd": ["/usr/local/bin/helm", "completion", "bash"], "delta": "0:00:00.145744", "end": "2023-07-20 19:49:52.981107", "msg": "", "rc": 0, "start": "2023-07-20 19:49:52.835363", "stderr": "", "stderr_lines": [], "stdout": "# bash completion V2 for helm                                 -*- shell-script -*-\n\n__helm_debug()\n{\n    if [[ -n ${BASH_COMP_DEBUG_FILE:-} ]]; then\n        echo \"$*\" >> \"${BASH_COMP_DEBUG_FILE}\"\n    fi\n}\n\n# Macs have bash3 for which the bash-completion package doesn't include\n# _init_completion. This is a minimal version of that function.\n__helm_init_completion()\n{\n    COMPREPLY=()\n    _get_comp_words_by_ref \"$@\" cur prev words cword\n}\n\n# This function calls the helm program to obtain the completion\n# results and the directive.  It fills the 'out' and 'directive' vars.\n__helm_get_completion_results() {\n    local requestComp lastParam lastChar args\n\n    # Prepare the command to request completions for the program.\n    # Calling ${words[0]} instead of directly helm allows to handle aliases\n    args=(\"${words[@]:1}\")\n    requestComp=\"${words[0]} __complete ${args[*]}\"\n\n    lastParam=${words[$((${#words[@]}-1))]}\n    lastChar=${lastParam:$((${#lastParam}-1)):1}\n    __helm_debug \"lastParam ${lastParam}, lastChar ${lastChar}\"\n\n    if [ -z \"${cur}\" ] && [ \"${lastChar}\" != \"=\" ]; then\n        # If the last parameter is complete (there is a space following it)\n        # We add an extra empty parameter so we can indicate this to the go method.\n        __helm_debug \"Adding extra empty parameter\"\n        requestComp=\"${requestComp} ''\"\n    fi\n\n    # When completing a flag with an = (e.g., helm -n=<TAB>)\n    # bash focuses on the part after the =, so we need to remove\n    # the flag part from $cur\n    if [[ \"${cur}\" == -*=* ]]; then\n        cur=\"${cur#*=}\"\n    fi\n\n    __helm_debug \"Calling ${requestComp}\"\n    # Use eval to handle any environment variables and such\n    out=$(eval \"${requestComp}\" 2>/dev/null)\n\n    # Extract the directive integer at the very end of the output following a colon (:)\n    directive=${out##*:}\n    # Remove the directive\n    out=${out%:*}\n    if [ \"${directive}\" = \"${out}\" ]; then\n        # There is not directive specified\n        directive=0\n    fi\n    __helm_debug \"The completion directive is: ${directive}\"\n    __helm_debug \"The completions are: ${out}\"\n}\n\n__helm_process_completion_results() {\n    local shellCompDirectiveError=1\n    local shellCompDirectiveNoSpace=2\n    local shellCompDirectiveNoFileComp=4\n    local shellCompDirectiveFilterFileExt=8\n    local shellCompDirectiveFilterDirs=16\n\n    if [ $((directive & shellCompDirectiveError)) -ne 0 ]; then\n        # Error code.  No completion.\n        __helm_debug \"Received error from custom completion go code\"\n        return\n    else\n        if [ $((directive & shellCompDirectiveNoSpace)) -ne 0 ]; then\n            if [[ $(type -t compopt) = \"builtin\" ]]; then\n                __helm_debug \"Activating no space\"\n                compopt -o nospace\n            else\n                __helm_debug \"No space directive not supported in this version of bash\"\n            fi\n        fi\n        if [ $((directive & shellCompDirectiveNoFileComp)) -ne 0 ]; then\n            if [[ $(type -t compopt) = \"builtin\" ]]; then\n                __helm_debug \"Activating no file completion\"\n                compopt +o default\n            else\n                __helm_debug \"No file completion directive not supported in this version of bash\"\n            fi\n        fi\n    fi\n\n    # Separate activeHelp from normal completions\n    local completions=()\n    local activeHelp=()\n    __helm_extract_activeHelp\n\n    if [ $((directive & shellCompDirectiveFilterFileExt)) -ne 0 ]; then\n        # File extension filtering\n        local fullFilter filter filteringCmd\n\n        # Do not use quotes around the $completions variable or else newline\n        # characters will be kept.\n        for filter in ${completions[*]}; do\n            fullFilter+=\"$filter|\"\n        done\n\n        filteringCmd=\"_filedir $fullFilter\"\n        __helm_debug \"File filtering command: $filteringCmd\"\n        $filteringCmd\n    elif [ $((directive & shellCompDirectiveFilterDirs)) -ne 0 ]; then\n        # File completion for directories only\n\n        # Use printf to strip any trailing newline\n        local subdir\n        subdir=$(printf \"%s\" \"${completions[0]}\")\n        if [ -n \"$subdir\" ]; then\n            __helm_debug \"Listing directories in $subdir\"\n            pushd \"$subdir\" >/dev/null 2>&1 && _filedir -d && popd >/dev/null 2>&1 || return\n        else\n            __helm_debug \"Listing directories in .\"\n            _filedir -d\n        fi\n    else\n        __helm_handle_completion_types\n    fi\n\n    __helm_handle_special_char \"$cur\" :\n    __helm_handle_special_char \"$cur\" =\n\n    # Print the activeHelp statements before we finish\n    if [ ${#activeHelp[*]} -ne 0 ]; then\n        printf \"\\n\";\n        printf \"%s\\n\" \"${activeHelp[@]}\"\n        printf \"\\n\"\n\n        # The prompt format is only available from bash 4.4.\n        # We test if it is available before using it.\n        if (x=${PS1@P}) 2> /dev/null; then\n            printf \"%s\" \"${PS1@P}${COMP_LINE[@]}\"\n        else\n            # Can't print the prompt.  Just print the\n            # text the user had typed, it is workable enough.\n            printf \"%s\" \"${COMP_LINE[@]}\"\n        fi\n    fi\n}\n\n# Separate activeHelp lines from real completions.\n# Fills the $activeHelp and $completions arrays.\n__helm_extract_activeHelp() {\n    local activeHelpMarker=\"_activeHelp_ \"\n    local endIndex=${#activeHelpMarker}\n\n    while IFS='' read -r comp; do\n        if [ \"${comp:0:endIndex}\" = \"$activeHelpMarker\" ]; then\n            comp=${comp:endIndex}\n            __helm_debug \"ActiveHelp found: $comp\"\n            if [ -n \"$comp\" ]; then\n                activeHelp+=(\"$comp\")\n            fi\n        else\n            # Not an activeHelp line but a normal completion\n            completions+=(\"$comp\")\n        fi\n    done < <(printf \"%s\\n\" \"${out}\")\n}\n\n__helm_handle_completion_types() {\n    __helm_debug \"__helm_handle_completion_types: COMP_TYPE is $COMP_TYPE\"\n\n    case $COMP_TYPE in\n    37|42)\n        # Type: menu-complete/menu-complete-backward and insert-completions\n        # If the user requested inserting one completion at a time, or all\n        # completions at once on the command-line we must remove the descriptions.\n        # https://github.com/spf13/cobra/issues/1508\n        local tab=$'\\t' comp\n        while IFS='' read -r comp; do\n            [[ -z $comp ]] && continue\n            # Strip any description\n            comp=${comp%%$tab*}\n            # Only consider the completions that match\n            if [[ $comp == \"$cur\"* ]]; then\n                COMPREPLY+=(\"$comp\")\n            fi\n        done < <(printf \"%s\\n\" \"${completions[@]}\")\n        ;;\n\n    *)\n        # Type: complete (normal completion)\n        __helm_handle_standard_completion_case\n        ;;\n    esac\n}\n\n__helm_handle_standard_completion_case() {\n    local tab=$'\\t' comp\n\n    # Short circuit to optimize if we don't have descriptions\n    if [[ \"${completions[*]}\" != *$tab* ]]; then\n        IFS=$'\\n' read -ra COMPREPLY -d '' < <(compgen -W \"${completions[*]}\" -- \"$cur\")\n        return 0\n    fi\n\n    local longest=0\n    local compline\n    # Look for the longest completion so that we can format things nicely\n    while IFS='' read -r compline; do\n        [[ -z $compline ]] && continue\n        # Strip any description before checking the length\n        comp=${compline%%$tab*}\n        # Only consider the completions that match\n        [[ $comp == \"$cur\"* ]] || continue\n        COMPREPLY+=(\"$compline\")\n        if ((${#comp}>longest)); then\n            longest=${#comp}\n        fi\n    done < <(printf \"%s\\n\" \"${completions[@]}\")\n\n    # If there is a single completion left, remove the description text\n    if [ ${#COMPREPLY[*]} -eq 1 ]; then\n        __helm_debug \"COMPREPLY[0]: ${COMPREPLY[0]}\"\n        comp=\"${COMPREPLY[0]%%$tab*}\"\n        __helm_debug \"Removed description from single completion, which is now: ${comp}\"\n        COMPREPLY[0]=$comp\n    else # Format the descriptions\n        __helm_format_comp_descriptions $longest\n    fi\n}\n\n__helm_handle_special_char()\n{\n    local comp=\"$1\"\n    local char=$2\n    if [[ \"$comp\" == *${char}* && \"$COMP_WORDBREAKS\" == *${char}* ]]; then\n        local word=${comp%\"${comp##*${char}}\"}\n        local idx=${#COMPREPLY[*]}\n        while [[ $((--idx)) -ge 0 ]]; do\n            COMPREPLY[$idx]=${COMPREPLY[$idx]#\"$word\"}\n        done\n    fi\n}\n\n__helm_format_comp_descriptions()\n{\n    local tab=$'\\t'\n    local comp desc maxdesclength\n    local longest=$1\n\n    local i ci\n    for ci in ${!COMPREPLY[*]}; do\n        comp=${COMPREPLY[ci]}\n        # Properly format the description string which follows a tab character if there is one\n        if [[ \"$comp\" == *$tab* ]]; then\n            __helm_debug \"Original comp: $comp\"\n            desc=${comp#*$tab}\n            comp=${comp%%$tab*}\n\n            # $COLUMNS stores the current shell width.\n            # Remove an extra 4 because we add 2 spaces and 2 parentheses.\n            maxdesclength=$(( COLUMNS - longest - 4 ))\n\n            # Make sure we can fit a description of at least 8 characters\n            # if we are to align the descriptions.\n            if [[ $maxdesclength -gt 8 ]]; then\n                # Add the proper number of spaces to align the descriptions\n                for ((i = ${#comp} ; i < longest ; i++)); do\n                    comp+=\" \"\n                done\n            else\n                # Don't pad the descriptions so we can fit more text after the completion\n                maxdesclength=$(( COLUMNS - ${#comp} - 4 ))\n            fi\n\n            # If there is enough space for any description text,\n            # truncate the descriptions that are too long for the shell width\n            if [ $maxdesclength -gt 0 ]; then\n                if [ ${#desc} -gt $maxdesclength ]; then\n                    desc=${desc:0:$(( maxdesclength - 1 ))}\n                    desc+=\"…\"\n                fi\n                comp+=\"  ($desc)\"\n            fi\n            COMPREPLY[ci]=$comp\n            __helm_debug \"Final comp: $comp\"\n        fi\n    done\n}\n\n__start_helm()\n{\n    local cur prev words cword split\n\n    COMPREPLY=()\n\n    # Call _init_completion from the bash-completion package\n    # to prepare the arguments properly\n    if declare -F _init_completion >/dev/null 2>&1; then\n        _init_completion -n \"=:\" || return\n    else\n        __helm_init_completion -n \"=:\" || return\n    fi\n\n    __helm_debug\n    __helm_debug \"========= starting completion logic ==========\"\n    __helm_debug \"cur is ${cur}, words[*] is ${words[*]}, #words[@] is ${#words[@]}, cword is $cword\"\n\n    # The user could have moved the cursor backwards on the command-line.\n    # We need to trigger completion from the $cword location, so we need\n    # to truncate the command-line ($words) up to the $cword location.\n    words=(\"${words[@]:0:$cword+1}\")\n    __helm_debug \"Truncated words[*]: ${words[*]},\"\n\n    local out directive\n    __helm_get_completion_results\n    __helm_process_completion_results\n}\n\nif [[ $(type -t compopt) = \"builtin\" ]]; then\n    complete -o default -F __start_helm helm\nelse\n    complete -o default -o nospace -F __start_helm helm\nfi\n\n# ex: ts=4 sw=4 et filetype=sh", "stdout_lines": ["# bash completion V2 for helm                                 -*- shell-script -*-", "", "__helm_debug()", "{", "    if [[ -n ${BASH_COMP_DEBUG_FILE:-} ]]; then", "        echo \"$*\" >> \"${BASH_COMP_DEBUG_FILE}\"", "    fi", "}", "", "# Macs have bash3 for which the bash-completion package doesn't include", "# _init_completion. This is a minimal version of that function.", "__helm_init_completion()", "{", "    COMPREPLY=()", "    _get_comp_words_by_ref \"$@\" cur prev words cword", "}", "", "# This function calls the helm program to obtain the completion", "# results and the directive.  It fills the 'out' and 'directive' vars.", "__helm_get_completion_results() {", "    local requestComp lastParam lastChar args", "", "    # Prepare the command to request completions for the program.", "    # Calling ${words[0]} instead of directly helm allows to handle aliases", "    args=(\"${words[@]:1}\")", "    requestComp=\"${words[0]} __complete ${args[*]}\"", "", "    lastParam=${words[$((${#words[@]}-1))]}", "    lastChar=${lastParam:$((${#lastParam}-1)):1}", "    __helm_debug \"lastParam ${lastParam}, lastChar ${lastChar}\"", "", "    if [ -z \"${cur}\" ] && [ \"${lastChar}\" != \"=\" ]; then", "        # If the last parameter is complete (there is a space following it)", "        # We add an extra empty parameter so we can indicate this to the go method.", "        __helm_debug \"Adding extra empty parameter\"", "        requestComp=\"${requestComp} ''\"", "    fi", "", "    # When completing a flag with an = (e.g., helm -n=<TAB>)", "    # bash focuses on the part after the =, so we need to remove", "    # the flag part from $cur", "    if [[ \"${cur}\" == -*=* ]]; then", "        cur=\"${cur#*=}\"", "    fi", "", "    __helm_debug \"Calling ${requestComp}\"", "    # Use eval to handle any environment variables and such", "    out=$(eval \"${requestComp}\" 2>/dev/null)", "", "    # Extract the directive integer at the very end of the output following a colon (:)", "    directive=${out##*:}", "    # Remove the directive", "    out=${out%:*}", "    if [ \"${directive}\" = \"${out}\" ]; then", "        # There is not directive specified", "        directive=0", "    fi", "    __helm_debug \"The completion directive is: ${directive}\"", "    __helm_debug \"The completions are: ${out}\"", "}", "", "__helm_process_completion_results() {", "    local shellCompDirectiveError=1", "    local shellCompDirectiveNoSpace=2", "    local shellCompDirectiveNoFileComp=4", "    local shellCompDirectiveFilterFileExt=8", "    local shellCompDirectiveFilterDirs=16", "", "    if [ $((directive & shellCompDirectiveError)) -ne 0 ]; then", "        # Error code.  No completion.", "        __helm_debug \"Received error from custom completion go code\"", "        return", "    else", "        if [ $((directive & shellCompDirectiveNoSpace)) -ne 0 ]; then", "            if [[ $(type -t compopt) = \"builtin\" ]]; then", "                __helm_debug \"Activating no space\"", "                compopt -o nospace", "            else", "                __helm_debug \"No space directive not supported in this version of bash\"", "            fi", "        fi", "        if [ $((directive & shellCompDirectiveNoFileComp)) -ne 0 ]; then", "            if [[ $(type -t compopt) = \"builtin\" ]]; then", "                __helm_debug \"Activating no file completion\"", "                compopt +o default", "            else", "                __helm_debug \"No file completion directive not supported in this version of bash\"", "            fi", "        fi", "    fi", "", "    # Separate activeHelp from normal completions", "    local completions=()", "    local activeHelp=()", "    __helm_extract_activeHelp", "", "    if [ $((directive & shellCompDirectiveFilterFileExt)) -ne 0 ]; then", "        # File extension filtering", "        local fullFilter filter filteringCmd", "", "        # Do not use quotes around the $completions variable or else newline", "        # characters will be kept.", "        for filter in ${completions[*]}; do", "            fullFilter+=\"$filter|\"", "        done", "", "        filteringCmd=\"_filedir $fullFilter\"", "        __helm_debug \"File filtering command: $filteringCmd\"", "        $filteringCmd", "    elif [ $((directive & shellCompDirectiveFilterDirs)) -ne 0 ]; then", "        # File completion for directories only", "", "        # Use printf to strip any trailing newline", "        local subdir", "        subdir=$(printf \"%s\" \"${completions[0]}\")", "        if [ -n \"$subdir\" ]; then", "            __helm_debug \"Listing directories in $subdir\"", "            pushd \"$subdir\" >/dev/null 2>&1 && _filedir -d && popd >/dev/null 2>&1 || return", "        else", "            __helm_debug \"Listing directories in .\"", "            _filedir -d", "        fi", "    else", "        __helm_handle_completion_types", "    fi", "", "    __helm_handle_special_char \"$cur\" :", "    __helm_handle_special_char \"$cur\" =", "", "    # Print the activeHelp statements before we finish", "    if [ ${#activeHelp[*]} -ne 0 ]; then", "        printf \"\\n\";", "        printf \"%s\\n\" \"${activeHelp[@]}\"", "        printf \"\\n\"", "", "        # The prompt format is only available from bash 4.4.", "        # We test if it is available before using it.", "        if (x=${PS1@P}) 2> /dev/null; then", "            printf \"%s\" \"${PS1@P}${COMP_LINE[@]}\"", "        else", "            # Can't print the prompt.  Just print the", "            # text the user had typed, it is workable enough.", "            printf \"%s\" \"${COMP_LINE[@]}\"", "        fi", "    fi", "}", "", "# Separate activeHelp lines from real completions.", "# Fills the $activeHelp and $completions arrays.", "__helm_extract_activeHelp() {", "    local activeHelpMarker=\"_activeHelp_ \"", "    local endIndex=${#activeHelpMarker}", "", "    while IFS='' read -r comp; do", "        if [ \"${comp:0:endIndex}\" = \"$activeHelpMarker\" ]; then", "            comp=${comp:endIndex}", "            __helm_debug \"ActiveHelp found: $comp\"", "            if [ -n \"$comp\" ]; then", "                activeHelp+=(\"$comp\")", "            fi", "        else", "            # Not an activeHelp line but a normal completion", "            completions+=(\"$comp\")", "        fi", "    done < <(printf \"%s\\n\" \"${out}\")", "}", "", "__helm_handle_completion_types() {", "    __helm_debug \"__helm_handle_completion_types: COMP_TYPE is $COMP_TYPE\"", "", "    case $COMP_TYPE in", "    37|42)", "        # Type: menu-complete/menu-complete-backward and insert-completions", "        # If the user requested inserting one completion at a time, or all", "        # completions at once on the command-line we must remove the descriptions.", "        # https://github.com/spf13/cobra/issues/1508", "        local tab=$'\\t' comp", "        while IFS='' read -r comp; do", "            [[ -z $comp ]] && continue", "            # Strip any description", "            comp=${comp%%$tab*}", "            # Only consider the completions that match", "            if [[ $comp == \"$cur\"* ]]; then", "                COMPREPLY+=(\"$comp\")", "            fi", "        done < <(printf \"%s\\n\" \"${completions[@]}\")", "        ;;", "", "    *)", "        # Type: complete (normal completion)", "        __helm_handle_standard_completion_case", "        ;;", "    esac", "}", "", "__helm_handle_standard_completion_case() {", "    local tab=$'\\t' comp", "", "    # Short circuit to optimize if we don't have descriptions", "    if [[ \"${completions[*]}\" != *$tab* ]]; then", "        IFS=$'\\n' read -ra COMPREPLY -d '' < <(compgen -W \"${completions[*]}\" -- \"$cur\")", "        return 0", "    fi", "", "    local longest=0", "    local compline", "    # Look for the longest completion so that we can format things nicely", "    while IFS='' read -r compline; do", "        [[ -z $compline ]] && continue", "        # Strip any description before checking the length", "        comp=${compline%%$tab*}", "        # Only consider the completions that match", "        [[ $comp == \"$cur\"* ]] || continue", "        COMPREPLY+=(\"$compline\")", "        if ((${#comp}>longest)); then", "            longest=${#comp}", "        fi", "    done < <(printf \"%s\\n\" \"${completions[@]}\")", "", "    # If there is a single completion left, remove the description text", "    if [ ${#COMPREPLY[*]} -eq 1 ]; then", "        __helm_debug \"COMPREPLY[0]: ${COMPREPLY[0]}\"", "        comp=\"${COMPREPLY[0]%%$tab*}\"", "        __helm_debug \"Removed description from single completion, which is now: ${comp}\"", "        COMPREPLY[0]=$comp", "    else # Format the descriptions", "        __helm_format_comp_descriptions $longest", "    fi", "}", "", "__helm_handle_special_char()", "{", "    local comp=\"$1\"", "    local char=$2", "    if [[ \"$comp\" == *${char}* && \"$COMP_WORDBREAKS\" == *${char}* ]]; then", "        local word=${comp%\"${comp##*${char}}\"}", "        local idx=${#COMPREPLY[*]}", "        while [[ $((--idx)) -ge 0 ]]; do", "            COMPREPLY[$idx]=${COMPREPLY[$idx]#\"$word\"}", "        done", "    fi", "}", "", "__helm_format_comp_descriptions()", "{", "    local tab=$'\\t'", "    local comp desc maxdesclength", "    local longest=$1", "", "    local i ci", "    for ci in ${!COMPREPLY[*]}; do", "        comp=${COMPREPLY[ci]}", "        # Properly format the description string which follows a tab character if there is one", "        if [[ \"$comp\" == *$tab* ]]; then", "            __helm_debug \"Original comp: $comp\"", "            desc=${comp#*$tab}", "            comp=${comp%%$tab*}", "", "            # $COLUMNS stores the current shell width.", "            # Remove an extra 4 because we add 2 spaces and 2 parentheses.", "            maxdesclength=$(( COLUMNS - longest - 4 ))", "", "            # Make sure we can fit a description of at least 8 characters", "            # if we are to align the descriptions.", "            if [[ $maxdesclength -gt 8 ]]; then", "                # Add the proper number of spaces to align the descriptions", "                for ((i = ${#comp} ; i < longest ; i++)); do", "                    comp+=\" \"", "                done", "            else", "                # Don't pad the descriptions so we can fit more text after the completion", "                maxdesclength=$(( COLUMNS - ${#comp} - 4 ))", "            fi", "", "            # If there is enough space for any description text,", "            # truncate the descriptions that are too long for the shell width", "            if [ $maxdesclength -gt 0 ]; then", "                if [ ${#desc} -gt $maxdesclength ]; then", "                    desc=${desc:0:$(( maxdesclength - 1 ))}", "                    desc+=\"…\"", "                fi", "                comp+=\"  ($desc)\"", "            fi", "            COMPREPLY[ci]=$comp", "            __helm_debug \"Final comp: $comp\"", "        fi", "    done", "}", "", "__start_helm()", "{", "    local cur prev words cword split", "", "    COMPREPLY=()", "", "    # Call _init_completion from the bash-completion package", "    # to prepare the arguments properly", "    if declare -F _init_completion >/dev/null 2>&1; then", "        _init_completion -n \"=:\" || return", "    else", "        __helm_init_completion -n \"=:\" || return", "    fi", "", "    __helm_debug", "    __helm_debug \"========= starting completion logic ==========\"", "    __helm_debug \"cur is ${cur}, words[*] is ${words[*]}, #words[@] is ${#words[@]}, cword is $cword\"", "", "    # The user could have moved the cursor backwards on the command-line.", "    # We need to trigger completion from the $cword location, so we need", "    # to truncate the command-line ($words) up to the $cword location.", "    words=(\"${words[@]:0:$cword+1}\")", "    __helm_debug \"Truncated words[*]: ${words[*]},\"", "", "    local out directive", "    __helm_get_completion_results", "    __helm_process_completion_results", "}", "", "if [[ $(type -t compopt) = \"builtin\" ]]; then", "    complete -o default -F __start_helm helm", "else", "    complete -o default -o nospace -F __start_helm helm", "fi", "", "# ex: ts=4 sw=4 et filetype=sh"]}
Четверг 20 июля 2023  22:49:53 +0300 (0:00:01.257)       0:29:38.661 ********** 

TASK [kubernetes-apps/helm : Helm | Install helm completion] *******************
changed: [master] => {"changed": true, "checksum": "fc9ea4f663fa40b5144874864a3eda5d458b5615", "dest": "/etc/bash_completion.d/helm.sh", "gid": 0, "group": "root", "md5sum": "ded5795b45fb0e33a9254e86b7c60d76", "mode": "0755", "owner": "root", "size": 11093, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882593.2384832-691474-148360852031811/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:49:55 +0300 (0:00:02.374)       0:29:41.035 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.018)       0:29:41.054 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.018)       0:29:41.072 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.018)       0:29:41.091 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.017)       0:29:41.108 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.018)       0:29:41.127 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.022)       0:29:41.149 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.024)       0:29:41.173 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.020)       0:29:41.194 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.021)       0:29:41.216 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.022)       0:29:41.238 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.020)       0:29:41.259 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.024)       0:29:41.284 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.018)       0:29:41.302 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.020)       0:29:41.322 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.017)       0:29:41.340 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.017)       0:29:41.358 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.018)       0:29:41.376 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.017)       0:29:41.394 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.017)       0:29:41.412 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.019)       0:29:41.431 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.019)       0:29:41.451 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.018)       0:29:41.470 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.022)       0:29:41.493 ********** 
Четверг 20 июля 2023  22:49:55 +0300 (0:00:00.027)       0:29:41.520 ********** 

TASK [kubernetes-apps/metrics_server : Check all masters are node or not] ******
ok: [master] => {"ansible_facts": {"masters_are_not_tainted": false}, "changed": false}
Четверг 20 июля 2023  22:49:56 +0300 (0:00:00.030)       0:29:41.550 ********** 

TASK [kubernetes-apps/metrics_server : Metrics Server | Delete addon dir] ******
ok: [master] => {"changed": false, "path": "/etc/kubernetes/addons/metrics_server", "state": "absent"}
Четверг 20 июля 2023  22:49:57 +0300 (0:00:01.099)       0:29:42.650 ********** 

TASK [kubernetes-apps/metrics_server : Metrics Server | Create addon dir] ******
changed: [master] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/kubernetes/addons/metrics_server", "size": 4096, "state": "directory", "uid": 0}
Четверг 20 июля 2023  22:49:58 +0300 (0:00:01.078)       0:29:43.728 ********** 

TASK [kubernetes-apps/metrics_server : Metrics Server | Templates list] ********
ok: [master] => {"ansible_facts": {"metrics_server_templates": [{"file": "auth-delegator.yaml", "name": "auth-delegator", "type": "clusterrolebinding"}, {"file": "auth-reader.yaml", "name": "auth-reader", "type": "rolebinding"}, {"file": "metrics-server-sa.yaml", "name": "metrics-server-sa", "type": "sa"}, {"file": "metrics-server-deployment.yaml", "name": "metrics-server-deployment", "type": "deploy"}, {"file": "metrics-server-service.yaml", "name": "metrics-server-service", "type": "service"}, {"file": "metrics-apiservice.yaml", "name": "metrics-apiservice", "type": "service"}, {"file": "resource-reader-clusterrolebinding.yaml", "name": "resource-reader-clusterrolebinding", "type": "clusterrolebinding"}, {"file": "resource-reader.yaml", "name": "resource-reader", "type": "clusterrole"}]}, "changed": false}
Четверг 20 июля 2023  22:49:58 +0300 (0:00:00.032)       0:29:43.761 ********** 

TASK [kubernetes-apps/metrics_server : Metrics Server | Create manifests] ******
changed: [master] => (item={'name': 'auth-delegator', 'file': 'auth-delegator.yaml', 'type': 'clusterrolebinding'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "8cfc753862a1346516e9c5e042e0cf676f10b4fa", "dest": "/etc/kubernetes/addons/metrics_server/auth-delegator.yaml", "gid": 0, "group": "root", "item": {"file": "auth-delegator.yaml", "name": "auth-delegator", "type": "clusterrolebinding"}, "md5sum": "a2e49286b8bbafb52f97f0368ff89c43", "mode": "0644", "owner": "root", "size": 356, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882598.3416448-691628-277695663961265/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'auth-reader', 'file': 'auth-reader.yaml', 'type': 'rolebinding'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "b3996d26650d597868c364128e541469818f30c5", "dest": "/etc/kubernetes/addons/metrics_server/auth-reader.yaml", "gid": 0, "group": "root", "item": {"file": "auth-reader.yaml", "name": "auth-reader", "type": "rolebinding"}, "md5sum": "a39930ff9d867fbf611179c50d3df238", "mode": "0644", "owner": "root", "size": 377, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882600.591569-691628-162656394379155/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'metrics-server-sa', 'file': 'metrics-server-sa.yaml', 'type': 'sa'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "fe40a9b0eed0c5c27b769fe60501ebaf40feafb9", "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-sa.yaml", "gid": 0, "group": "root", "item": {"file": "metrics-server-sa.yaml", "name": "metrics-server-sa", "type": "sa"}, "md5sum": "f00ec451a258e5b1e559d846372e5409", "mode": "0644", "owner": "root", "size": 155, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882602.9282155-691628-70083622510270/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'metrics-server-deployment', 'file': 'metrics-server-deployment.yaml', 'type': 'deploy'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "aa090f1565b054ea82149c558bfa543fde7f53cb", "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-deployment.yaml", "gid": 0, "group": "root", "item": {"file": "metrics-server-deployment.yaml", "name": "metrics-server-deployment", "type": "deploy"}, "md5sum": "f195b0b73e6a08cf0e0fa506af005ce0", "mode": "0644", "owner": "root", "size": 2795, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882605.2516012-691628-10385855135635/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'metrics-server-service', 'file': 'metrics-server-service.yaml', 'type': 'service'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "11587f8dea9295b1f158f96fbc1b6777d612466b", "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-service.yaml", "gid": 0, "group": "root", "item": {"file": "metrics-server-service.yaml", "name": "metrics-server-service", "type": "service"}, "md5sum": "f7d491045015277ce9ed340a146b1686", "mode": "0644", "owner": "root", "size": 347, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882607.543211-691628-89265248347848/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'metrics-apiservice', 'file': 'metrics-apiservice.yaml', 'type': 'service'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "b19bf502a84bf126504527f20d46a74e55bbb5dd", "dest": "/etc/kubernetes/addons/metrics_server/metrics-apiservice.yaml", "gid": 0, "group": "root", "item": {"file": "metrics-apiservice.yaml", "name": "metrics-apiservice", "type": "service"}, "md5sum": "ed1e6d9f13ca7c524245006a1f3f3a58", "mode": "0644", "owner": "root", "size": 346, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882609.794894-691628-158292805637891/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'resource-reader-clusterrolebinding', 'file': 'resource-reader-clusterrolebinding.yaml', 'type': 'clusterrolebinding'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "8fa6f59e380e7cd19b24a7cda2873e459218c718", "dest": "/etc/kubernetes/addons/metrics_server/resource-reader-clusterrolebinding.yaml", "gid": 0, "group": "root", "item": {"file": "resource-reader-clusterrolebinding.yaml", "name": "resource-reader-clusterrolebinding", "type": "clusterrolebinding"}, "md5sum": "fcc1f0bb7c7242dad4ac63a46421ba0f", "mode": "0644", "owner": "root", "size": 345, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882612.0242026-691628-98428787433170/source", "state": "file", "uid": 0}
changed: [master] => (item={'name': 'resource-reader', 'file': 'resource-reader.yaml', 'type': 'clusterrole'}) => {"ansible_loop_var": "item", "changed": true, "checksum": "a9d1e097c908f01cce159a2e491f11493fdb6ee7", "dest": "/etc/kubernetes/addons/metrics_server/resource-reader.yaml", "gid": 0, "group": "root", "item": {"file": "resource-reader.yaml", "name": "resource-reader", "type": "clusterrole"}, "md5sum": "5aacf6c1f4071e354c695b7d45fba43b", "mode": "0644", "owner": "root", "size": 319, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882614.3833268-691628-85319203167775/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:50:16 +0300 (0:00:18.318)       0:30:02.079 ********** 

TASK [kubernetes-apps/metrics_server : Metrics Server | Apply manifests] *******
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/auth-delegator.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882598.3416448-691628-277695663961265/source', 'md5sum': 'a2e49286b8bbafb52f97f0368ff89c43', 'checksum': '8cfc753862a1346516e9c5e042e0cf676f10b4fa', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 356, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882598.3416448-691628-277695663961265/source', 'dest': '/etc/kubernetes/addons/metrics_server/auth-delegator.yaml', 'mode': 420, 'follow': False, '_original_basename': 'auth-delegator.yaml.j2', 'checksum': '8cfc753862a1346516e9c5e042e0cf676f10b4fa', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'auth-delegator', 'file': 'auth-delegator.yaml', 'type': 'clusterrolebinding'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "8cfc753862a1346516e9c5e042e0cf676f10b4fa", "dest": "/etc/kubernetes/addons/metrics_server/auth-delegator.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "auth-delegator.yaml.j2", "attributes": null, "backup": false, "checksum": "8cfc753862a1346516e9c5e042e0cf676f10b4fa", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/auth-delegator.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882598.3416448-691628-277695663961265/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "auth-delegator.yaml", "name": "auth-delegator", "type": "clusterrolebinding"}, "md5sum": "a2e49286b8bbafb52f97f0368ff89c43", "mode": "0644", "owner": "root", "size": 356, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882598.3416448-691628-277695663961265/source", "state": "file", "uid": 0}, "msg": "success: clusterrolebinding.rbac.authorization.k8s.io/metrics-server:system:auth-delegator created"}
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/auth-reader.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882600.591569-691628-162656394379155/source', 'md5sum': 'a39930ff9d867fbf611179c50d3df238', 'checksum': 'b3996d26650d597868c364128e541469818f30c5', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 377, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882600.591569-691628-162656394379155/source', 'dest': '/etc/kubernetes/addons/metrics_server/auth-reader.yaml', 'mode': 420, 'follow': False, '_original_basename': 'auth-reader.yaml.j2', 'checksum': 'b3996d26650d597868c364128e541469818f30c5', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'auth-reader', 'file': 'auth-reader.yaml', 'type': 'rolebinding'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "b3996d26650d597868c364128e541469818f30c5", "dest": "/etc/kubernetes/addons/metrics_server/auth-reader.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "auth-reader.yaml.j2", "attributes": null, "backup": false, "checksum": "b3996d26650d597868c364128e541469818f30c5", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/auth-reader.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882600.591569-691628-162656394379155/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "auth-reader.yaml", "name": "auth-reader", "type": "rolebinding"}, "md5sum": "a39930ff9d867fbf611179c50d3df238", "mode": "0644", "owner": "root", "size": 377, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882600.591569-691628-162656394379155/source", "state": "file", "uid": 0}, "msg": "success: rolebinding.rbac.authorization.k8s.io/metrics-server-auth-reader created"}
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/metrics-server-sa.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882602.9282155-691628-70083622510270/source', 'md5sum': 'f00ec451a258e5b1e559d846372e5409', 'checksum': 'fe40a9b0eed0c5c27b769fe60501ebaf40feafb9', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 155, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882602.9282155-691628-70083622510270/source', 'dest': '/etc/kubernetes/addons/metrics_server/metrics-server-sa.yaml', 'mode': 420, 'follow': False, '_original_basename': 'metrics-server-sa.yaml.j2', 'checksum': 'fe40a9b0eed0c5c27b769fe60501ebaf40feafb9', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'metrics-server-sa', 'file': 'metrics-server-sa.yaml', 'type': 'sa'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "fe40a9b0eed0c5c27b769fe60501ebaf40feafb9", "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-sa.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "metrics-server-sa.yaml.j2", "attributes": null, "backup": false, "checksum": "fe40a9b0eed0c5c27b769fe60501ebaf40feafb9", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-sa.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882602.9282155-691628-70083622510270/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "metrics-server-sa.yaml", "name": "metrics-server-sa", "type": "sa"}, "md5sum": "f00ec451a258e5b1e559d846372e5409", "mode": "0644", "owner": "root", "size": 155, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882602.9282155-691628-70083622510270/source", "state": "file", "uid": 0}, "msg": "success: serviceaccount/metrics-server created"}
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/metrics-server-deployment.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882605.2516012-691628-10385855135635/source', 'md5sum': 'f195b0b73e6a08cf0e0fa506af005ce0', 'checksum': 'aa090f1565b054ea82149c558bfa543fde7f53cb', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 2795, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882605.2516012-691628-10385855135635/source', 'dest': '/etc/kubernetes/addons/metrics_server/metrics-server-deployment.yaml', 'mode': 420, 'follow': False, '_original_basename': 'metrics-server-deployment.yaml.j2', 'checksum': 'aa090f1565b054ea82149c558bfa543fde7f53cb', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'metrics-server-deployment', 'file': 'metrics-server-deployment.yaml', 'type': 'deploy'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "aa090f1565b054ea82149c558bfa543fde7f53cb", "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-deployment.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "metrics-server-deployment.yaml.j2", "attributes": null, "backup": false, "checksum": "aa090f1565b054ea82149c558bfa543fde7f53cb", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-deployment.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882605.2516012-691628-10385855135635/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "metrics-server-deployment.yaml", "name": "metrics-server-deployment", "type": "deploy"}, "md5sum": "f195b0b73e6a08cf0e0fa506af005ce0", "mode": "0644", "owner": "root", "size": 2795, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882605.2516012-691628-10385855135635/source", "state": "file", "uid": 0}, "msg": "success: deployment.apps/metrics-server created"}
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/metrics-server-service.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882607.543211-691628-89265248347848/source', 'md5sum': 'f7d491045015277ce9ed340a146b1686', 'checksum': '11587f8dea9295b1f158f96fbc1b6777d612466b', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 347, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882607.543211-691628-89265248347848/source', 'dest': '/etc/kubernetes/addons/metrics_server/metrics-server-service.yaml', 'mode': 420, 'follow': False, '_original_basename': 'metrics-server-service.yaml.j2', 'checksum': '11587f8dea9295b1f158f96fbc1b6777d612466b', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'metrics-server-service', 'file': 'metrics-server-service.yaml', 'type': 'service'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "11587f8dea9295b1f158f96fbc1b6777d612466b", "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-service.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "metrics-server-service.yaml.j2", "attributes": null, "backup": false, "checksum": "11587f8dea9295b1f158f96fbc1b6777d612466b", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/metrics-server-service.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882607.543211-691628-89265248347848/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "metrics-server-service.yaml", "name": "metrics-server-service", "type": "service"}, "md5sum": "f7d491045015277ce9ed340a146b1686", "mode": "0644", "owner": "root", "size": 347, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882607.543211-691628-89265248347848/source", "state": "file", "uid": 0}, "msg": "success: service/metrics-server created"}
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/metrics-apiservice.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882609.794894-691628-158292805637891/source', 'md5sum': 'ed1e6d9f13ca7c524245006a1f3f3a58', 'checksum': 'b19bf502a84bf126504527f20d46a74e55bbb5dd', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 346, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882609.794894-691628-158292805637891/source', 'dest': '/etc/kubernetes/addons/metrics_server/metrics-apiservice.yaml', 'mode': 420, 'follow': False, '_original_basename': 'metrics-apiservice.yaml.j2', 'checksum': 'b19bf502a84bf126504527f20d46a74e55bbb5dd', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'metrics-apiservice', 'file': 'metrics-apiservice.yaml', 'type': 'service'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "b19bf502a84bf126504527f20d46a74e55bbb5dd", "dest": "/etc/kubernetes/addons/metrics_server/metrics-apiservice.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "metrics-apiservice.yaml.j2", "attributes": null, "backup": false, "checksum": "b19bf502a84bf126504527f20d46a74e55bbb5dd", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/metrics-apiservice.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882609.794894-691628-158292805637891/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "metrics-apiservice.yaml", "name": "metrics-apiservice", "type": "service"}, "md5sum": "ed1e6d9f13ca7c524245006a1f3f3a58", "mode": "0644", "owner": "root", "size": 346, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882609.794894-691628-158292805637891/source", "state": "file", "uid": 0}, "msg": "success: apiservice.apiregistration.k8s.io/v1beta1.metrics.k8s.io created"}
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/resource-reader-clusterrolebinding.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882612.0242026-691628-98428787433170/source', 'md5sum': 'fcc1f0bb7c7242dad4ac63a46421ba0f', 'checksum': '8fa6f59e380e7cd19b24a7cda2873e459218c718', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 345, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882612.0242026-691628-98428787433170/source', 'dest': '/etc/kubernetes/addons/metrics_server/resource-reader-clusterrolebinding.yaml', 'mode': 420, 'follow': False, '_original_basename': 'resource-reader-clusterrolebinding.yaml.j2', 'checksum': '8fa6f59e380e7cd19b24a7cda2873e459218c718', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'resource-reader-clusterrolebinding', 'file': 'resource-reader-clusterrolebinding.yaml', 'type': 'clusterrolebinding'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "8fa6f59e380e7cd19b24a7cda2873e459218c718", "dest": "/etc/kubernetes/addons/metrics_server/resource-reader-clusterrolebinding.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "resource-reader-clusterrolebinding.yaml.j2", "attributes": null, "backup": false, "checksum": "8fa6f59e380e7cd19b24a7cda2873e459218c718", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/resource-reader-clusterrolebinding.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882612.0242026-691628-98428787433170/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "resource-reader-clusterrolebinding.yaml", "name": "resource-reader-clusterrolebinding", "type": "clusterrolebinding"}, "md5sum": "fcc1f0bb7c7242dad4ac63a46421ba0f", "mode": "0644", "owner": "root", "size": 345, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882612.0242026-691628-98428787433170/source", "state": "file", "uid": 0}, "msg": "success: clusterrolebinding.rbac.authorization.k8s.io/system:metrics-server created"}
ok: [master] => (item={'diff': [], 'dest': '/etc/kubernetes/addons/metrics_server/resource-reader.yaml', 'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882614.3833268-691628-85319203167775/source', 'md5sum': '5aacf6c1f4071e354c695b7d45fba43b', 'checksum': 'a9d1e097c908f01cce159a2e491f11493fdb6ee7', 'changed': True, 'uid': 0, 'gid': 0, 'owner': 'root', 'group': 'root', 'mode': '0644', 'state': 'file', 'size': 319, 'invocation': {'module_args': {'src': '/home/ubuntu/.ansible/tmp/ansible-tmp-1689882614.3833268-691628-85319203167775/source', 'dest': '/etc/kubernetes/addons/metrics_server/resource-reader.yaml', 'mode': 420, 'follow': False, '_original_basename': 'resource-reader.yaml.j2', 'checksum': 'a9d1e097c908f01cce159a2e491f11493fdb6ee7', 'backup': False, 'force': True, 'unsafe_writes': False, 'content': None, 'validate': None, 'directory_mode': None, 'remote_src': None, 'local_follow': None, 'owner': None, 'group': None, 'seuser': None, 'serole': None, 'selevel': None, 'setype': None, 'attributes': None}}, 'failed': False, 'item': {'name': 'resource-reader', 'file': 'resource-reader.yaml', 'type': 'clusterrole'}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": true, "checksum": "a9d1e097c908f01cce159a2e491f11493fdb6ee7", "dest": "/etc/kubernetes/addons/metrics_server/resource-reader.yaml", "diff": [], "failed": false, "gid": 0, "group": "root", "invocation": {"module_args": {"_original_basename": "resource-reader.yaml.j2", "attributes": null, "backup": false, "checksum": "a9d1e097c908f01cce159a2e491f11493fdb6ee7", "content": null, "dest": "/etc/kubernetes/addons/metrics_server/resource-reader.yaml", "directory_mode": null, "follow": false, "force": true, "group": null, "local_follow": null, "mode": 420, "owner": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882614.3833268-691628-85319203167775/source", "unsafe_writes": false, "validate": null}}, "item": {"file": "resource-reader.yaml", "name": "resource-reader", "type": "clusterrole"}, "md5sum": "5aacf6c1f4071e354c695b7d45fba43b", "mode": "0644", "owner": "root", "size": 319, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882614.3833268-691628-85319203167775/source", "state": "file", "uid": 0}, "msg": "success: clusterrole.rbac.authorization.k8s.io/system:metrics-server created"}
Четверг 20 июля 2023  22:50:29 +0300 (0:00:13.129)       0:30:15.209 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.026)       0:30:15.236 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.035)       0:30:15.271 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.017)       0:30:15.288 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.029)       0:30:15.318 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.018)       0:30:15.336 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.017)       0:30:15.354 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.034)       0:30:15.389 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.041)       0:30:15.430 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.028)       0:30:15.458 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.036)       0:30:15.494 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.017)       0:30:15.512 ********** 
Четверг 20 июля 2023  22:50:29 +0300 (0:00:00.017)       0:30:15.530 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.018)       0:30:15.548 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.033)       0:30:15.582 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.039)       0:30:15.621 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.017)       0:30:15.639 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.021)       0:30:15.661 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.018)       0:30:15.679 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.028)       0:30:15.708 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.036)       0:30:15.744 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.017)       0:30:15.762 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.017)       0:30:15.779 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.029)       0:30:15.809 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.044)       0:30:15.854 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.018)       0:30:15.872 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.019)       0:30:15.892 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.033)       0:30:15.925 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.036)       0:30:15.962 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.020)       0:30:15.982 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.026)       0:30:16.008 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.020)       0:30:16.029 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.025)       0:30:16.054 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.017)       0:30:16.072 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.024)       0:30:16.096 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.017)       0:30:16.114 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.025)       0:30:16.139 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.018)       0:30:16.157 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.026)       0:30:16.184 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.019)       0:30:16.204 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.024)       0:30:16.229 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.017)       0:30:16.246 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.031)       0:30:16.277 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.018)       0:30:16.296 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.037)       0:30:16.333 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.060)       0:30:16.394 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.023)       0:30:16.417 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.030)       0:30:16.448 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.019)       0:30:16.468 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.020)       0:30:16.489 ********** 
Четверг 20 июля 2023  22:50:30 +0300 (0:00:00.022)       0:30:16.511 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.028)       0:30:16.540 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:16.559 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:16.578 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.020)       0:30:16.599 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.027)       0:30:16.626 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:16.646 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.028)       0:30:16.674 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:16.694 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.033)       0:30:16.727 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.024)       0:30:16.751 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:16.770 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:16.788 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.021)       0:30:16.810 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.022)       0:30:16.833 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.036)       0:30:16.869 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:16.888 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:16.907 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.021)       0:30:16.928 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:16.946 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.021)       0:30:16.968 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:16.987 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.006 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.024 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.020)       0:30:17.045 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.063 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.082 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:17.101 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.119 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.021)       0:30:17.141 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.026)       0:30:17.167 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:17.186 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.205 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.020)       0:30:17.225 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.244 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.020)       0:30:17.264 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:17.283 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.022)       0:30:17.306 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:17.326 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:17.345 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.019)       0:30:17.364 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.383 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.402 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.421 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.023)       0:30:17.445 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.028)       0:30:17.473 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.491 ********** 
Четверг 20 июля 2023  22:50:31 +0300 (0:00:00.018)       0:30:17.510 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.028)       0:30:17.539 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.019)       0:30:17.558 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.019)       0:30:17.577 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.020)       0:30:17.598 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.021)       0:30:17.620 ********** 

PLAY [Apply resolv.conf changes now that cluster DNS is up] ********************
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.095)       0:30:17.715 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.046)       0:30:17.761 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.022)       0:30:17.784 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.019)       0:30:17.803 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.044)       0:30:17.848 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.043)       0:30:17.891 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.042)       0:30:17.933 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.050)       0:30:17.984 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.019)       0:30:18.004 ********** 
Четверг 20 июля 2023  22:50:32 +0300 (0:00:00.045)       0:30:18.049 ********** 
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.671)       0:30:18.721 ********** 

TASK [kubespray-defaults : Configure defaults] *********************************
ok: [master] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node1] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
ok: [node2] => {
    "msg": "Check roles/kubespray-defaults/defaults/main.yml"
}
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.071)       0:30:18.792 ********** 
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.031)       0:30:18.824 ********** 
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.019)       0:30:18.843 ********** 
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.048)       0:30:18.891 ********** 
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.021)       0:30:18.912 ********** 
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.043)       0:30:18.956 ********** 
Четверг 20 июля 2023  22:50:33 +0300 (0:00:00.058)       0:30:19.014 ********** 

TASK [adduser : User | Create User Group] **************************************
ok: [master] => {"changed": false, "gid": 998, "name": "kube-cert", "state": "present", "system": true}
ok: [node1] => {"changed": false, "gid": 998, "name": "kube-cert", "state": "present", "system": true}
ok: [node2] => {"changed": false, "gid": 998, "name": "kube-cert", "state": "present", "system": true}
Четверг 20 июля 2023  22:50:35 +0300 (0:00:01.781)       0:30:20.796 ********** 

TASK [adduser : User | Create User] ********************************************
ok: [node1] => {"append": false, "changed": false, "comment": "Kubernetes user", "group": 998, "home": "/home/kube", "move_home": false, "name": "kube", "shell": "/sbin/nologin", "state": "present", "uid": 998}
ok: [master] => {"append": false, "changed": false, "comment": "Kubernetes user", "group": 998, "home": "/home/kube", "move_home": false, "name": "kube", "shell": "/sbin/nologin", "state": "present", "uid": 998}
ok: [node2] => {"append": false, "changed": false, "comment": "Kubernetes user", "group": 998, "home": "/home/kube", "move_home": false, "name": "kube", "shell": "/sbin/nologin", "state": "present", "uid": 998}
Четверг 20 июля 2023  22:50:36 +0300 (0:00:01.311)       0:30:22.107 ********** 
Четверг 20 июля 2023  22:50:36 +0300 (0:00:00.048)       0:30:22.156 ********** 
Четверг 20 июля 2023  22:50:36 +0300 (0:00:00.042)       0:30:22.199 ********** 
Четверг 20 июля 2023  22:50:36 +0300 (0:00:00.044)       0:30:22.244 ********** 
Четверг 20 июля 2023  22:50:36 +0300 (0:00:00.042)       0:30:22.287 ********** 
Четверг 20 июля 2023  22:50:36 +0300 (0:00:00.042)       0:30:22.330 ********** 
Четверг 20 июля 2023  22:50:36 +0300 (0:00:00.042)       0:30:22.372 ********** 
Четверг 20 июля 2023  22:50:36 +0300 (0:00:00.050)       0:30:22.423 ********** 

TASK [kubernetes/preinstall : check if booted with ostree] *********************
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:50:37 +0300 (0:00:01.070)       0:30:23.493 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [node2] => {"backup": "", "changed": false, "msg": "line added"}
ok: [node1] => {"backup": "", "changed": false, "msg": "line added"}
ok: [master] => {"backup": "", "changed": false, "msg": "line added"}
Четверг 20 июля 2023  22:50:38 +0300 (0:00:01.022)       0:30:24.516 ********** 

TASK [kubernetes/preinstall : set is_fedora_coreos] ****************************
ok: [master] => {"ansible_facts": {"is_fedora_coreos": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"is_fedora_coreos": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"is_fedora_coreos": false}, "changed": false}
Четверг 20 июля 2023  22:50:39 +0300 (0:00:00.054)       0:30:24.570 ********** 

TASK [kubernetes/preinstall : check resolvconf] ********************************
ok: [node2] => {"changed": false, "cmd": ["which", "resolvconf"], "delta": "0:00:00.006539", "end": "2023-07-20 19:50:39.859660", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:50:39.853121", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node1] => {"changed": false, "cmd": ["which", "resolvconf"], "delta": "0:00:00.009596", "end": "2023-07-20 19:50:39.903147", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:50:39.893551", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [master] => {"changed": false, "cmd": ["which", "resolvconf"], "delta": "0:00:00.012524", "end": "2023-07-20 19:50:39.943360", "failed_when_result": false, "msg": "non-zero return code", "rc": 1, "start": "2023-07-20 19:50:39.930836", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:50:40 +0300 (0:00:01.041)       0:30:25.612 ********** 

TASK [kubernetes/preinstall : check existence of /etc/resolvconf/resolv.conf.d] ***
ok: [node1] => {"changed": false, "failed_when_result": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "failed_when_result": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "failed_when_result": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:50:41 +0300 (0:00:01.063)       0:30:26.676 ********** 

TASK [kubernetes/preinstall : check status of /etc/resolv.conf] ****************
ok: [node1] => {"changed": false, "failed_when_result": false, "stat": {"atime": 1689878888.396, "block_size": 4096, "blocks": 0, "ctime": 1671011749.425064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 135986, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/run/systemd/resolve/stub-resolv.conf", "lnk_target": "../run/systemd/resolve/stub-resolv.conf", "mode": "0777", "mtime": 1671011749.425064, "nlink": 1, "path": "/etc/resolv.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [node2] => {"changed": false, "failed_when_result": false, "stat": {"atime": 1689878898.612, "block_size": 4096, "blocks": 0, "ctime": 1671011749.425064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 135986, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/run/systemd/resolve/stub-resolv.conf", "lnk_target": "../run/systemd/resolve/stub-resolv.conf", "mode": "0777", "mtime": 1671011749.425064, "nlink": 1, "path": "/etc/resolv.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [master] => {"changed": false, "failed_when_result": false, "stat": {"atime": 1689878874.524, "block_size": 4096, "blocks": 0, "ctime": 1671011749.425064, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 135986, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": true, "isreg": false, "issock": false, "isuid": false, "lnk_source": "/run/systemd/resolve/stub-resolv.conf", "lnk_target": "../run/systemd/resolve/stub-resolv.conf", "mode": "0777", "mtime": 1671011749.425064, "nlink": 1, "path": "/etc/resolv.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39, "uid": 0, "wgrp": true, "woth": true, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:50:42 +0300 (0:00:01.067)       0:30:27.743 ********** 

TASK [kubernetes/preinstall : get content of /etc/resolv.conf] *****************
ok: [node1] => {"changed": false, "content": "IyBUaGlzIGZpbGUgaXMgbWFuYWdlZCBieSBtYW46c3lzdGVtZC1yZXNvbHZlZCg4KS4gRG8gbm90IGVkaXQuCiMKIyBUaGlzIGlzIGEgZHluYW1pYyByZXNvbHYuY29uZiBmaWxlIGZvciBjb25uZWN0aW5nIGxvY2FsIGNsaWVudHMgdG8gdGhlCiMgaW50ZXJuYWwgRE5TIHN0dWIgcmVzb2x2ZXIgb2Ygc3lzdGVtZC1yZXNvbHZlZC4gVGhpcyBmaWxlIGxpc3RzIGFsbAojIGNvbmZpZ3VyZWQgc2VhcmNoIGRvbWFpbnMuCiMKIyBSdW4gInJlc29sdmVjdGwgc3RhdHVzIiB0byBzZWUgZGV0YWlscyBhYm91dCB0aGUgdXBsaW5rIEROUyBzZXJ2ZXJzCiMgY3VycmVudGx5IGluIHVzZS4KIwojIFRoaXJkIHBhcnR5IHByb2dyYW1zIG11c3Qgbm90IGFjY2VzcyB0aGlzIGZpbGUgZGlyZWN0bHksIGJ1dCBvbmx5IHRocm91Z2ggdGhlCiMgc3ltbGluayBhdCAvZXRjL3Jlc29sdi5jb25mLiBUbyBtYW5hZ2UgbWFuOnJlc29sdi5jb25mKDUpIGluIGEgZGlmZmVyZW50IHdheSwKIyByZXBsYWNlIHRoaXMgc3ltbGluayBieSBhIHN0YXRpYyBmaWxlIG9yIGEgZGlmZmVyZW50IHN5bWxpbmsuCiMKIyBTZWUgbWFuOnN5c3RlbWQtcmVzb2x2ZWQuc2VydmljZSg4KSBmb3IgZGV0YWlscyBhYm91dCB0aGUgc3VwcG9ydGVkIG1vZGVzIG9mCiMgb3BlcmF0aW9uIGZvciAvZXRjL3Jlc29sdi5jb25mLgoKbmFtZXNlcnZlciAxMjcuMC4wLjUzCm9wdGlvbnMgZWRuczAgdHJ1c3QtYWQKc2VhcmNoIHJ1LWNlbnRyYWwxLmludGVybmFsIGF1dG8uaW50ZXJuYWwK", "encoding": "base64", "source": "/etc/resolv.conf"}
ok: [node2] => {"changed": false, "content": "IyBUaGlzIGZpbGUgaXMgbWFuYWdlZCBieSBtYW46c3lzdGVtZC1yZXNvbHZlZCg4KS4gRG8gbm90IGVkaXQuCiMKIyBUaGlzIGlzIGEgZHluYW1pYyByZXNvbHYuY29uZiBmaWxlIGZvciBjb25uZWN0aW5nIGxvY2FsIGNsaWVudHMgdG8gdGhlCiMgaW50ZXJuYWwgRE5TIHN0dWIgcmVzb2x2ZXIgb2Ygc3lzdGVtZC1yZXNvbHZlZC4gVGhpcyBmaWxlIGxpc3RzIGFsbAojIGNvbmZpZ3VyZWQgc2VhcmNoIGRvbWFpbnMuCiMKIyBSdW4gInJlc29sdmVjdGwgc3RhdHVzIiB0byBzZWUgZGV0YWlscyBhYm91dCB0aGUgdXBsaW5rIEROUyBzZXJ2ZXJzCiMgY3VycmVudGx5IGluIHVzZS4KIwojIFRoaXJkIHBhcnR5IHByb2dyYW1zIG11c3Qgbm90IGFjY2VzcyB0aGlzIGZpbGUgZGlyZWN0bHksIGJ1dCBvbmx5IHRocm91Z2ggdGhlCiMgc3ltbGluayBhdCAvZXRjL3Jlc29sdi5jb25mLiBUbyBtYW5hZ2UgbWFuOnJlc29sdi5jb25mKDUpIGluIGEgZGlmZmVyZW50IHdheSwKIyByZXBsYWNlIHRoaXMgc3ltbGluayBieSBhIHN0YXRpYyBmaWxlIG9yIGEgZGlmZmVyZW50IHN5bWxpbmsuCiMKIyBTZWUgbWFuOnN5c3RlbWQtcmVzb2x2ZWQuc2VydmljZSg4KSBmb3IgZGV0YWlscyBhYm91dCB0aGUgc3VwcG9ydGVkIG1vZGVzIG9mCiMgb3BlcmF0aW9uIGZvciAvZXRjL3Jlc29sdi5jb25mLgoKbmFtZXNlcnZlciAxMjcuMC4wLjUzCm9wdGlvbnMgZWRuczAgdHJ1c3QtYWQKc2VhcmNoIHJ1LWNlbnRyYWwxLmludGVybmFsIGF1dG8uaW50ZXJuYWwK", "encoding": "base64", "source": "/etc/resolv.conf"}
ok: [master] => {"changed": false, "content": "IyBUaGlzIGZpbGUgaXMgbWFuYWdlZCBieSBtYW46c3lzdGVtZC1yZXNvbHZlZCg4KS4gRG8gbm90IGVkaXQuCiMKIyBUaGlzIGlzIGEgZHluYW1pYyByZXNvbHYuY29uZiBmaWxlIGZvciBjb25uZWN0aW5nIGxvY2FsIGNsaWVudHMgdG8gdGhlCiMgaW50ZXJuYWwgRE5TIHN0dWIgcmVzb2x2ZXIgb2Ygc3lzdGVtZC1yZXNvbHZlZC4gVGhpcyBmaWxlIGxpc3RzIGFsbAojIGNvbmZpZ3VyZWQgc2VhcmNoIGRvbWFpbnMuCiMKIyBSdW4gInJlc29sdmVjdGwgc3RhdHVzIiB0byBzZWUgZGV0YWlscyBhYm91dCB0aGUgdXBsaW5rIEROUyBzZXJ2ZXJzCiMgY3VycmVudGx5IGluIHVzZS4KIwojIFRoaXJkIHBhcnR5IHByb2dyYW1zIG11c3Qgbm90IGFjY2VzcyB0aGlzIGZpbGUgZGlyZWN0bHksIGJ1dCBvbmx5IHRocm91Z2ggdGhlCiMgc3ltbGluayBhdCAvZXRjL3Jlc29sdi5jb25mLiBUbyBtYW5hZ2UgbWFuOnJlc29sdi5jb25mKDUpIGluIGEgZGlmZmVyZW50IHdheSwKIyByZXBsYWNlIHRoaXMgc3ltbGluayBieSBhIHN0YXRpYyBmaWxlIG9yIGEgZGlmZmVyZW50IHN5bWxpbmsuCiMKIyBTZWUgbWFuOnN5c3RlbWQtcmVzb2x2ZWQuc2VydmljZSg4KSBmb3IgZGV0YWlscyBhYm91dCB0aGUgc3VwcG9ydGVkIG1vZGVzIG9mCiMgb3BlcmF0aW9uIGZvciAvZXRjL3Jlc29sdi5jb25mLgoKbmFtZXNlcnZlciAxMjcuMC4wLjUzCm9wdGlvbnMgZWRuczAgdHJ1c3QtYWQKc2VhcmNoIHJ1LWNlbnRyYWwxLmludGVybmFsIGF1dG8uaW50ZXJuYWwK", "encoding": "base64", "source": "/etc/resolv.conf"}
Четверг 20 июля 2023  22:50:43 +0300 (0:00:01.030)       0:30:28.774 ********** 

TASK [kubernetes/preinstall : get currently configured nameservers] ************
ok: [master] => {"ansible_facts": {"configured_nameservers": ["127.0.0.53"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"configured_nameservers": ["127.0.0.53"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"configured_nameservers": ["127.0.0.53"]}, "changed": false}
Четверг 20 июля 2023  22:50:43 +0300 (0:00:00.089)       0:30:28.863 ********** 

TASK [kubernetes/preinstall : Stop if /etc/resolv.conf not configured nameservers] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node1] => {
    "changed": false,
    "msg": "All assertions passed"
}
ok: [node2] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:50:43 +0300 (0:00:00.056)       0:30:28.920 ********** 

TASK [kubernetes/preinstall : NetworkManager | Check if host has NetworkManager] ***
ok: [node1] => {"changed": false, "cmd": ["systemctl", "is-active", "--quiet", "NetworkManager.service"], "delta": "0:00:00.008479", "end": "2023-07-20 19:50:44.198007", "failed_when_result": false, "msg": "non-zero return code", "rc": 3, "start": "2023-07-20 19:50:44.189528", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [node2] => {"changed": false, "cmd": ["systemctl", "is-active", "--quiet", "NetworkManager.service"], "delta": "0:00:00.008254", "end": "2023-07-20 19:50:44.252871", "failed_when_result": false, "msg": "non-zero return code", "rc": 3, "start": "2023-07-20 19:50:44.244617", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
ok: [master] => {"changed": false, "cmd": ["systemctl", "is-active", "--quiet", "NetworkManager.service"], "delta": "0:00:00.026523", "end": "2023-07-20 19:50:44.371662", "failed_when_result": false, "msg": "non-zero return code", "rc": 3, "start": "2023-07-20 19:50:44.345139", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:50:44 +0300 (0:00:01.121)       0:30:30.041 ********** 

TASK [kubernetes/preinstall : check systemd-resolved] **************************
ok: [node1] => {"changed": false, "cmd": ["systemctl", "is-active", "systemd-resolved"], "delta": "0:00:00.007565", "end": "2023-07-20 19:50:45.286122", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:50:45.278557", "stderr": "", "stderr_lines": [], "stdout": "active", "stdout_lines": ["active"]}
ok: [node2] => {"changed": false, "cmd": ["systemctl", "is-active", "systemd-resolved"], "delta": "0:00:00.008117", "end": "2023-07-20 19:50:45.353805", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:50:45.345688", "stderr": "", "stderr_lines": [], "stdout": "active", "stdout_lines": ["active"]}
ok: [master] => {"changed": false, "cmd": ["systemctl", "is-active", "systemd-resolved"], "delta": "0:00:00.008733", "end": "2023-07-20 19:50:45.456179", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:50:45.447446", "stderr": "", "stderr_lines": [], "stdout": "active", "stdout_lines": ["active"]}
Четверг 20 июля 2023  22:50:45 +0300 (0:00:01.090)       0:30:31.132 ********** 

TASK [kubernetes/preinstall : set default dns if remove_default_searchdomains is false] ***
ok: [master] => {"ansible_facts": {"default_searchdomains": ["default.svc.cluster.local", "svc.cluster.local"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"default_searchdomains": ["default.svc.cluster.local", "svc.cluster.local"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"default_searchdomains": ["default.svc.cluster.local", "svc.cluster.local"]}, "changed": false}
Четверг 20 июля 2023  22:50:45 +0300 (0:00:00.055)       0:30:31.187 ********** 

TASK [kubernetes/preinstall : set dns facts] ***********************************
ok: [master] => {"ansible_facts": {"bogus_domains": "cluster.local.default.svc.cluster.local./default.svc.cluster.local.default.svc.cluster.local./com.default.svc.cluster.local./cluster.local.svc.cluster.local./svc.cluster.local.svc.cluster.local./com.svc.cluster.local./", "cloud_resolver": [], "resolvconf": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"bogus_domains": "cluster.local.default.svc.cluster.local./default.svc.cluster.local.default.svc.cluster.local./com.default.svc.cluster.local./cluster.local.svc.cluster.local./svc.cluster.local.svc.cluster.local./com.svc.cluster.local./", "cloud_resolver": [], "resolvconf": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"bogus_domains": "cluster.local.default.svc.cluster.local./default.svc.cluster.local.default.svc.cluster.local./com.default.svc.cluster.local./cluster.local.svc.cluster.local./svc.cluster.local.svc.cluster.local./com.svc.cluster.local./", "cloud_resolver": [], "resolvconf": false}, "changed": false}
Четверг 20 июля 2023  22:50:45 +0300 (0:00:00.055)       0:30:31.242 ********** 

TASK [kubernetes/preinstall : check if kubelet is configured] ******************
ok: [node1] => {"changed": false, "stat": {"atime": 1689881822.6934888, "block_size": 4096, "blocks": 8, "ctime": 1689881801.9935014, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 402447, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0640", "mtime": 1689881799.6455028, "nlink": 1, "path": "/etc/kubernetes/kubelet.env", "pw_name": "root", "readable": true, "rgrp": true, "roth": false, "rusr": true, "size": 549, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
ok: [node2] => {"changed": false, "stat": {"atime": 1689881822.8621635, "block_size": 4096, "blocks": 8, "ctime": 1689881802.1340885, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 402439, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0640", "mtime": 1689881799.8620803, "nlink": 1, "path": "/etc/kubernetes/kubelet.env", "pw_name": "root", "readable": true, "rgrp": true, "roth": false, "rusr": true, "size": 549, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
ok: [master] => {"changed": false, "stat": {"atime": 1689881822.78277, "block_size": 4096, "blocks": 8, "ctime": 1689881802.1627457, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 404766, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0640", "mtime": 1689881799.8587432, "nlink": 1, "path": "/etc/kubernetes/kubelet.env", "pw_name": "root", "readable": true, "rgrp": true, "roth": false, "rusr": true, "size": 550, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
Четверг 20 июля 2023  22:50:46 +0300 (0:00:01.051)       0:30:32.294 ********** 

TASK [kubernetes/preinstall : check if early DNS configuration stage] **********
ok: [master] => {"ansible_facts": {"dns_early": false}, "changed": false}
ok: [node1] => {"ansible_facts": {"dns_early": false}, "changed": false}
ok: [node2] => {"ansible_facts": {"dns_early": false}, "changed": false}
Четверг 20 июля 2023  22:50:46 +0300 (0:00:00.052)       0:30:32.347 ********** 

TASK [kubernetes/preinstall : target resolv.conf files] ************************
ok: [master] => {"ansible_facts": {"base": "", "head": "", "resolvconffile": "/etc/resolv.conf"}, "changed": false}
ok: [node1] => {"ansible_facts": {"base": "", "head": "", "resolvconffile": "/etc/resolv.conf"}, "changed": false}
ok: [node2] => {"ansible_facts": {"base": "", "head": "", "resolvconffile": "/etc/resolv.conf"}, "changed": false}
Четверг 20 июля 2023  22:50:46 +0300 (0:00:00.053)       0:30:32.400 ********** 
Четверг 20 июля 2023  22:50:46 +0300 (0:00:00.045)       0:30:32.445 ********** 

TASK [kubernetes/preinstall : check if /etc/dhclient.conf exists] **************
ok: [node1] => {"changed": false, "stat": {"exists": false}}
ok: [node2] => {"changed": false, "stat": {"exists": false}}
ok: [master] => {"changed": false, "stat": {"exists": false}}
Четверг 20 июля 2023  22:50:47 +0300 (0:00:01.020)       0:30:33.465 ********** 
Четверг 20 июля 2023  22:50:47 +0300 (0:00:00.044)       0:30:33.510 ********** 

TASK [kubernetes/preinstall : check if /etc/dhcp/dhclient.conf exists] *********
ok: [node1] => {"changed": false, "stat": {"atime": 1689880986.9591718, "block_size": 4096, "blocks": 8, "ctime": 1689880986.9591718, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 287843, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0644", "mtime": 1689880986.9591718, "nlink": 1, "path": "/etc/dhcp/dhclient.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1926, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
ok: [node2] => {"changed": false, "stat": {"atime": 1689880987.0416067, "block_size": 4096, "blocks": 8, "ctime": 1689880987.0416067, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 287847, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0644", "mtime": 1689880987.0416067, "nlink": 1, "path": "/etc/dhcp/dhclient.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1926, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
ok: [master] => {"changed": false, "stat": {"atime": 1689880987.8654766, "block_size": 4096, "blocks": 8, "ctime": 1689880987.8654766, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 287843, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0644", "mtime": 1689880987.8654766, "nlink": 1, "path": "/etc/dhcp/dhclient.conf", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1926, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
Четверг 20 июля 2023  22:50:48 +0300 (0:00:01.015)       0:30:34.526 ********** 

TASK [kubernetes/preinstall : target dhclient conf file for /etc/dhcp/dhclient.conf] ***
ok: [master] => {"ansible_facts": {"dhclientconffile": "/etc/dhcp/dhclient.conf"}, "changed": false}
ok: [node1] => {"ansible_facts": {"dhclientconffile": "/etc/dhcp/dhclient.conf"}, "changed": false}
ok: [node2] => {"ansible_facts": {"dhclientconffile": "/etc/dhcp/dhclient.conf"}, "changed": false}
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.057)       0:30:34.583 ********** 
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.043)       0:30:34.627 ********** 

TASK [kubernetes/preinstall : target dhclient hook file for Debian family] *****
ok: [master] => {"ansible_facts": {"dhclienthookfile": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate"}, "changed": false}
ok: [node1] => {"ansible_facts": {"dhclienthookfile": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate"}, "changed": false}
ok: [node2] => {"ansible_facts": {"dhclienthookfile": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate"}, "changed": false}
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.051)       0:30:34.678 ********** 

TASK [kubernetes/preinstall : generate search domains to resolvconf] ***********
ok: [master] => {"ansible_facts": {"domainentry": "domain cluster.local", "searchentries": "search default.svc.cluster.local svc.cluster.local", "supersede_domain": "supersede domain-name \"cluster.local\";", "supersede_search": "supersede domain-search \"default.svc.cluster.local\", \"svc.cluster.local\";"}, "changed": false}
ok: [node1] => {"ansible_facts": {"domainentry": "domain cluster.local", "searchentries": "search default.svc.cluster.local svc.cluster.local", "supersede_domain": "supersede domain-name \"cluster.local\";", "supersede_search": "supersede domain-search \"default.svc.cluster.local\", \"svc.cluster.local\";"}, "changed": false}
ok: [node2] => {"ansible_facts": {"domainentry": "domain cluster.local", "searchentries": "search default.svc.cluster.local svc.cluster.local", "supersede_domain": "supersede domain-name \"cluster.local\";", "supersede_search": "supersede domain-search \"default.svc.cluster.local\", \"svc.cluster.local\";"}, "changed": false}
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.054)       0:30:34.733 ********** 

TASK [kubernetes/preinstall : pick coredns cluster IP or default resolver] *****
ok: [master] => {"ansible_facts": {"coredns_server": ["10.233.0.3"]}, "changed": false}
ok: [node1] => {"ansible_facts": {"coredns_server": ["10.233.0.3"]}, "changed": false}
ok: [node2] => {"ansible_facts": {"coredns_server": ["10.233.0.3"]}, "changed": false}
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.127)       0:30:34.861 ********** 

TASK [kubernetes/preinstall : generate nameservers for resolvconf, including cluster DNS] ***
ok: [master] => {"ansible_facts": {"nameserverentries": "169.254.25.10,127.0.0.53", "supersede_nameserver": "supersede domain-name-servers 169.254.25.10;"}, "changed": false}
ok: [node1] => {"ansible_facts": {"nameserverentries": "169.254.25.10,127.0.0.53", "supersede_nameserver": "supersede domain-name-servers 169.254.25.10;"}, "changed": false}
ok: [node2] => {"ansible_facts": {"nameserverentries": "169.254.25.10,127.0.0.53", "supersede_nameserver": "supersede domain-name-servers 169.254.25.10;"}, "changed": false}
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.055)       0:30:34.916 ********** 
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.042)       0:30:34.958 ********** 

TASK [kubernetes/preinstall : gather os specific variables] ********************
ok: [master] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml) => {"ansible_facts": {"required_pkgs": ["python3-apt", "apt-transport-https", "software-properties-common", "conntrack", "apparmor", "libseccomp2"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml"}
ok: [node1] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml) => {"ansible_facts": {"required_pkgs": ["python3-apt", "apt-transport-https", "software-properties-common", "conntrack", "apparmor", "libseccomp2"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml"}
ok: [node2] => (item=/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml) => {"ansible_facts": {"required_pkgs": ["python3-apt", "apt-transport-https", "software-properties-common", "conntrack", "apparmor", "libseccomp2"]}, "ansible_included_var_files": ["/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/ubuntu.yml"], "ansible_loop_var": "item", "changed": false, "item": "/home/antigen/diplom/kubespray/roles/kubernetes/preinstall/vars/../vars/ubuntu.yml"}
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.064)       0:30:35.023 ********** 
Четверг 20 июля 2023  22:50:49 +0300 (0:00:00.041)       0:30:35.065 ********** 

TASK [kubernetes/preinstall : check /usr readonly] *****************************
ok: [node1] => {"changed": false, "stat": {"atime": 1689880682.9597368, "block_size": 4096, "blocks": 8, "ctime": 1671012218.0802448, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 62, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mode": "0755", "mtime": 1671012218.0802448, "nlink": 14, "path": "/usr", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [node2] => {"changed": false, "stat": {"atime": 1689880683.1281273, "block_size": 4096, "blocks": 8, "ctime": 1671012218.0802448, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 62, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mode": "0755", "mtime": 1671012218.0802448, "nlink": 14, "path": "/usr", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
ok: [master] => {"changed": false, "stat": {"atime": 1689880683.0251594, "block_size": 4096, "blocks": 8, "ctime": 1671012218.0802448, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 62, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mode": "0755", "mtime": 1671012218.0802448, "nlink": 14, "path": "/usr", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:50:50 +0300 (0:00:01.066)       0:30:36.132 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.045)       0:30:36.178 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.026)       0:30:36.204 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.019)       0:30:36.224 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.046)       0:30:36.270 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.042)       0:30:36.312 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.052)       0:30:36.364 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.050)       0:30:36.414 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.041)       0:30:36.456 ********** 
Четверг 20 июля 2023  22:50:50 +0300 (0:00:00.042)       0:30:36.498 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.042)       0:30:36.541 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.044)       0:30:36.586 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.046)       0:30:36.632 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.042)       0:30:36.675 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.042)       0:30:36.718 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.043)       0:30:36.762 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.048)       0:30:36.810 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.042)       0:30:36.853 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.040)       0:30:36.894 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.041)       0:30:36.935 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.114)       0:30:37.049 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.067 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.086 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.105 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.019)       0:30:37.124 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.143 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.161 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.180 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.198 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.046)       0:30:37.245 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.264 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.045)       0:30:37.309 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.327 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.018)       0:30:37.346 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.042)       0:30:37.388 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.047)       0:30:37.436 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.039)       0:30:37.476 ********** 
Четверг 20 июля 2023  22:50:51 +0300 (0:00:00.041)       0:30:37.517 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.018)       0:30:37.537 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.042)       0:30:37.579 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.046)       0:30:37.626 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.043)       0:30:37.670 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.061)       0:30:37.732 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.050)       0:30:37.782 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.049)       0:30:37.832 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.042)       0:30:37.874 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.053)       0:30:37.927 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.053)       0:30:37.981 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.045)       0:30:38.027 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.064)       0:30:38.091 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.085)       0:30:38.176 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.092)       0:30:38.269 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.044)       0:30:38.313 ********** 
Четверг 20 июля 2023  22:50:52 +0300 (0:00:00.044)       0:30:38.358 ********** 

TASK [kubernetes/preinstall : Write resolved.conf] *****************************
changed: [node1] => {"changed": true, "checksum": "9a78babd29d4e2749f09460b635e9de854bfa856", "dest": "/etc/systemd/resolved.conf", "gid": 0, "group": "root", "md5sum": "de4842c0654e57ad4bdf9bed594642d6", "mode": "0644", "owner": "root", "size": 126, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882652.9326632-694059-255375081405710/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "9a78babd29d4e2749f09460b635e9de854bfa856", "dest": "/etc/systemd/resolved.conf", "gid": 0, "group": "root", "md5sum": "de4842c0654e57ad4bdf9bed594642d6", "mode": "0644", "owner": "root", "size": 126, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882652.9623647-694061-185810319594935/source", "state": "file", "uid": 0}
changed: [master] => {"changed": true, "checksum": "9a78babd29d4e2749f09460b635e9de854bfa856", "dest": "/etc/systemd/resolved.conf", "gid": 0, "group": "root", "md5sum": "de4842c0654e57ad4bdf9bed594642d6", "mode": "0644", "owner": "root", "size": 126, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1689882652.9338415-694058-95701257329293/source", "state": "file", "uid": 0}
Четверг 20 июля 2023  22:50:55 +0300 (0:00:02.458)       0:30:40.816 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.044)       0:30:40.861 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.045)       0:30:40.907 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.042)       0:30:40.949 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.046)       0:30:40.996 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.044)       0:30:41.040 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.047)       0:30:41.088 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.047)       0:30:41.135 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.041)       0:30:41.177 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.041)       0:30:41.218 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.046)       0:30:41.264 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.043)       0:30:41.308 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.044)       0:30:41.352 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.042)       0:30:41.395 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.045)       0:30:41.440 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.042)       0:30:41.483 ********** 
Четверг 20 июля 2023  22:50:55 +0300 (0:00:00.041)       0:30:41.524 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.040)       0:30:41.565 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.046)       0:30:41.612 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.043)       0:30:41.655 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.044)       0:30:41.699 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.050)       0:30:41.749 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.046)       0:30:41.796 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.041)       0:30:41.837 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.041)       0:30:41.879 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.044)       0:30:41.924 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.047)       0:30:41.971 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.044)       0:30:42.016 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.045)       0:30:42.062 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.073)       0:30:42.135 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.051)       0:30:42.187 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.041)       0:30:42.228 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.041)       0:30:42.269 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.041)       0:30:42.311 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.047)       0:30:42.358 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.043)       0:30:42.401 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.041)       0:30:42.443 ********** 
Четверг 20 июля 2023  22:50:56 +0300 (0:00:00.042)       0:30:42.486 ********** 
Четверг 20 июля 2023  22:50:57 +0300 (0:00:00.047)       0:30:42.533 ********** 
Четверг 20 июля 2023  22:50:57 +0300 (0:00:00.042)       0:30:42.576 ********** 
Четверг 20 июля 2023  22:50:57 +0300 (0:00:00.046)       0:30:42.623 ********** 

TASK [kubernetes/preinstall : Hosts | create list from inventory] **************
ok: [master -> localhost] => {"ansible_facts": {"etc_hosts_inventory_block": "192.168.20.29 master.cluster.local master \n192.168.30.25 node1.cluster.local node1 \n192.168.10.20 node2.cluster.local node2 \n"}, "changed": false}
Четверг 20 июля 2023  22:50:57 +0300 (0:00:00.125)       0:30:42.748 ********** 

TASK [kubernetes/preinstall : Hosts | populate inventory into hosts file] ******
ok: [node1] => {"changed": false, "msg": ""}
ok: [node2] => {"changed": false, "msg": ""}
ok: [master] => {"changed": false, "msg": ""}
Четверг 20 июля 2023  22:50:58 +0300 (0:00:01.112)       0:30:43.860 ********** 
Четверг 20 июля 2023  22:50:58 +0300 (0:00:00.045)       0:30:43.906 ********** 

TASK [kubernetes/preinstall : Hosts | Retrieve hosts file content] *************
ok: [node1] => {"changed": false, "content": "IyBZb3VyIHN5c3RlbSBoYXMgY29uZmlndXJlZCAnbWFuYWdlX2V0Y19ob3N0cycgYXMgVHJ1ZS4KIyBBcyBhIHJlc3VsdCwgaWYgeW91IHdpc2ggZm9yIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHRvIHBlcnNpc3QKIyB0aGVuIHlvdSB3aWxsIG5lZWQgdG8gZWl0aGVyCiMgYS4pIG1ha2UgY2hhbmdlcyB0byB0aGUgbWFzdGVyIGZpbGUgaW4gL2V0Yy9jbG91ZC90ZW1wbGF0ZXMvaG9zdHMuZGViaWFuLnRtcGwKIyBiLikgY2hhbmdlIG9yIHJlbW92ZSB0aGUgdmFsdWUgb2YgJ21hbmFnZV9ldGNfaG9zdHMnIGluCiMgICAgIC9ldGMvY2xvdWQvY2xvdWQuY2ZnIG9yIGNsb3VkLWNvbmZpZyBmcm9tIHVzZXItZGF0YQojCjEyNy4wLjEuMSBjbDF1OGlkMzU3aTFkN3U3Nm8xaC1ld3VwLnJ1LWNlbnRyYWwxLmludGVybmFsIGNsMXU4aWQzNTdpMWQ3dTc2bzFoLWV3dXAKMTI3LjAuMC4xIGxvY2FsaG9zdCBsb2NhbGhvc3QubG9jYWxkb21haW4KCiMgVGhlIGZvbGxvd2luZyBsaW5lcyBhcmUgZGVzaXJhYmxlIGZvciBJUHY2IGNhcGFibGUgaG9zdHMKOjoxIGlwNi1sb2NhbGhvc3QgaXA2LWxvb3BiYWNrIGxvY2FsaG9zdDYgbG9jYWxob3N0Ni5sb2NhbGRvbWFpbgpmZjAyOjoxIGlwNi1hbGxub2RlcwpmZjAyOjoyIGlwNi1hbGxyb3V0ZXJzCgojIEFuc2libGUgaW52ZW50b3J5IGhvc3RzIEJFR0lOCjE5Mi4xNjguMjAuMjkgbWFzdGVyLmNsdXN0ZXIubG9jYWwgbWFzdGVyIAoxOTIuMTY4LjMwLjI1IG5vZGUxLmNsdXN0ZXIubG9jYWwgbm9kZTEgCjE5Mi4xNjguMTAuMjAgbm9kZTIuY2x1c3Rlci5sb2NhbCBub2RlMiAKIyBBbnNpYmxlIGludmVudG9yeSBob3N0cyBFTkQK", "encoding": "base64", "source": "/etc/hosts"}
ok: [node2] => {"changed": false, "content": "IyBZb3VyIHN5c3RlbSBoYXMgY29uZmlndXJlZCAnbWFuYWdlX2V0Y19ob3N0cycgYXMgVHJ1ZS4KIyBBcyBhIHJlc3VsdCwgaWYgeW91IHdpc2ggZm9yIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHRvIHBlcnNpc3QKIyB0aGVuIHlvdSB3aWxsIG5lZWQgdG8gZWl0aGVyCiMgYS4pIG1ha2UgY2hhbmdlcyB0byB0aGUgbWFzdGVyIGZpbGUgaW4gL2V0Yy9jbG91ZC90ZW1wbGF0ZXMvaG9zdHMuZGViaWFuLnRtcGwKIyBiLikgY2hhbmdlIG9yIHJlbW92ZSB0aGUgdmFsdWUgb2YgJ21hbmFnZV9ldGNfaG9zdHMnIGluCiMgICAgIC9ldGMvY2xvdWQvY2xvdWQuY2ZnIG9yIGNsb3VkLWNvbmZpZyBmcm9tIHVzZXItZGF0YQojCjEyNy4wLjEuMSBjbDF1OGlkMzU3aTFkN3U3Nm8xaC1hcWVrLnJ1LWNlbnRyYWwxLmludGVybmFsIGNsMXU4aWQzNTdpMWQ3dTc2bzFoLWFxZWsKMTI3LjAuMC4xIGxvY2FsaG9zdCBsb2NhbGhvc3QubG9jYWxkb21haW4KCiMgVGhlIGZvbGxvd2luZyBsaW5lcyBhcmUgZGVzaXJhYmxlIGZvciBJUHY2IGNhcGFibGUgaG9zdHMKOjoxIGlwNi1sb2NhbGhvc3QgaXA2LWxvb3BiYWNrIGxvY2FsaG9zdDYgbG9jYWxob3N0Ni5sb2NhbGRvbWFpbgpmZjAyOjoxIGlwNi1hbGxub2RlcwpmZjAyOjoyIGlwNi1hbGxyb3V0ZXJzCgojIEFuc2libGUgaW52ZW50b3J5IGhvc3RzIEJFR0lOCjE5Mi4xNjguMjAuMjkgbWFzdGVyLmNsdXN0ZXIubG9jYWwgbWFzdGVyIAoxOTIuMTY4LjMwLjI1IG5vZGUxLmNsdXN0ZXIubG9jYWwgbm9kZTEgCjE5Mi4xNjguMTAuMjAgbm9kZTIuY2x1c3Rlci5sb2NhbCBub2RlMiAKIyBBbnNpYmxlIGludmVudG9yeSBob3N0cyBFTkQK", "encoding": "base64", "source": "/etc/hosts"}
ok: [master] => {"changed": false, "content": "IyBZb3VyIHN5c3RlbSBoYXMgY29uZmlndXJlZCAnbWFuYWdlX2V0Y19ob3N0cycgYXMgVHJ1ZS4KIyBBcyBhIHJlc3VsdCwgaWYgeW91IHdpc2ggZm9yIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHRvIHBlcnNpc3QKIyB0aGVuIHlvdSB3aWxsIG5lZWQgdG8gZWl0aGVyCiMgYS4pIG1ha2UgY2hhbmdlcyB0byB0aGUgbWFzdGVyIGZpbGUgaW4gL2V0Yy9jbG91ZC90ZW1wbGF0ZXMvaG9zdHMuZGViaWFuLnRtcGwKIyBiLikgY2hhbmdlIG9yIHJlbW92ZSB0aGUgdmFsdWUgb2YgJ21hbmFnZV9ldGNfaG9zdHMnIGluCiMgICAgIC9ldGMvY2xvdWQvY2xvdWQuY2ZnIG9yIGNsb3VkLWNvbmZpZyBmcm9tIHVzZXItZGF0YQojCjEyNy4wLjEuMSBjbDF1OGlkMzU3aTFkN3U3Nm8xaC1laG93LnJ1LWNlbnRyYWwxLmludGVybmFsIGNsMXU4aWQzNTdpMWQ3dTc2bzFoLWVob3cKMTI3LjAuMC4xIGxvY2FsaG9zdCBsb2NhbGhvc3QubG9jYWxkb21haW4KCiMgVGhlIGZvbGxvd2luZyBsaW5lcyBhcmUgZGVzaXJhYmxlIGZvciBJUHY2IGNhcGFibGUgaG9zdHMKOjoxIGlwNi1sb2NhbGhvc3QgaXA2LWxvb3BiYWNrIGxvY2FsaG9zdDYgbG9jYWxob3N0Ni5sb2NhbGRvbWFpbgpmZjAyOjoxIGlwNi1hbGxub2RlcwpmZjAyOjoyIGlwNi1hbGxyb3V0ZXJzCgojIEFuc2libGUgaW52ZW50b3J5IGhvc3RzIEJFR0lOCjE5Mi4xNjguMjAuMjkgbWFzdGVyLmNsdXN0ZXIubG9jYWwgbWFzdGVyIAoxOTIuMTY4LjMwLjI1IG5vZGUxLmNsdXN0ZXIubG9jYWwgbm9kZTEgCjE5Mi4xNjguMTAuMjAgbm9kZTIuY2x1c3Rlci5sb2NhbCBub2RlMiAKIyBBbnNpYmxlIGludmVudG9yeSBob3N0cyBFTkQK", "encoding": "base64", "source": "/etc/hosts"}
Четверг 20 июля 2023  22:50:59 +0300 (0:00:01.027)       0:30:44.934 ********** 

TASK [kubernetes/preinstall : Hosts | Extract existing entries for localhost from hosts file] ***
ok: [master] => (item=127.0.0.1 localhost localhost.localdomain) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["localhost", "ip6-localhost", "ip6-loopback"]}}, "ansible_loop_var": "item", "changed": false, "item": "127.0.0.1 localhost localhost.localdomain"}
ok: [node1] => (item=127.0.0.1 localhost localhost.localdomain) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["localhost", "ip6-localhost", "ip6-loopback"]}}, "ansible_loop_var": "item", "changed": false, "item": "127.0.0.1 localhost localhost.localdomain"}
ok: [node2] => (item=127.0.0.1 localhost localhost.localdomain) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["localhost", "ip6-localhost", "ip6-loopback"]}}, "ansible_loop_var": "item", "changed": false, "item": "127.0.0.1 localhost localhost.localdomain"}
ok: [master] => (item=::1 ip6-localhost ip6-loopback localhost6 localhost6.localdomain) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": "::1 ip6-localhost ip6-loopback localhost6 localhost6.localdomain"}
ok: [node2] => (item=::1 ip6-localhost ip6-loopback localhost6 localhost6.localdomain) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": "::1 ip6-localhost ip6-loopback localhost6 localhost6.localdomain"}
ok: [node1] => (item=::1 ip6-localhost ip6-loopback localhost6 localhost6.localdomain) => {"ansible_facts": {"etc_hosts_localhosts_dict": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": "::1 ip6-localhost ip6-loopback localhost6 localhost6.localdomain"}
Четверг 20 июля 2023  22:50:59 +0300 (0:00:00.243)       0:30:45.178 ********** 

TASK [kubernetes/preinstall : Hosts | Update target hosts file entries dict with required entries] ***
ok: [master] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "127.0.0.1", "value": {"expected": ["localhost", "localhost.localdomain"]}}}
ok: [master] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "::1", "value": {"expected": ["localhost6", "localhost6.localdomain"], "unexpected": ["localhost", "localhost.localdomain"]}}}
ok: [node1] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "127.0.0.1", "value": {"expected": ["localhost", "localhost.localdomain"]}}}
ok: [node1] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "::1", "value": {"expected": ["localhost6", "localhost6.localdomain"], "unexpected": ["localhost", "localhost.localdomain"]}}}
ok: [node2] => (item={'key': '127.0.0.1', 'value': {'expected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "127.0.0.1", "value": {"expected": ["localhost", "localhost.localdomain"]}}}
ok: [node2] => (item={'key': '::1', 'value': {'expected': ['localhost6', 'localhost6.localdomain'], 'unexpected': ['localhost', 'localhost.localdomain']}}) => {"ansible_facts": {"etc_hosts_localhosts_dict_target": {"127.0.0.1": ["localhost", "localhost.localdomain"], "::1": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}}, "ansible_loop_var": "item", "changed": false, "item": {"key": "::1", "value": {"expected": ["localhost6", "localhost6.localdomain"], "unexpected": ["localhost", "localhost.localdomain"]}}}
Четверг 20 июля 2023  22:50:59 +0300 (0:00:00.084)       0:30:45.262 ********** 

TASK [kubernetes/preinstall : Hosts | Update (if necessary) hosts file] ********
ok: [node2] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']}) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": {"key": "127.0.0.1", "value": ["localhost", "localhost.localdomain"]}, "msg": ""}
ok: [node1] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']}) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": {"key": "127.0.0.1", "value": ["localhost", "localhost.localdomain"]}, "msg": ""}
ok: [master] => (item={'key': '127.0.0.1', 'value': ['localhost', 'localhost.localdomain']}) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": {"key": "127.0.0.1", "value": ["localhost", "localhost.localdomain"]}, "msg": ""}
ok: [node1] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']}) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": {"key": "::1", "value": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}, "msg": ""}
ok: [node2] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']}) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": {"key": "::1", "value": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}, "msg": ""}
ok: [master] => (item={'key': '::1', 'value': ['ip6-localhost', 'ip6-loopback', 'localhost6', 'localhost6.localdomain']}) => {"ansible_loop_var": "item", "backup": "", "changed": false, "item": {"key": "::1", "value": ["ip6-localhost", "ip6-loopback", "localhost6", "localhost6.localdomain"]}, "msg": ""}
Четверг 20 июля 2023  22:51:01 +0300 (0:00:02.170)       0:30:47.433 ********** 
Четверг 20 июля 2023  22:51:01 +0300 (0:00:00.045)       0:30:47.478 ********** 

TASK [kubernetes/preinstall : Configure dhclient to supersede search/domain/nameservers] ***
changed: [node1] => {"backup_file": "/etc/dhcp/dhclient.conf.21251.2023-07-20@19:51:02~", "changed": true, "msg": "Block inserted"}
changed: [node2] => {"backup_file": "/etc/dhcp/dhclient.conf.21103.2023-07-20@19:51:02~", "changed": true, "msg": "Block inserted"}
changed: [master] => {"backup_file": "/etc/dhcp/dhclient.conf.27863.2023-07-20@19:51:02~", "changed": true, "msg": "Block inserted"}
Четверг 20 июля 2023  22:51:03 +0300 (0:00:01.104)       0:30:48.582 ********** 

TASK [kubernetes/preinstall : Configure dhclient hooks for resolv.conf (non-RH)] ***
ok: [node1] => {"changed": false, "checksum": "42487a7578c70a6e24da7b9a3ead98a3374e71ad", "dest": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "size": 456, "state": "file", "uid": 0}
ok: [node2] => {"changed": false, "checksum": "42487a7578c70a6e24da7b9a3ead98a3374e71ad", "dest": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "size": 456, "state": "file", "uid": 0}
ok: [master] => {"changed": false, "checksum": "42487a7578c70a6e24da7b9a3ead98a3374e71ad", "dest": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/dhcp/dhclient-exit-hooks.d/zdnsupdate", "size": 456, "state": "file", "uid": 0}
Четверг 20 июля 2023  22:51:05 +0300 (0:00:01.957)       0:30:50.540 ********** 
Четверг 20 июля 2023  22:51:05 +0300 (0:00:00.053)       0:30:50.594 ********** 
Четверг 20 июля 2023  22:51:05 +0300 (0:00:00.047)       0:30:50.641 ********** 
Четверг 20 июля 2023  22:51:05 +0300 (0:00:00.046)       0:30:50.688 ********** 
Четверг 20 июля 2023  22:51:05 +0300 (0:00:00.000)       0:30:50.688 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | propagate resolvconf to k8s components] ***
changed: [node1] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.003831", "end": "2023-07-20 19:51:05.982110", "msg": "", "rc": 0, "start": "2023-07-20 19:51:05.978279", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [master] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.014514", "end": "2023-07-20 19:51:06.117753", "msg": "", "rc": 0, "start": "2023-07-20 19:51:06.103239", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"changed": true, "cmd": ["/bin/true"], "delta": "0:00:00.004063", "end": "2023-07-20 19:51:08.082416", "msg": "", "rc": 0, "start": "2023-07-20 19:51:08.078353", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
Четверг 20 июля 2023  22:51:08 +0300 (0:00:03.035)       0:30:53.723 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | reload kubelet] **********
changed: [node1] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ActiveEnterTimestampMonotonic": "3612211593", "ActiveExitTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ActiveExitTimestampMonotonic": "3612161713", "ActiveState": "active", "After": "systemd-journald.socket containerd.service basic.target system.slice sysinit.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:48:09 UTC", "AssertTimestampMonotonic": "3612206525", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ConditionTimestampMonotonic": "3612206524", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "18382", "ExecMainStartTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ExecMainStartTimestampMonotonic": "3612210718", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[Thu 2023-07-20 19:48:09 UTC] ; stop_time=[n/a] ; pid=18382 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[Thu 2023-07-20 19:48:09 UTC] ; stop_time=[n/a] ; pid=18382 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:48:09 UTC", "InactiveEnterTimestampMonotonic": "3612204886", "InactiveExitTimestamp": "Thu 2023-07-20 19:48:09 UTC", "InactiveExitTimestampMonotonic": "3612211593", "InvocationID": "4e539ea8b3ca49b7a52e3c57dfc99ec9", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "18382", "MemoryAccounting": "yes", "MemoryCurrent": "43094016", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:48:09 UTC", "StateChangeTimestampMonotonic": "3612211593", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "11", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [node2] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ActiveEnterTimestampMonotonic": "3602414934", "ActiveExitTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ActiveExitTimestampMonotonic": "3602340238", "ActiveState": "active", "After": "systemd-journald.socket sysinit.target containerd.service basic.target system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:48:09 UTC", "AssertTimestampMonotonic": "3602409260", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ConditionTimestampMonotonic": "3602409259", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "17503", "ExecMainStartTimestamp": "Thu 2023-07-20 19:48:09 UTC", "ExecMainStartTimestampMonotonic": "3602414270", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[Thu 2023-07-20 19:48:09 UTC] ; stop_time=[n/a] ; pid=17503 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[Thu 2023-07-20 19:48:09 UTC] ; stop_time=[n/a] ; pid=17503 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:48:09 UTC", "InactiveEnterTimestampMonotonic": "3602407717", "InactiveExitTimestamp": "Thu 2023-07-20 19:48:09 UTC", "InactiveExitTimestampMonotonic": "3602414934", "InvocationID": "7512c4ae59834cdd875fad624a3dfb0a", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "17503", "MemoryAccounting": "yes", "MemoryCurrent": "41025536", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:48:09 UTC", "StateChangeTimestampMonotonic": "3602414934", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "13", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [master] => {"changed": true, "name": "kubelet", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:38:31 UTC", "ActiveEnterTimestampMonotonic": "3049586285", "ActiveExitTimestamp": "Thu 2023-07-20 19:38:31 UTC", "ActiveExitTimestampMonotonic": "3049528105", "ActiveState": "active", "After": "systemd-journald.socket basic.target sysinit.target containerd.service system.slice", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:38:31 UTC", "AssertTimestampMonotonic": "3049583211", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:38:31 UTC", "ConditionTimestampMonotonic": "3049583211", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/kubelet.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Kubernetes Kubelet Server", "DevicePolicy": "auto", "Documentation": "https://github.com/GoogleCloudPlatform/kubernetes", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/kubernetes/kubelet.env (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "18099", "ExecMainStartTimestamp": "Thu 2023-07-20 19:38:31 UTC", "ExecMainStartTimestampMonotonic": "3049585734", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; ignore_errors=no ; start_time=[Thu 2023-07-20 19:38:31 UTC] ; stop_time=[n/a] ; pid=18099 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/local/bin/kubelet ; argv[]=/usr/local/bin/kubelet $KUBE_LOGTOSTDERR $KUBE_LOG_LEVEL $KUBELET_API_SERVER $KUBELET_ADDRESS $KUBELET_PORT $KUBELET_HOSTNAME $KUBELET_ARGS $DOCKER_SOCKET $KUBELET_NETWORK_PLUGIN $KUBELET_VOLUME_PLUGIN $KUBELET_CLOUDPROVIDER ; flags= ; start_time=[Thu 2023-07-20 19:38:31 UTC] ; stop_time=[n/a] ; pid=18099 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/etc/systemd/system/kubelet.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "kubelet.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:38:31 UTC", "InactiveEnterTimestampMonotonic": "3049581761", "InactiveExitTimestamp": "Thu 2023-07-20 19:38:31 UTC", "InactiveExitTimestampMonotonic": "3049586285", "InvocationID": "afb6edcece4b4153b57fb86dba549581", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "18099", "MemoryAccounting": "yes", "MemoryCurrent": "54898688", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "kubelet.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "10s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:38:31 UTC", "StateChangeTimestampMonotonic": "3049586285", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "11", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "simple", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
Четверг 20 июля 2023  22:51:09 +0300 (0:00:01.555)       0:30:55.279 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-apiserver configured] ***
ok: [master] => {"changed": false, "stat": {"atime": 1689881854.8868072, "block_size": 4096, "blocks": 16, "ctime": 1689881854.718807, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 292347, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0600", "mtime": 1689881854.718807, "nlink": 1, "path": "/etc/kubernetes/manifests/kube-apiserver.yaml", "pw_name": "root", "readable": true, "rgrp": false, "roth": false, "rusr": true, "size": 4479, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
Четверг 20 июля 2023  22:51:11 +0300 (0:00:01.320)       0:30:56.600 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | kube-controller configured] ***
ok: [master] => {"changed": false, "stat": {"atime": 1689881854.8988073, "block_size": 4096, "blocks": 8, "ctime": 1689881854.718807, "dev": 64514, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 292348, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mode": "0600", "mtime": 1689881854.718807, "nlink": 1, "path": "/etc/kubernetes/manifests/kube-controller-manager.yaml", "pw_name": "root", "readable": true, "rgrp": false, "roth": false, "rusr": true, "size": 3608, "uid": 0, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}
Четверг 20 июля 2023  22:51:12 +0300 (0:00:01.119)       0:30:57.719 ********** 
Четверг 20 июля 2023  22:51:12 +0300 (0:00:00.042)       0:30:57.762 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | restart kube-controller-manager crio/containerd] ***
changed: [master] => {"attempts": 1, "changed": true, "cmd": "/usr/local/bin/crictl pods --name kube-controller-manager* -q | xargs -I% --no-run-if-empty bash -c '/usr/local/bin/crictl stopp % && /usr/local/bin/crictl rmp %'", "delta": "0:00:01.278071", "end": "2023-07-20 19:51:14.500127", "msg": "", "rc": 0, "start": "2023-07-20 19:51:13.222056", "stderr": "", "stderr_lines": [], "stdout": "Stopped sandbox ad62e45f0f52ed58bcee39992bd2bea48f250bb4541323135578a9416dc5eac1\nRemoved sandbox ad62e45f0f52ed58bcee39992bd2bea48f250bb4541323135578a9416dc5eac1", "stdout_lines": ["Stopped sandbox ad62e45f0f52ed58bcee39992bd2bea48f250bb4541323135578a9416dc5eac1", "Removed sandbox ad62e45f0f52ed58bcee39992bd2bea48f250bb4541323135578a9416dc5eac1"]}
Четверг 20 июля 2023  22:51:14 +0300 (0:00:02.410)       0:31:00.173 ********** 
Четверг 20 июля 2023  22:51:14 +0300 (0:00:00.041)       0:31:00.215 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | restart kube-apiserver crio/containerd] ***
changed: [master] => {"attempts": 1, "changed": true, "cmd": "/usr/local/bin/crictl pods --name kube-apiserver* -q | xargs -I% --no-run-if-empty bash -c '/usr/local/bin/crictl stopp % && /usr/local/bin/crictl rmp %'", "delta": "0:00:00.892349", "end": "2023-07-20 19:51:16.607602", "msg": "", "rc": 0, "start": "2023-07-20 19:51:15.715253", "stderr": "", "stderr_lines": [], "stdout": "Stopped sandbox 8d018d30e760aaf9270c807bbb6b3edf78c2af76311d8d35925835583cdab8a1\nRemoved sandbox 8d018d30e760aaf9270c807bbb6b3edf78c2af76311d8d35925835583cdab8a1", "stdout_lines": ["Stopped sandbox 8d018d30e760aaf9270c807bbb6b3edf78c2af76311d8d35925835583cdab8a1", "Removed sandbox 8d018d30e760aaf9270c807bbb6b3edf78c2af76311d8d35925835583cdab8a1"]}
Четверг 20 июля 2023  22:51:16 +0300 (0:00:02.065)       0:31:02.280 ********** 
FAILED - RETRYING: [master]: Preinstall | wait for the apiserver to be running (60 retries left).
FAILED - RETRYING: [master]: Preinstall | wait for the apiserver to be running (59 retries left).
FAILED - RETRYING: [master]: Preinstall | wait for the apiserver to be running (58 retries left).

RUNNING HANDLER [kubernetes/preinstall : Preinstall | wait for the apiserver to be running] ***
ok: [master] => {"attempts": 4, "audit_id": "0274cbc6-877c-4ff4-8508-3fb52414ad9e", "cache_control": "no-cache, private", "changed": false, "connection": "close", "content_length": "2", "content_type": "text/plain; charset=utf-8", "cookies": {}, "cookies_string": "", "date": "Thu, 20 Jul 2023 19:51:29 GMT", "elapsed": 0, "msg": "OK (2 bytes)", "redirected": false, "status": 200, "url": "https://127.0.0.1:6443/healthz", "x_content_type_options": "nosniff", "x_kubernetes_pf_flowschema_uid": "f5e9ad60-9468-4850-b9ac-ef7fee15b19e", "x_kubernetes_pf_prioritylevel_uid": "fa0a4ae0-bd1f-4fa4-b0ee-9fd0e286e88f"}
Четверг 20 июля 2023  22:51:29 +0300 (0:00:13.216)       0:31:15.497 ********** 

RUNNING HANDLER [kubernetes/preinstall : Preinstall | Restart systemd-resolved] ***
changed: [node2] => {"changed": true, "name": "systemd-resolved", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ActiveEnterTimestampMonotonic": "2109870654", "ActiveExitTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ActiveExitTimestampMonotonic": "2109761143", "ActiveState": "active", "After": "systemd-tmpfiles-setup.service systemd-sysusers.service systemd-networkd.service systemd-journald.socket system.slice -.mount", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "cap_setpcap cap_net_bind_service cap_net_raw", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:23:17 UTC", "AssertTimestampMonotonic": "2109768348", "Before": "nss-lookup.target network.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_setpcap cap_net_bind_service cap_net_raw", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ConditionTimestampMonotonic": "2109768347", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/systemd-resolved.service", "ControlPID": "0", "DefaultDependencies": "no", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Network Name Resolution", "DevicePolicy": "closed", "Documentation": "man:systemd-resolved.service(8) https://www.freedesktop.org/wiki/Software/systemd/resolved https://www.freedesktop.org/wiki/Software/systemd/writing-network-configuration-managers https://www.freedesktop.org/wiki/Software/systemd/writing-resolver-clients", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "9324", "ExecMainStartTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ExecMainStartTimestampMonotonic": "2109770293", "ExecMainStatus": "0", "ExecStart": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; flags=ambient ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/systemd-resolved.service", "GID": "103", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "systemd-resolved.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:23:17 UTC", "InactiveEnterTimestampMonotonic": "2109767066", "InactiveExitTimestamp": "Thu 2023-07-20 19:23:17 UTC", "InactiveExitTimestampMonotonic": "2109770915", "InvocationID": "57a04ff5e7e44c49b6d83cffe0b3a819", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "yes", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "9324", "MemoryAccounting": "yes", "MemoryCurrent": "5267456", "MemoryDenyWriteExecute": "yes", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "dbus-org.freedesktop.resolve1.service systemd-resolved.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "yes", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "yes", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "yes", "PrivateUsers": "no", "ProtectControlGroups": "yes", "ProtectHome": "yes", "ProtectHostname": "no", "ProtectKernelLogs": "yes", "ProtectKernelModules": "yes", "ProtectKernelTunables": "yes", "ProtectSystem": "strict", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "-.mount system.slice", "RequiresMountsFor": "/var/tmp /run/systemd/resolve /tmp", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "0", "RestrictAddressFamilies": "AF_INET AF_INET6 AF_NETLINK AF_UNIX", "RestrictNamespaces": "yes", "RestrictRealtime": "yes", "RestrictSUIDSGID": "yes", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "systemd/resolve", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "yes", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:23:17 UTC", "StateChangeTimestampMonotonic": "2109870654", "StateDirectoryMode": "0755", "StatusErrno": "0", "StatusText": "Processing requests...", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallArchitectures": "native", "SystemCallErrorNumber": "1", "SystemCallFilter": "_llseek _newselect accept accept4 access add_key alarm arch_prctl bind brk capget capset chdir chmod chown chown32 clock_getres clock_getres_time64 clock_gettime clock_gettime64 clock_nanosleep clock_nanosleep_time64 clone clone3 close connect copy_file_range creat dup dup2 dup3 epoll_create epoll_create1 epoll_ctl epoll_ctl_old epoll_pwait epoll_wait epoll_wait_old eventfd eventfd2 execve execveat exit exit_group faccessat faccessat2 fadvise64 fadvise64_64 fallocate fchdir fchmod fchmodat fchown fchown32 fchownat fcntl fcntl64 fdatasync fgetxattr flistxattr flock fork fremovexattr fsetxattr fstat fstat64 fstatat64 fstatfs fstatfs64 fsync ftruncate ftruncate64 futex futex_time64 futimesat get_mempolicy get_robust_list get_thread_area getcpu getcwd getdents getdents64 getegid getegid32 geteuid geteuid32 getgid getgid32 getgroups getgroups32 getitimer getpeername getpgid getpgrp getpid getppid getpriority getrandom getresgid getresgid32 getresuid getresuid32 getrlimit getrusage getsid getsockname getsockopt gettid gettimeofday getuid getuid32 getxattr inotify_add_watch inotify_init inotify_init1 inotify_rm_watch io_cancel io_destroy io_getevents io_pgetevents io_pgetevents_time64 io_setup io_submit io_uring_enter io_uring_register io_uring_setup ioctl ioprio_get ioprio_set ipc kcmp keyctl kill lchown lchown32 lgetxattr link linkat listen listxattr llistxattr lremovexattr lseek lsetxattr lstat lstat64 madvise mbind membarrier memfd_create migrate_pages mkdir mkdirat mknod mknodat mlock mlock2 mlockall mmap mmap2 move_pages mprotect mq_getsetattr mq_notify mq_open mq_timedreceive mq_timedreceive_time64 mq_timedsend mq_timedsend_time64 mq_unlink mremap msgctl msgget msgrcv msgsnd msync munlock munlockall munmap name_to_handle_at nanosleep newfstatat nice oldfstat oldlstat oldolduname oldstat olduname open openat openat2 pause personality pidfd_open pidfd_send_signal pipe pipe2 poll ppoll ppoll_time64 prctl pread64 preadv preadv2 prlimit64 process_vm_readv process_vm_writev pselect6 pselect6_time64 pwrite64 pwritev pwritev2 read readahead readdir readlink readlinkat readv recv recvfrom recvmmsg recvmmsg_time64 recvmsg remap_file_pages removexattr rename renameat renameat2 request_key restart_syscall rmdir rseq rt_sigaction rt_sigpending rt_sigprocmask rt_sigqueueinfo rt_sigreturn rt_sigsuspend rt_sigtimedwait rt_sigtimedwait_time64 rt_tgsigqueueinfo sched_get_priority_max sched_get_priority_min sched_getaffinity sched_getattr sched_getparam sched_getscheduler sched_rr_get_interval sched_rr_get_interval_time64 sched_setaffinity sched_setattr sched_setparam sched_setscheduler sched_yield select semctl semget semop semtimedop semtimedop_time64 send sendfile sendfile64 sendmmsg sendmsg sendto set_mempolicy set_robust_list set_thread_area set_tid_address set_tls setfsgid setfsgid32 setfsuid setfsuid32 setgid setgid32 setgroups setgroups32 setitimer setns setpgid setpriority setregid setregid32 setresgid setresgid32 setresuid setresuid32 setreuid setreuid32 setrlimit setsid setsockopt setuid setuid32 setxattr shmat shmctl shmdt shmget shutdown sigaction sigaltstack signal signalfd signalfd4 sigpending sigprocmask sigreturn sigsuspend socket socketcall socketpair splice stat stat64 statfs statfs64 statx swapcontext symlink symlinkat sync sync_file_range sync_file_range2 syncfs sysinfo tee tgkill time timer_create timer_delete timer_getoverrun timer_gettime timer_gettime64 timer_settime timer_settime64 timerfd_create timerfd_gettime timerfd_gettime64 timerfd_settime timerfd_settime64 times tkill truncate truncate64 ugetrlimit umask uname unlink unlinkat unshare userfaultfd utime utimensat utimensat_time64 utimes vfork vmsplice wait4 waitid waitpid write writev", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "101", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "User": "systemd-resolve", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "nss-lookup.target", "WatchdogSignal": "6", "WatchdogTimestamp": "Thu 2023-07-20 19:50:23 UTC", "WatchdogTimestampMonotonic": "3735858943", "WatchdogUSec": "3min"}}
changed: [node1] => {"changed": true, "name": "systemd-resolved", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ActiveEnterTimestampMonotonic": "2119623227", "ActiveExitTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ActiveExitTimestampMonotonic": "2119500962", "ActiveState": "active", "After": "-.mount systemd-sysusers.service systemd-tmpfiles-setup.service system.slice systemd-journald.socket systemd-networkd.service", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "cap_setpcap cap_net_bind_service cap_net_raw", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:23:17 UTC", "AssertTimestampMonotonic": "2119512593", "Before": "nss-lookup.target shutdown.target network.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_setpcap cap_net_bind_service cap_net_raw", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ConditionTimestampMonotonic": "2119512592", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/systemd-resolved.service", "ControlPID": "0", "DefaultDependencies": "no", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Network Name Resolution", "DevicePolicy": "closed", "Documentation": "man:systemd-resolved.service(8) https://www.freedesktop.org/wiki/Software/systemd/resolved https://www.freedesktop.org/wiki/Software/systemd/writing-network-configuration-managers https://www.freedesktop.org/wiki/Software/systemd/writing-resolver-clients", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "9514", "ExecMainStartTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ExecMainStartTimestampMonotonic": "2119514554", "ExecMainStatus": "0", "ExecStart": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; flags=ambient ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/systemd-resolved.service", "GID": "103", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "systemd-resolved.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:23:17 UTC", "InactiveEnterTimestampMonotonic": "2119510980", "InactiveExitTimestamp": "Thu 2023-07-20 19:23:17 UTC", "InactiveExitTimestampMonotonic": "2119515636", "InvocationID": "fe97918e0676472fb49fbe7165bfeda8", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "yes", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "9514", "MemoryAccounting": "yes", "MemoryCurrent": "5226496", "MemoryDenyWriteExecute": "yes", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "dbus-org.freedesktop.resolve1.service systemd-resolved.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "yes", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "yes", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "yes", "PrivateUsers": "no", "ProtectControlGroups": "yes", "ProtectHome": "yes", "ProtectHostname": "no", "ProtectKernelLogs": "yes", "ProtectKernelModules": "yes", "ProtectKernelTunables": "yes", "ProtectSystem": "strict", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice -.mount", "RequiresMountsFor": "/var/tmp /run/systemd/resolve /tmp", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "0", "RestrictAddressFamilies": "AF_INET AF_INET6 AF_NETLINK AF_UNIX", "RestrictNamespaces": "yes", "RestrictRealtime": "yes", "RestrictSUIDSGID": "yes", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "systemd/resolve", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "yes", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:23:17 UTC", "StateChangeTimestampMonotonic": "2119623227", "StateDirectoryMode": "0755", "StatusErrno": "0", "StatusText": "Processing requests...", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallArchitectures": "native", "SystemCallErrorNumber": "1", "SystemCallFilter": "_llseek _newselect accept accept4 access add_key alarm arch_prctl bind brk capget capset chdir chmod chown chown32 clock_getres clock_getres_time64 clock_gettime clock_gettime64 clock_nanosleep clock_nanosleep_time64 clone clone3 close connect copy_file_range creat dup dup2 dup3 epoll_create epoll_create1 epoll_ctl epoll_ctl_old epoll_pwait epoll_wait epoll_wait_old eventfd eventfd2 execve execveat exit exit_group faccessat faccessat2 fadvise64 fadvise64_64 fallocate fchdir fchmod fchmodat fchown fchown32 fchownat fcntl fcntl64 fdatasync fgetxattr flistxattr flock fork fremovexattr fsetxattr fstat fstat64 fstatat64 fstatfs fstatfs64 fsync ftruncate ftruncate64 futex futex_time64 futimesat get_mempolicy get_robust_list get_thread_area getcpu getcwd getdents getdents64 getegid getegid32 geteuid geteuid32 getgid getgid32 getgroups getgroups32 getitimer getpeername getpgid getpgrp getpid getppid getpriority getrandom getresgid getresgid32 getresuid getresuid32 getrlimit getrusage getsid getsockname getsockopt gettid gettimeofday getuid getuid32 getxattr inotify_add_watch inotify_init inotify_init1 inotify_rm_watch io_cancel io_destroy io_getevents io_pgetevents io_pgetevents_time64 io_setup io_submit io_uring_enter io_uring_register io_uring_setup ioctl ioprio_get ioprio_set ipc kcmp keyctl kill lchown lchown32 lgetxattr link linkat listen listxattr llistxattr lremovexattr lseek lsetxattr lstat lstat64 madvise mbind membarrier memfd_create migrate_pages mkdir mkdirat mknod mknodat mlock mlock2 mlockall mmap mmap2 move_pages mprotect mq_getsetattr mq_notify mq_open mq_timedreceive mq_timedreceive_time64 mq_timedsend mq_timedsend_time64 mq_unlink mremap msgctl msgget msgrcv msgsnd msync munlock munlockall munmap name_to_handle_at nanosleep newfstatat nice oldfstat oldlstat oldolduname oldstat olduname open openat openat2 pause personality pidfd_open pidfd_send_signal pipe pipe2 poll ppoll ppoll_time64 prctl pread64 preadv preadv2 prlimit64 process_vm_readv process_vm_writev pselect6 pselect6_time64 pwrite64 pwritev pwritev2 read readahead readdir readlink readlinkat readv recv recvfrom recvmmsg recvmmsg_time64 recvmsg remap_file_pages removexattr rename renameat renameat2 request_key restart_syscall rmdir rseq rt_sigaction rt_sigpending rt_sigprocmask rt_sigqueueinfo rt_sigreturn rt_sigsuspend rt_sigtimedwait rt_sigtimedwait_time64 rt_tgsigqueueinfo sched_get_priority_max sched_get_priority_min sched_getaffinity sched_getattr sched_getparam sched_getscheduler sched_rr_get_interval sched_rr_get_interval_time64 sched_setaffinity sched_setattr sched_setparam sched_setscheduler sched_yield select semctl semget semop semtimedop semtimedop_time64 send sendfile sendfile64 sendmmsg sendmsg sendto set_mempolicy set_robust_list set_thread_area set_tid_address set_tls setfsgid setfsgid32 setfsuid setfsuid32 setgid setgid32 setgroups setgroups32 setitimer setns setpgid setpriority setregid setregid32 setresgid setresgid32 setresuid setresuid32 setreuid setreuid32 setrlimit setsid setsockopt setuid setuid32 setxattr shmat shmctl shmdt shmget shutdown sigaction sigaltstack signal signalfd signalfd4 sigpending sigprocmask sigreturn sigsuspend socket socketcall socketpair splice stat stat64 statfs statfs64 statx swapcontext symlink symlinkat sync sync_file_range sync_file_range2 syncfs sysinfo tee tgkill time timer_create timer_delete timer_getoverrun timer_gettime timer_gettime64 timer_settime timer_settime64 timerfd_create timerfd_gettime timerfd_gettime64 timerfd_settime timerfd_settime64 times tkill truncate truncate64 ugetrlimit umask uname unlink unlinkat unshare userfaultfd utime utimensat utimensat_time64 utimes vfork vmsplice wait4 waitid waitpid write writev", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "101", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "User": "systemd-resolve", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "nss-lookup.target", "WatchdogSignal": "6", "WatchdogTimestamp": "Thu 2023-07-20 19:50:24 UTC", "WatchdogTimestampMonotonic": "3746405799", "WatchdogUSec": "3min"}}
changed: [master] => {"changed": true, "name": "systemd-resolved", "state": "started", "status": {"ActiveEnterTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ActiveEnterTimestampMonotonic": "2134999265", "ActiveExitTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ActiveExitTimestampMonotonic": "2134879247", "ActiveState": "active", "After": "systemd-journald.socket systemd-sysusers.service -.mount systemd-tmpfiles-setup.service system.slice systemd-networkd.service", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "cap_setpcap cap_net_bind_service cap_net_raw", "AssertResult": "yes", "AssertTimestamp": "Thu 2023-07-20 19:23:17 UTC", "AssertTimestampMonotonic": "2134891161", "Before": "shutdown.target nss-lookup.target network.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_setpcap cap_net_bind_service cap_net_raw", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ConditionTimestampMonotonic": "2134891160", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/systemd-resolved.service", "ControlPID": "0", "DefaultDependencies": "no", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "Network Name Resolution", "DevicePolicy": "closed", "Documentation": "man:systemd-resolved.service(8) https://www.freedesktop.org/wiki/Software/systemd/resolved https://www.freedesktop.org/wiki/Software/systemd/writing-network-configuration-managers https://www.freedesktop.org/wiki/Software/systemd/writing-resolver-clients", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "9583", "ExecMainStartTimestamp": "Thu 2023-07-20 19:23:17 UTC", "ExecMainStartTimestampMonotonic": "2134893339", "ExecMainStatus": "0", "ExecStart": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/lib/systemd/systemd-resolved ; argv[]=/lib/systemd/systemd-resolved ; flags=ambient ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/systemd-resolved.service", "GID": "103", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "systemd-resolved.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Thu 2023-07-20 19:23:17 UTC", "InactiveEnterTimestampMonotonic": "2134889706", "InactiveExitTimestamp": "Thu 2023-07-20 19:23:17 UTC", "InactiveExitTimestampMonotonic": "2134893998", "InvocationID": "bfe96a25cf694e2c93f98a163dc8444a", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7645", "LimitNPROCSoft": "7645", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7645", "LimitSIGPENDINGSoft": "7645", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "yes", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "9583", "MemoryAccounting": "yes", "MemoryCurrent": "5246976", "MemoryDenyWriteExecute": "yes", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "systemd-resolved.service dbus-org.freedesktop.resolve1.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "yes", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "yes", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "yes", "PrivateUsers": "no", "ProtectControlGroups": "yes", "ProtectHome": "yes", "ProtectHostname": "no", "ProtectKernelLogs": "yes", "ProtectKernelModules": "yes", "ProtectKernelTunables": "yes", "ProtectSystem": "strict", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice -.mount", "RequiresMountsFor": "/run/systemd/resolve /var/tmp /tmp", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "0", "RestrictAddressFamilies": "AF_INET AF_INET6 AF_NETLINK AF_UNIX", "RestrictNamespaces": "yes", "RestrictRealtime": "yes", "RestrictSUIDSGID": "yes", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "systemd/resolve", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "yes", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Thu 2023-07-20 19:23:17 UTC", "StateChangeTimestampMonotonic": "2134999265", "StateDirectoryMode": "0755", "StatusErrno": "0", "StatusText": "Processing requests...", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallArchitectures": "native", "SystemCallErrorNumber": "1", "SystemCallFilter": "_llseek _newselect accept accept4 access add_key alarm arch_prctl bind brk capget capset chdir chmod chown chown32 clock_getres clock_getres_time64 clock_gettime clock_gettime64 clock_nanosleep clock_nanosleep_time64 clone clone3 close connect copy_file_range creat dup dup2 dup3 epoll_create epoll_create1 epoll_ctl epoll_ctl_old epoll_pwait epoll_wait epoll_wait_old eventfd eventfd2 execve execveat exit exit_group faccessat faccessat2 fadvise64 fadvise64_64 fallocate fchdir fchmod fchmodat fchown fchown32 fchownat fcntl fcntl64 fdatasync fgetxattr flistxattr flock fork fremovexattr fsetxattr fstat fstat64 fstatat64 fstatfs fstatfs64 fsync ftruncate ftruncate64 futex futex_time64 futimesat get_mempolicy get_robust_list get_thread_area getcpu getcwd getdents getdents64 getegid getegid32 geteuid geteuid32 getgid getgid32 getgroups getgroups32 getitimer getpeername getpgid getpgrp getpid getppid getpriority getrandom getresgid getresgid32 getresuid getresuid32 getrlimit getrusage getsid getsockname getsockopt gettid gettimeofday getuid getuid32 getxattr inotify_add_watch inotify_init inotify_init1 inotify_rm_watch io_cancel io_destroy io_getevents io_pgetevents io_pgetevents_time64 io_setup io_submit io_uring_enter io_uring_register io_uring_setup ioctl ioprio_get ioprio_set ipc kcmp keyctl kill lchown lchown32 lgetxattr link linkat listen listxattr llistxattr lremovexattr lseek lsetxattr lstat lstat64 madvise mbind membarrier memfd_create migrate_pages mkdir mkdirat mknod mknodat mlock mlock2 mlockall mmap mmap2 move_pages mprotect mq_getsetattr mq_notify mq_open mq_timedreceive mq_timedreceive_time64 mq_timedsend mq_timedsend_time64 mq_unlink mremap msgctl msgget msgrcv msgsnd msync munlock munlockall munmap name_to_handle_at nanosleep newfstatat nice oldfstat oldlstat oldolduname oldstat olduname open openat openat2 pause personality pidfd_open pidfd_send_signal pipe pipe2 poll ppoll ppoll_time64 prctl pread64 preadv preadv2 prlimit64 process_vm_readv process_vm_writev pselect6 pselect6_time64 pwrite64 pwritev pwritev2 read readahead readdir readlink readlinkat readv recv recvfrom recvmmsg recvmmsg_time64 recvmsg remap_file_pages removexattr rename renameat renameat2 request_key restart_syscall rmdir rseq rt_sigaction rt_sigpending rt_sigprocmask rt_sigqueueinfo rt_sigreturn rt_sigsuspend rt_sigtimedwait rt_sigtimedwait_time64 rt_tgsigqueueinfo sched_get_priority_max sched_get_priority_min sched_getaffinity sched_getattr sched_getparam sched_getscheduler sched_rr_get_interval sched_rr_get_interval_time64 sched_setaffinity sched_setattr sched_setparam sched_setscheduler sched_yield select semctl semget semop semtimedop semtimedop_time64 send sendfile sendfile64 sendmmsg sendmsg sendto set_mempolicy set_robust_list set_thread_area set_tid_address set_tls setfsgid setfsgid32 setfsuid setfsuid32 setgid setgid32 setgroups setgroups32 setitimer setns setpgid setpriority setregid setregid32 setresgid setresgid32 setresuid setresuid32 setreuid setreuid32 setrlimit setsid setsockopt setuid setuid32 setxattr shmat shmctl shmdt shmget shutdown sigaction sigaltstack signal signalfd signalfd4 sigpending sigprocmask sigreturn sigsuspend socket socketcall socketpair splice stat stat64 statfs statfs64 statx swapcontext symlink symlinkat sync sync_file_range sync_file_range2 syncfs sysinfo tee tgkill time timer_create timer_delete timer_getoverrun timer_gettime timer_gettime64 timer_settime timer_settime64 timerfd_create timerfd_gettime timerfd_gettime64 timerfd_settime timerfd_settime64 times tkill truncate truncate64 ugetrlimit umask uname unlink unlinkat unshare userfaultfd utime utimensat utimensat_time64 utimes vfork vmsplice wait4 waitid waitpid write writev", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2293", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "101", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "User": "systemd-resolve", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "nss-lookup.target", "WatchdogSignal": "6", "WatchdogTimestamp": "Thu 2023-07-20 19:50:24 UTC", "WatchdogTimestampMonotonic": "3761752688", "WatchdogUSec": "3min"}}
Четверг 20 июля 2023  22:51:31 +0300 (0:00:02.006)       0:31:17.503 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.043)       0:31:17.547 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.044)       0:31:17.592 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.043)       0:31:17.636 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.047)       0:31:17.683 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.044)       0:31:17.728 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.042)       0:31:17.770 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.040)       0:31:17.811 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.048)       0:31:17.860 ********** 

TASK [Run calico checks] *******************************************************
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.233)       0:31:18.093 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip)] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.133)       0:31:18.227 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (ipip_mode)] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.036)       0:31:18.264 ********** 

TASK [network_plugin/calico : Stop if legacy encapsulation variables are detected (calcio_ipam_autoallocateblocks)] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.034)       0:31:18.299 ********** 
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.026)       0:31:18.325 ********** 

TASK [network_plugin/calico : Stop if supported Calico versions] ***************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:32 +0300 (0:00:00.039)       0:31:18.365 ********** 

TASK [network_plugin/calico : Check if calicoctl.sh exists] ********************
ok: [master] => {"changed": false, "stat": {"atime": 1689882399.9473863, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 8, "charset": "us-ascii", "checksum": "80849706cc7fd83e5d38364f1f00cd0ce675dab4", "ctime": 1689882398.8993852, "dev": 64514, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 404792, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "text/x-shellscript", "mode": "0755", "mtime": 1689882397.9833844, "nlink": 1, "path": "/usr/local/bin/calicoctl.sh", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 135, "uid": 0, "version": "1033182768", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}
Четверг 20 июля 2023  22:51:33 +0300 (0:00:00.425)       0:31:18.791 ********** 

TASK [network_plugin/calico : Check if calico ready] ***************************
changed: [master] => {"attempts": 1, "changed": true, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "ClusterInformation", "default"], "delta": "0:00:00.298991", "end": "2023-07-20 19:51:33.840320", "msg": "", "rc": 0, "start": "2023-07-20 19:51:33.541329", "stderr": "", "stderr_lines": [], "stdout": "NAME      CLUSTERGUID                        CLUSTERTYPE                 CALICOVERSION   DATASTOREREADY   \ndefault   198f0ae7ac004ad4a78ac6347db512f1   kubespray,kubeadm,kdd,k8s   v3.25.1         true             ", "stdout_lines": ["NAME      CLUSTERGUID                        CLUSTERTYPE                 CALICOVERSION   DATASTOREREADY   ", "default   198f0ae7ac004ad4a78ac6347db512f1   kubespray,kubeadm,kdd,k8s   v3.25.1         true             "]}
Четверг 20 июля 2023  22:51:33 +0300 (0:00:00.640)       0:31:19.431 ********** 

TASK [network_plugin/calico : Get current calico version] **********************
ok: [master] => {"changed": false, "cmd": "set -o pipefail && /usr/local/bin/calicoctl.sh version | grep 'Client Version:' | awk '{ print $3}'", "delta": "0:00:00.185057", "end": "2023-07-20 19:51:34.416466", "msg": "", "rc": 0, "start": "2023-07-20 19:51:34.231409", "stderr": "", "stderr_lines": [], "stdout": "v3.25.1", "stdout_lines": ["v3.25.1"]}
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.577)       0:31:20.009 ********** 

TASK [network_plugin/calico : Assert that current calico version is enough for upgrade] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.038)       0:31:20.048 ********** 
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.027)       0:31:20.075 ********** 
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.025)       0:31:20.101 ********** 

TASK [network_plugin/calico : Check vars defined correctly] ********************
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.035)       0:31:20.137 ********** 

TASK [network_plugin/calico : Check calico network backend defined correctly] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.037)       0:31:20.174 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode defined correctly] *****
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.037)       0:31:20.212 ********** 
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.026)       0:31:20.238 ********** 

TASK [network_plugin/calico : Check ipip and vxlan mode if simultaneously enabled] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:34 +0300 (0:00:00.037)       0:31:20.275 ********** 

TASK [network_plugin/calico : Get Calico default-pool configuration] ***********
ok: [master] => {"changed": false, "cmd": ["/usr/local/bin/calicoctl.sh", "get", "ipPool", "default-pool", "-o", "json"], "delta": "0:00:00.109128", "end": "2023-07-20 19:51:35.219547", "failed_when_result": false, "msg": "", "rc": 0, "start": "2023-07-20 19:51:35.110419", "stderr": "", "stderr_lines": [], "stdout": "{\n  \"kind\": \"IPPool\",\n  \"apiVersion\": \"projectcalico.org/v3\",\n  \"metadata\": {\n    \"name\": \"default-pool\",\n    \"uid\": \"a7eb0c74-d741-44ff-abb3-2816d8f98508\",\n    \"resourceVersion\": \"1424\",\n    \"creationTimestamp\": \"2023-07-20T19:46:50Z\"\n  },\n  \"spec\": {\n    \"cidr\": \"10.233.64.0/18\",\n    \"vxlanMode\": \"Always\",\n    \"ipipMode\": \"Never\",\n    \"natOutgoing\": true,\n    \"blockSize\": 26,\n    \"nodeSelector\": \"all()\",\n    \"allowedUses\": [\n      \"Workload\",\n      \"Tunnel\"\n    ]\n  }\n}", "stdout_lines": ["{", "  \"kind\": \"IPPool\",", "  \"apiVersion\": \"projectcalico.org/v3\",", "  \"metadata\": {", "    \"name\": \"default-pool\",", "    \"uid\": \"a7eb0c74-d741-44ff-abb3-2816d8f98508\",", "    \"resourceVersion\": \"1424\",", "    \"creationTimestamp\": \"2023-07-20T19:46:50Z\"", "  },", "  \"spec\": {", "    \"cidr\": \"10.233.64.0/18\",", "    \"vxlanMode\": \"Always\",", "    \"ipipMode\": \"Never\",", "    \"natOutgoing\": true,", "    \"blockSize\": 26,", "    \"nodeSelector\": \"all()\",", "    \"allowedUses\": [", "      \"Workload\",", "      \"Tunnel\"", "    ]", "  }", "}"]}
Четверг 20 июля 2023  22:51:35 +0300 (0:00:00.536)       0:31:20.811 ********** 

TASK [network_plugin/calico : Set calico_pool_conf] ****************************
ok: [master] => {"ansible_facts": {"calico_pool_conf": {"apiVersion": "projectcalico.org/v3", "kind": "IPPool", "metadata": {"creationTimestamp": "2023-07-20T19:46:50Z", "name": "default-pool", "resourceVersion": "1424", "uid": "a7eb0c74-d741-44ff-abb3-2816d8f98508"}, "spec": {"allowedUses": ["Workload", "Tunnel"], "blockSize": 26, "cidr": "10.233.64.0/18", "ipipMode": "Never", "natOutgoing": true, "nodeSelector": "all()", "vxlanMode": "Always"}}}, "changed": false}
Четверг 20 июля 2023  22:51:35 +0300 (0:00:00.036)       0:31:20.848 ********** 

TASK [network_plugin/calico : Check if inventory match current cluster configuration] ***
ok: [master] => {
    "changed": false,
    "msg": "All assertions passed"
}
Четверг 20 июля 2023  22:51:35 +0300 (0:00:00.043)       0:31:20.891 ********** 
Четверг 20 июля 2023  22:51:35 +0300 (0:00:00.025)       0:31:20.917 ********** 
Четверг 20 июля 2023  22:51:35 +0300 (0:00:00.027)       0:31:20.944 ********** 

PLAY RECAP *********************************************************************
localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
master                     : ok=781  changed=151  unreachable=0    failed=0    skipped=1275 rescued=0    ignored=7   
node1                      : ok=509  changed=87   unreachable=0    failed=0    skipped=776  rescued=0    ignored=0   
node2                      : ok=509  changed=87   unreachable=0    failed=0    skipped=775  rescued=0    ignored=0   

Четверг 20 июля 2023  22:51:35 +0300 (0:00:00.064)       0:31:21.009 ********** 
=============================================================================== 
kubernetes/kubeadm : Join to cluster ---------------------------------- 434.93s
kubernetes/preinstall : Install packages requirements ------------------ 51.07s
network_plugin/calico : Wait for calico kubeconfig to be created ------- 40.91s
download : download_container | Download image if required ------------- 26.35s
kubernetes-apps/ansible : Kubernetes Apps | Lay Down CoreDNS templates -- 26.21s
kubernetes/control-plane : kubeadm | Initialize first master ----------- 22.48s
download : download_container | Download image if required ------------- 22.19s
kubernetes-apps/ansible : Kubernetes Apps | Start Resources ------------ 21.51s
download : download_container | Download image if required ------------- 20.27s
download : download_container | Download image if required ------------- 20.03s
kubernetes-apps/metrics_server : Metrics Server | Create manifests ----- 18.32s
kubernetes/node : Enable bridge-nf-call tables ------------------------- 13.91s
network_plugin/calico : Calico | Create calico manifests --------------- 13.41s
kubernetes/preinstall : Preinstall | wait for the apiserver to be running -- 13.22s
kubernetes-apps/metrics_server : Metrics Server | Apply manifests ------ 13.13s
download : download_container | Download image if required ------------- 13.00s
download : download_container | Download image if required ------------- 12.51s
download : download_container | Download image if required ------------- 11.56s
download : download_container | Download image if required ------------- 11.43s
kubernetes/node : Modprobe Kernel Module for IPVS ---------------------- 10.99s
